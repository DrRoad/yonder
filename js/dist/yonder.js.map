{"version":3,"file":"yonder.js","sources":["../src/errors/input.js","../src/data/store.js","../src/inputs/input.js","../src/utils/index.js","../src/inputs/button-group.js","../src/inputs/button.js","../src/inputs/checkbar.js","../src/inputs/menu.js","../src/inputs/nav.js","../src/inputs/radio.js","../src/index.js"],"sourcesContent":["class InputError extends Error {\n  constructor(code, message) {\n    const full = message ? `${ code }: ${ message }` : code;\n    super(full);\n\n    this.name = code;\n    this.message = full;\n  }\n}\n\nexport default InputError;\n","const dataStore = (() => {\n  const storeData = {};\n  let id = 1;\n\n  return {\n    set(element, key, data) {\n      if (typeof element.key === \"undefined\") {\n        element.key = {\n          key,\n          id\n        };\n        id++;\n      };\n\n      storeData[element.key.id] = data;\n    },\n    get(element, key) {\n      if (!element || typeof element.key === \"undefined\") {\n        return null;\n      }\n\n      const keyProperties = element.key;\n      if (keyProperties.key === key) {\n        return storeData[keyProperties.id];\n      }\n\n      return null;\n    },\n    delete(element, key) {\n      if (typeof element.key === \"undefined\") {\n        return;\n      }\n\n      const keyProperties = element.key;\n      if (keyProperties.key === key) {\n        delete storeData[keyProperties.id];\n        delete element.key;\n      }\n    }\n  };\n})();\n\nconst Store = {\n  setData(instance, key, data) {\n    dataStore.set(instance, key, data);\n  },\n  getData(instance, key) {\n    return dataStore.get(instance, key);\n  },\n  removeData(instance, key) {\n    dataStore.delete(instance, key);\n  }\n};\n\nexport default Store;\n","import InputError from \"../errors/input.js\";\nimport Store from \"../data/store.js\";\n\nconst VERSION = \"0.1.2\";\n\nclass Input {\n  constructor(element, type, self) {\n    if ((typeof element === \"object\" && element.nodeType !== 1) &&\n        (typeof element !== \"string\")) {\n      throw new InputError(\"Invalid Argument\", \"`element` must be a node or string\");\n    }\n\n    if (typeof element === \"string\") {\n      element = document.querySelector(element);\n\n      if (!element) {\n        throw new InputError(\"Element Not Found\", \"could not find element for give `element` selector\");\n      }\n    }\n\n    this._element = element;\n    this._type = type;\n    this._value = null;\n    this._callback = () => {};\n\n    Store.setData(element, type, this);\n  }\n\n  // getters ----\n\n  static get VERSION() {\n    return VERSION;\n  }\n\n  // methods ----\n\n  content(html) {\n    this._element.innerHTML = html;\n  }\n\n  dispose() {\n    Store.removeData(this._element, this._type);\n    this._element = null;\n  }\n\n  // public ----\n\n  static initialize(element, type, subclass) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      input = new subclass(element);\n    }\n  }\n\n  static find(scope, selector) {\n    return scope.querySelectorAll(selector);\n  }\n\n  static getId(element) {\n    return element.id;\n  }\n\n  static getType(element) {\n    return null;\n  }\n\n  static getValue(element, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return null;\n    }\n\n    return input.value();\n  }\n\n  static subscribe(element, callback, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return;\n    }\n\n    input._callback = callback;\n  }\n\n  static unsubscribe(element, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return;\n    }\n\n    input._callback = () => {};\n  }\n\n  static receiveMessage(element, message, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return;\n    }\n\n    message.forEach((msg) => {\n      let [method, args] = msg;\n\n      if (!args) {\n        input[method]();\n      } else {\n        input[method](...args);\n      }\n    });\n  }\n\n  static getState(element, data) {\n    throw new InputError(\"Method Not Implemented\");\n  }\n\n  static getRatePolicy() {\n    return null;\n  }\n}\n\nexport default Input;\n","// IE 11, ensure querySelectorAll + forEach works\n\nlet { matches, closest } = Element.prototype;\n\nif (!matches) {\n  matches = Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n          i = matches.length;\n\n      while (--i >= 0 && matches.item(i) !== this) {}\n\n      return i > -1;\n    };\n}\n\nif (!closest) {\n  closest = function(s) {\n    var el = this;\n\n    do {\n      if (matches.call(el, s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}\n\nlet findClosest = function(element, selector) {\n  return closest.call(element, selector);\n};\n\nlet matchesSelector = function(element, selector) {\n  return matches.call(element, selector);\n};\n\nlet asArray = function(x) {\n  if (!x) {\n    return [];\n  } else if (typeof x === \"object\" && x.length) {\n    return Array.prototype.slice.call(x);\n  } else {\n    return [x];\n  }\n};\n\nlet getPluginAttributes = function(element) {\n  return [\n    element.getAttribute(\"data-plugin\"),\n    element.getAttribute(\"data-action\"),\n    element.getAttribute(\"data-target\")\n  ];\n};\n\nlet isNode = function(x) {\n  return x && x.nodeType === 1;\n};\n\nlet activateElements = function(elements, callback) {\n  if (!elements) {\n    return;\n  }\n\n  if (elements.length) {\n    asArray(elements).forEach(e => activateElements(e));\n  } else if (elements.classList) {\n    elements.classList.add(\"active\");\n\n    if (typeof callback === \"function\") {\n      callback(elements);\n    }\n  }\n};\n\nlet deactivateElements = function(elements, callback) {\n  if (!elements) {\n    return;\n  }\n\n  if (elements.length) {\n    asArray(elements).forEach(e => deactivateElements(e));\n  } else if (elements.classList) {\n    elements.classList.remove(\"active\");\n\n    if (typeof callback === \"function\") {\n      callback(elements);\n    }\n  }\n};\n\nlet filterElements = function(elements, values, getValue = x => x.value) {\n  let targetValues = asArray(values).map(x => isNode(x) ? x : x.toString());\n\n  elements = asArray(elements);\n  let elementValues = elements.map(getValue);\n\n  let foundElements = [];\n  let foundValues = [];\n\n  for (var i = 0; i < targetValues.length; i++) {\n    let v = targetValues[i];\n    let found = elements[isNode(v) ? elements.indexOf(v) : elementValues.indexOf(v)];\n\n    if (found === undefined) {\n      continue;\n    }\n\n    foundElements.push(found);\n    foundValues.push(elementValues[i]);\n  }\n\n  return [foundElements, foundValues];\n};\n\nlet all = function(...objs) {\n  for (var i = 0; i++; i < objs.length) {\n    if (!objs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nexport {\n  findClosest,\n  matchesSelector,\n  asArray,\n  getPluginAttributes,\n  isNode,\n  activateElements,\n  deactivateElements,\n  filterElements,\n  all\n};\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport InputError from \"../errors/input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  asArray,\n  findClosest,\n  getPluginAttributes\n} from \"../utils/index.js\";\n\nconst NAME = \"buttongroup\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-button-group\",\n  CHILD: \"btn\",\n  DISABLED: \"disabled\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`,\n  PLUGIN: \"[data-plugin]\"\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`\n};\n\nclass ButtonGroupInput extends Input {\n\n  static get TYPE() {\n    return TYPE;\n  }\n\n  constructor(element) {\n    super(element, TYPE);\n\n    this._counter = 0;\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  content(html) {\n    this._element.innerHTML = html;\n  }\n\n  disable(values) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    asArray(children).forEach((btn) => {\n      if (typeof values === \"undefined\" || values.indexOf(btn.value) > -1) {\n        btn.setAttribute(ClassName.DISABLED, \"\");\n        btn.setAttribute(\"aria-disabled\", \"true\");\n      }\n    });\n  }\n\n  enable(values) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    asArray(children).forEach((btn) => {\n      if (typeof values === \"undefined\" || values.indexOf(btn.value) > -1) {\n        btn.removeAttribute(ClassName.DISABLED);\n        btn.setAttribute(\"aria-disabled\", \"false\");\n      }\n    });\n  }\n\n  static find(scope) {\n    return super.find(scope, `.${ ClassName.INPUT }`);\n  }\n\n  static initialize(element) {\n    super.initialize(element, TYPE, ButtonGroupInput);\n  }\n\n  static getType(element) {\n    return TYPE;\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return { value: input.value(), counter: input._counter++ };\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...ButtonGroupInput };\n  }\n}\n\n$(document).on(Event.CLICK, Selector.PARENT_CHILD, (event) => {\n  const button = event.currentTarget;\n  const group = findClosest(button, Selector.INPUT);\n\n  let input = Store.getData(group, TYPE);\n\n  if (!input) {\n    return;\n  }\n\n  input.value(button.value);\n});\n\n$(document).on(Event.CLICK, `${ Selector.PARENT_CHILD }${ Selector.PLUGIN }`, (event) => {\n  const button = event.currentTarget;\n  const [plugin, action, target] = getPluginAttributes(button);\n\n  if (!plugin || !action || !target) {\n    return;\n  }\n\n  if (plugin === \"tab\") {\n    $(button).one(\"shown.bs.tab\", (e) => button.classList.remove(\"active\"));\n  }\n\n  $(button)[plugin](action);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(ButtonGroupInput.ShinyInterface(), TYPE);\n}\n\nexport default ButtonGroupInput;\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  findClosest,\n  getPluginAttributes\n} from \"../utils/index.js\";\n\nconst NAME = \"button\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-button\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  PLUGIN: \"[data-plugin]\"\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`\n};\n\nclass ButtonInput extends Input {\n\n  // fields ----\n\n  static get TYPE() {\n    return TYPE;\n  }\n\n  // methods ----\n\n  constructor(element) {\n    super(element, TYPE);\n\n    this._value = 0;\n    this._isLink = element.tagName === \"A\";\n  }\n\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  content(html) {\n    this._element.innerHTML = html;\n  }\n\n  disable(values) {\n    if (this._isLink) {\n      this._element.classList.add(\"disabled\");\n    } else {\n      this._element.setAttribute(\"disabled\", \"\");\n    }\n  }\n\n  enable() {\n    if (this._isLink) {\n      this._element.classList.remove(\"disabled\");\n    } else {\n      this._element.removeAttribute(\"disabled\");\n    }\n  }\n\n  // static ----\n\n  static initialize(element) {\n    super.initialize(element, TYPE, ButtonInput);\n  }\n\n  static find(scope) {\n    return super.find(scope, Selector.INPUT);\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return input.value() === 0 ? null : input.value();\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...ButtonInput };\n  }\n}\n\n// events ----\n\n$(document).on(Event.CLICK, Selector.INPUT, (event) => {\n  let button = findClosest(event.target, Selector.INPUT);\n  let input = Store.getData(button, TYPE);\n\n  if (!input) {\n    return;\n  }\n\n  input.value(input.value() + 1);\n});\n\n$(document).on(Event.CLICK, `${ Selector.INPUT }${ Selector.PLUGIN }`, (event) => {\n  let button = findClosest(event.target, Selector.INPUT);\n  let [plugin, action, target] = getPluginAttributes(button);\n\n  if (!(plugin && action && target)) {\n    return;\n  }\n\n  if (plugin === \"tab\") {\n    $(button).one(\"shown.bs.tab\", (e) => button.classList.remove(\"active\"));\n  }\n\n  $(button)[plugin](action);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(ButtonInput.ShinyInterface(), TYPE);\n}\n\nexport default ButtonInput;\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  findClosest,\n  asArray,\n  isNode,\n  activateElements,\n  deactivateElements,\n  filterElements\n} from \"../utils/index.js\";\n\nconst NAME = \"checkbar\";\nconst TYPE = `yonder.${ TYPE }`;\n\nconst ClassName = {\n  INPUT: \"yonder-checkbar\",\n  CHILD: \"btn\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`\n};\n\nconst Event = {\n  CHANGE: `change.${ TYPE }`\n};\n\nclass CheckbarInput extends Input {\n\n  // methods ----\n\n  constructor(element) {\n    super(element, TYPE);\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  select(x) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    let [targets, values]  = filterElements(children, x, child => child.querySelector(\"input\").value);\n\n    console.log(values);\n\n    deactivateElements(children, child => {\n      child.children[0].checked = false;\n    });\n\n    if (targets.length) {\n      activateElements(targets, target => {\n        target.children[0].checked = true;\n      });\n      this.value(values);\n    }\n  }\n\n  // static\n\n  static find(scope) {\n    return super.find(scope, Selector.INPUT);\n  }\n\n  static initialize(element) {\n    super.initialize(element, TYPE, CheckbarInput);\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return input.value();\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...CheckbarInput };\n  }\n}\n\n// events ----\n\n$(document).on(Event.CHANGE, Selector.PARENT_CHILD, (event) => {\n  let checkbar = findClosest(event.target, Selector.INPUT);\n  let checkbarInput = Store.getData(checkbar, TYPE);\n\n  if (!checkbarInput) {\n    return;\n  }\n\n  let button = findClosest(event.target, Selector.CHILD);\n\n  checkbarInput.select(button);\n});\n\nexport default CheckbarInput;\n\nif (Shiny) {\n  Shiny.inputBindings.register(CheckbarInput.ShinyInterface(), TYPE);\n}\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  findClosest,\n  asArray,\n  isNode,\n  activateElements,\n  deactivateElements,\n  filterElements\n} from \"../utils/index.js\";\n\nconst NAME = \"menu\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-menu\",\n  CHILD: \"dropdown-item\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`,\n  TOGGLE: \"[data-toggle='dropdown']\"\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`,\n  CLOSE: \"hide.bs.dropdown\",\n  CLOSED: \"hidden.bs.dropdown\"\n};\n\nclass MenuInput extends Input {\n\n  // fields ----\n\n  static get TYPE() {\n    return TYPE;\n  }\n\n  static get Selector() {\n    return Selector;\n  }\n\n  static get Event() {\n    return Event;\n  }\n\n  // methods ----\n\n  constructor(element) {\n    super(element, TYPE);\n\n    this._counter = 0;\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  select(x) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    let [targets, values] = filterElements(children, x);\n\n    deactivateElements(children);\n\n    if (targets.length) {\n      activateElements(targets[0]);\n      this.value(values[0]);\n    }\n  }\n\n  // static ----\n\n  static initialize(element) {\n    super.initialize(element, TYPE, MenuInput);\n  }\n\n  static find(element) {\n    return super.find(element, Selector.INPUT);\n  }\n\n  static getType(element) {\n    return TYPE;\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return { value: input.value(), counter: input._counter++ };\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...MenuInput };\n  }\n}\n\n// events ----\n\n$(document).on(Event.CLICK, Selector.PARENT_CHILD, (event) => {\n  let item = findClosest(event.target, Selector.CHILD);\n\n  if (!item) {\n    return;\n  }\n\n  let menu = findClosest(item, Selector.INPUT);\n  let menuInput = Store.getData(menu, TYPE);\n\n  if (!menuInput) {\n    return;\n  }\n\n  menuInput.select(item);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(MenuInput.ShinyInterface(), TYPE);\n}\n\nexport default MenuInput;\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport MenuInput from \"./menu.js\";\nimport {\n  findClosest,\n  asArray,\n  getPluginAttributes,\n  isNode,\n  activateElements,\n  deactivateElements,\n  filterElements,\n  all\n} from \"../utils/index.js\";\n\nconst NAME = \"nav\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-nav\",\n  CHILD: \"nav-link\",\n  ITEM: \"nav-item\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`,\n  ACTIVE: \".active\",\n  DISABLED: \".disabled\",\n  PLUGIN: \"[data-plugin]\",\n  NAV_ITEM: `.${ ClassName.ITEM }`,\n  MENU: MenuInput.Selector.INPUT,\n  MENU_TOGGLE: MenuInput.Selector.TOGGLE,\n  MENU_ITEM: MenuInput.Selector.CHILD,\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`\n};\n\nclass NavInput extends Input {\n\n  constructor(element) {\n    super(element, TYPE);\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  select(x) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    let [targets, values] = filterElements(children, x);\n\n    deactivateElements(children, child => {\n      if (targets.indexOf(child) > -1) {\n        return;\n      }\n\n      let menuInput = Store.getData(child.parentNode, MenuInput.TYPE);\n\n      if (!menuInput) {\n        return;\n      }\n\n      menuInput.select(null);\n    });\n\n    if (targets.length) {\n      activateElements(targets[0]);\n      this.value(values[0]);\n    }\n  }\n\n  disable(values) {\n\n  }\n\n  enable(values) {\n\n  }\n\n  // static ----\n\n  static initialize(element) {\n    super.initialize(element, TYPE, NavInput);\n  }\n\n  static find(scope) {\n    return super.find(scope, Selector.INPUT);\n  }\n\n  static getValue(element) {\n    return super.getValue(element, TYPE);\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...NavInput };\n  }\n}\n\n// events ----\n\n$(document).on(Event.CLICK, `${ Selector.PARENT_CHILD }:not(${ Selector.MENU_TOGGLE })`, (event) => {\n  let nav = findClosest(event.target, Selector.INPUT);\n  let navInput = Store.getData(nav, TYPE);\n\n  if (!navInput) {\n    return;\n  }\n\n  let button = findClosest(event.target, Selector.CHILD);\n\n  navInput.select(button);\n});\n\n$(document).on(Event.CLICK, `${ Selector.PARENT_CHILD }${ Selector.PLUGIN }`, (event) => {\n  let link = findClosest(event.target, Selector.CHILD);\n  let [plugin, action, target] = getPluginAttributes(link);\n\n  if (!all(plugin, action, target)) {\n    return;\n  }\n\n  // ensure we can select or activate a nav link that may already be active\n  deactivateElements(link);\n\n  $(link)[plugin](action);\n});\n\n$(document).on(Event.CLICK, `${ Selector.INPUT } ${ Selector.MENU_ITEM }`, (event) => {\n  let nav = findClosest(event.target, Selector.INPUT);\n  let navInput = Store.getData(nav, TYPE);\n\n  if (!navInput) {\n    return;\n  }\n\n  let item = findClosest(event.target, Selector.NAV_ITEM);\n  let link = item.querySelector(Selector.CHILD);\n\n  navInput.select(link);\n\n  let menu = findClosest(event.target, Selector.MENU);\n\n  if (!menu.id) {\n    let menuItem = findClosest(event.target, Selector.MENU_ITEM);\n    navInput.value(menuItem.value);\n  }\n});\n\n// shiny ----\n\n// If shiny is present register the input's shiny interface with shiny's\n// input bindings.\nif (Shiny) {\n  Shiny.inputBindings.register(NavInput.ShinyInterface(), TYPE);\n}\n\nexport default NavInput;\n\nif (Shiny) {\n  Shiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n    let _show = function(pane) {\n      if (pane === null || pane.classList.contains(\"show\")) {\n        return;\n      }\n\n      if (!pane.parentElement.classList.contains(\"tab-content\")) {\n        console.warn(`nav pane ${ pane.id } is missing a nav content parent element`);\n        return;\n      }\n\n      let previous = pane.parentElement.querySelector(\".active\");\n\n      const complete = () => {\n        const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n          relatedTarget: pane\n        });\n\n        const shownEvent = $.Event(\"shown.bs.tab\", {\n          relatedTarget: previous\n        });\n\n        $(previous).trigger(hiddenEvent);\n        $(pane).trigger(shownEvent);\n      };\n\n      bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n    };\n\n    let _hide = function(pane) {\n      if (pane === null || !pane.classList.contains(\"show\")) {\n        return;\n      }\n\n      if (!pane.parentElement.classList.contains(\"tab-content\")) {\n        console.warn(`nav pane ${ pane.id } is missing a nav content parent element`);\n        return;\n      }\n\n      const complete = () => {\n        const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n          relatedTarget: pane\n        });\n\n        $(pane).trigger(hiddenEvent);\n      };\n\n      let dummy = document.createElement(\"div\");\n\n      bootstrap.Tab.prototype._activate(dummy, pane.parentElement, complete);\n    };\n\n    if (msg.type === undefined ||\n        msg.data === undefined ||\n        msg.data.target === undefined) {\n      return;\n    }\n\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return;\n    }\n\n    if (msg.type === \"show\") {\n      _show(target);\n    } else if (msg.type === \"hide\") {\n      _hide(target);\n    }\n  });\n}\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  findClosest,\n  filterElements,\n  deactivateElements,\n  activateElements,\n  getPluginAttributes,\n  all\n} from \"../utils/index.js\";\n\nconst NAME = \"radio\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-radio\",\n  CHILD: \"custom-radio\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  INPUT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`,\n  PLUGIN: \"[data-plugin]\"\n};\n\nconst Event = {\n  CHANGE: `change.${ TYPE }`\n};\n\nclass RadioInput extends Input {\n\n  // methods ----\n\n  constructor(element) {\n    super(element, TYPE);\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  select(x) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    let [targets, values] = filterElements(children, x);\n\n    deactivateElements(children, child => {\n      child.children[0].checked = false;\n    });\n\n    if (targets.length) {\n      activateElements(targets[0], target => {\n        target.children[0].checked = true;\n      });\n      this.value(values[0]);\n    }\n  }\n\n  // static ----\n\n  static initialize(element) {\n    super.initialize(element, TYPE, RadioInput);\n  }\n\n  static find(scope) {\n    return super.find(scope, Selector.INPUT);\n  }\n\n  static getValue(element) {\n    return super.getValue(element, TYPE);\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...RadioInput };\n  }\n}\n\n// events ----\n\n$(document).on(Event.CHANGE, Selector.INPUT_CHILD, (event) => {\n  let radio = findClosest(event.target, Selector.INPUT);\n  let radioInput = Store.getData(radio, TYPE);\n\n  if (!radioInput) {\n    return;\n  }\n\n  let input = findClosest(event.target, Selector.CHILD);\n\n  radioInput.value(input.value);\n});\n\n$(document).on(Event.CHANGE, `${ Selector.INPUT_CHILD }${ Selector.PLUGIN }`, (event) => {\n  let input = findClosest(event.target, Selector.CHILD);\n  let [plugin, action, target] = getPluginAttributes(input);\n\n  if (!all(plugin, action, target)) {\n    return;\n  }\n\n  $(input)[plugin](action);\n});\n\n// shiny ----\n\n// If shiny is present register the radio input shiny interface with the input\n// bindings.\nif (Shiny) {\n  Shiny.inputBindings.register(RadioInput.ShinyInterface(), TYPE);\n}\n\nexport default RadioInput;\n","import Shiny from \"Shiny\";\n// import \"./actions.js\";\n\nimport ButtonGroupInput from \"./inputs/button-group.js\";\nimport ButtonInput from \"./inputs/button.js\";\nimport CheckbarInput from \"./inputs/checkbar.js\";\n// import \"./input-binding-checkbox.js\";\n// import \"./input-binding-chip.js\";\n// import \"./input-binding-file.js\";\n// import \"./input-binding-form.js\";\n// import \"./input-binding-link.js\";\n// import \"./input-binding-list-group.js\";\nimport MenuInput from \"./inputs/menu.js\";\nimport NavInput from \"./inputs/nav.js\";\nimport RadioInput from \"./inputs/radio.js\";\n// import \"./input-binding-radiobar.js\";\n// import \"./input-binding-range.js\";\n// import \"./input-binding-select.js\";\n// import \"./input-binding-textual.js\";\n\n// import \"./collapse.js\";\n// import \"./download.js\";\n// import \"./content.js\";\n// import \"./modal.js\";\n// import \"./popover.js\";\n// import \"./tooltip.js\";\n// import \"./toast.js\";\n\nexport default {\n  ButtonGroupInput,\n  ButtonInput,\n  CheckbarInput,\n  MenuInput,\n  NavInput,\n  RadioInput\n};\n"],"names":["InputError","code","message","full","name","Error","dataStore","storeData","id","set","element","key","data","get","keyProperties","delete","Store","setData","instance","getData","removeData","VERSION","Input","type","self","nodeType","document","querySelector","_element","_type","_value","_callback","content","html","innerHTML","dispose","initialize","subclass","input","find","scope","selector","querySelectorAll","getId","getType","getValue","value","subscribe","callback","unsubscribe","receiveMessage","forEach","msg","method","args","getState","getRatePolicy","Element","prototype","matches","closest","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","i","length","item","el","call","parentElement","parentNode","findClosest","asArray","x","Array","slice","getPluginAttributes","getAttribute","isNode","activateElements","elements","e","classList","add","deactivateElements","remove","filterElements","values","targetValues","map","toString","elementValues","foundElements","foundValues","v","found","indexOf","undefined","push","all","NAME","TYPE","ClassName","INPUT","CHILD","DISABLED","Selector","PARENT_CHILD","PLUGIN","Event","CLICK","ButtonGroupInput","_counter","disable","children","btn","setAttribute","enable","removeAttribute","counter","ShinyInterface","$","on","event","button","currentTarget","group","plugin","action","target","one","Shiny","inputBindings","register","ButtonInput","_isLink","tagName","CHANGE","CheckbarInput","select","child","targets","console","log","checked","checkbar","checkbarInput","TOGGLE","CLOSE","CLOSED","MenuInput","menu","menuInput","ITEM","ACTIVE","NAV_ITEM","MENU","MENU_TOGGLE","MENU_ITEM","NavInput","nav","navInput","link","menuItem","addCustomMessageHandler","_show","pane","contains","warn","previous","complete","hiddenEvent","relatedTarget","shownEvent","trigger","bootstrap","Tab","_activate","_hide","dummy","createElement","getElementById","INPUT_CHILD","RadioInput","radio","radioInput"],"mappings":"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"}