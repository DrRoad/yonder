{"version":3,"file":"yonder.js","sources":["../../src/js/actions.js","../../src/js/errors/input.js","../../src/js/data/store.js","../../src/js/inputs/input.js","../../src/js/utils/index.js","../../src/js/inputs/button-group.js","../../src/js/inputs/button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-chip.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/inputs/menu.js","../../src/js/inputs/nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/collapse.js","../../src/js/download.js","../../src/js/content.js","../../src/js/modal.js","../../src/js/popover.js","../../src/js/tooltip.js","../../src/js/toast.js","../../src/js/yonder.js"],"sourcesContent":["let deactivateRelatives = function(el) {\n  el.parentNode\n    .querySelectorAll(\".tab-pane[id]\")\n    .forEach(pane => {\n      document.querySelectorAll(`[data-target=\"#${ pane.id }\"]`)\n        .forEach(t => t.classList.remove(\"active\"));\n    });\n};\n\nlet actionPerform = function(el) {\n  let plugin = el.getAttribute(\"data-plugin\");\n  let action = el.getAttribute(\"data-action\");\n  let target = el.getAttribute(\"data-target\");\n\n  if (!(plugin && action && target)) {\n    return;\n  }\n\n  if (document.querySelector(target).classList.contains(\"show\")) {\n    return;\n  }\n\n  if (plugin === \"tab\") {\n    deactivateRelatives(document.querySelector(target));\n  }\n\n  $(el)[plugin](action);\n\n  if (el.tagName === \"BUTTON\") {\n    if (el.classList.contains(\"btn\")) {\n      window.setTimeout(() => el.classList.remove(\"active\"), 1);\n    }\n\n    if (el.classList.contains(\"dropdown-item\")) {\n      window.setTimeout(() => {\n        el.querySelector(\".dropdown-toggle\").classList.remove(\"active\");\n      }, 1);\n    }\n  } else if (el.tagName === \"INPUT\") {\n    window.setTimeout(() => el.classList.remove(\"active\"), 1);\n  }\n};\n\n// $(() => {\n//   let active = document.querySelectorAll(\".active[data-plugin], input:checked[data-plugin]\");\n\n//   active.forEach(a => actionPerform(a));\n// });\n\nexport let actionListener = function(el, selector, event) {\n  $(el).on(event, selector, (e) => {\n    let clicked = e.currentTarget;\n\n    actionPerform(clicked);\n  });\n};\n","class InputError extends Error {\n  constructor(code, message) {\n    const full = message ? `${ code }: ${ message }` : code;\n    super(full);\n\n    this.name = code;\n    this.message = full;\n  }\n}\n\nexport default InputError;\n","const dataStore = (() => {\n  const storeData = {};\n  let id = 1;\n\n  return {\n    set(element, key, data) {\n      if (typeof element.key === \"undefined\") {\n        element.key = {\n          key,\n          id\n        };\n        id++;\n      };\n\n      storeData[element.key.id] = data;\n    },\n    get(element, key) {\n      if (!element || typeof element.key === \"undefined\") {\n        return null;\n      }\n\n      const keyProperties = element.key;\n      if (keyProperties.key === key) {\n        return storeData[keyProperties.id];\n      }\n\n      return null;\n    },\n    delete(element, key) {\n      if (typeof element.key === \"undefined\") {\n        return;\n      }\n\n      const keyProperties = element.key;\n      if (keyProperties.key === key) {\n        delete storeData[keyProperties.id];\n        delete element.key;\n      }\n    }\n  };\n})();\n\nconst Store = {\n  setData(instance, key, data) {\n    dataStore.set(instance, key, data);\n  },\n  getData(instance, key) {\n    return dataStore.get(instance, key);\n  },\n  removeData(instance, key) {\n    dataStore.delete(instance, key);\n  }\n};\n\nexport default Store;\n","import InputError from \"../errors/input.js\";\nimport Store from \"../data/store.js\";\n\nconst VERSION = \"0.1.2\";\n\nclass Input {\n  constructor(element, type, self) {\n    if (typeof element !== \"object\" &&\n        element.nodeType !== 1) {\n      throw new InputError(\"Invalid Argument\", \"`element` must be an element\");\n    }\n\n    this._element = element;\n    this._type = type;\n    this._value = null;\n    this._callback = () => {};\n  }\n\n  // getters ----\n\n  static get VERSION() {\n    return VERSION;\n  }\n\n  // methods ----\n\n  content(html) {\n    this._element.innerHTML = html;\n  }\n\n  dispose() {\n    Store.removeData(this._element, this._type);\n    this._element = null;\n  }\n\n  // public ----\n\n  static initialize(element, type, input) {\n    let data = Store.getData(element, type);\n\n    if (!data) {\n      data = new input(element);\n    }\n  }\n\n  static find(scope, selector) {\n    return scope.querySelectorAll(selector);\n  }\n\n  static getId(element) {\n    return element.id;\n  }\n\n  static getType(element) {\n    return null;\n  }\n\n  static getValue(element) {\n    throw new InputError(\"Unimplemented Method\");\n  }\n\n  static subscribe(element, callback, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return;\n    }\n\n    input._callback = callback;\n  }\n\n  static unsubscribe(element, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return;\n    }\n\n    input._callback = () => {};\n  }\n\n  static receiveMessage(element, message, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return;\n    }\n\n    message.forEach((msg) => {\n      console.log(msg);\n\n      let [method, args] = msg;\n\n      if (args === null) {\n        return;\n      }\n\n      input[method](args);\n    });\n  }\n\n  static getState(element, data) {\n    throw \"not implemented\";\n  }\n\n  static getRatePolicy() {\n    return null;\n  }\n}\n\nexport default Input;\n","// IE 11, ensure querySelectorAll + forEach works\n\nlet { matches, closest } = Element.prototype;\n\nif (!matches) {\n  matches = Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n          i = matches.length;\n\n      while (--i >= 0 && matches.item(i) !== this) {}\n\n      return i > -1;\n    };\n}\n\nif (!closest) {\n  closest = function(s) {\n    var el = this;\n\n    do {\n      if (matches.call(el, s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}\n\nlet findClosest = function(element, selector) {\n  return closest.call(element, selector);\n};\n\nlet asArray = function(x) {\n  return Array.prototype.slice.call(x);\n};\n\nlet getPluginAttributes = function(element) {\n  return [\n    element.getAttribute(\"data-plugin\"),\n    element.getAttribute(\"data-action\"),\n    element.getAttribute(\"data-target\")\n  ];\n};\n\nlet activateElement = function(element) {\n  element.classList.add(\"active\");\n};\n\nlet deactivateElement = function(element) {\n  element.classList.remove(\"active\");\n};\n\nlet all = function(...objs) {\n  for (var i = 0; i++; i < objs.length) {\n    if (!objs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nexport {\n  findClosest,\n  asArray,\n  getPluginAttributes,\n  activateElement,\n  deactivateElement,\n  all\n};\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport InputError from \"../errors/input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  asArray,\n  findClosest,\n  getPluginAttributes\n} from \"../utils/index.js\";\n\nconst NAME = \"buttongroup\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-button-group\",\n  CHILD: \"btn\",\n  DISABLED: \"disabled\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`,\n  PLUGIN: \"[data-plugin]\"\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`\n};\n\nclass ButtonGroupInput extends Input {\n\n  static get TYPE() {\n    return TYPE;\n  }\n\n  constructor(element) {\n    super(element, TYPE);\n\n    if (!element.classList.contains(ClassName.INPUT)) {\n      throw new InputError(\"Invalid Element\", \"the target element is invalid\");\n    }\n\n    this._counter = 0;\n\n    Store.setData(element, TYPE, this);\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  content(html) {\n    this._element.innerHTML = html;\n  }\n\n  disable(values) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    asArray(children).forEach((btn) => {\n      if (typeof values === \"undefined\" || values.indexOf(btn.value) > -1) {\n        btn.setAttribute(ClassName.DISABLED, \"\");\n        btn.setAttribute(\"aria-disabled\", \"true\");\n      }\n    });\n  }\n\n  enable(values) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    asArray(children).forEach((btn) => {\n      if (typeof values === \"undefined\" || values.indexOf(btn.value) > -1) {\n        btn.removeAttribute(ClassName.DISABLED);\n        btn.setAttribute(\"aria-disabled\", \"false\");\n      }\n    });\n  }\n\n  static find(scope) {\n    return super.find(scope, `.${ ClassName.INPUT }`);\n  }\n\n  static initialize(element) {\n    super.initialize(element, TYPE, ButtonGroupInput);\n  }\n\n  static getType(element) {\n    return TYPE;\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return { value: input.value(), counter: input._counter++ };\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...ButtonGroupInput };\n  }\n}\n\n$(document).on(Event.CLICK, Selector.PARENT_CHILD, (event) => {\n  const button = event.currentTarget;\n  const group = findClosest(button, Selector.INPUT);\n\n  let input = Store.getData(group, TYPE);\n\n  if (!input) {\n    return;\n  }\n\n  input.value(button.value);\n});\n\n$(document).on(Event.CLICK, `${ Selector.PARENT_CHILD }${ Selector.PLUGIN }`, (event) => {\n  const button = event.currentTarget;\n  const [plugin, action, target] = getPluginAttributes(button);\n\n  if (!plugin || !action || !target) {\n    return;\n  }\n\n  if (plugin === \"tab\") {\n    $(button).one(\"shown.bs.tab\", (e) => button.classList.remove(\"active\"));\n  }\n\n  $(button)[plugin](action);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(ButtonGroupInput.ShinyInterface(), TYPE);\n}\n\nexport default ButtonGroupInput;\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  findClosest,\n  getPluginAttributes\n} from \"../utils/index.js\";\n\nconst NAME = \"button\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-button\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  PLUGIN: \"[data-plugin]\"\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`\n};\n\nclass ButtonInput extends Input {\n\n  static get TYPE() {\n    return TYPE;\n  }\n\n  constructor(element) {\n    super(element, TYPE);\n\n    this._value = 0;\n    this._isLink = element.tagName === \"A\";\n\n    Store.setData(element, TYPE, this);\n  }\n\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  content(html) {\n    this._element.innerHTML = html;\n  }\n\n  disable(values) {\n    if (this._isLink) {\n      this._element.classList.add(\"disabled\");\n    } else {\n      this._element.setAttribute(\"disabled\", \"\");\n    }\n  }\n\n  enable() {\n    if (this._isLink) {\n      this._element.classList.remove(\"disabled\");\n    } else {\n      this._element.removeAttribute(\"disabled\");\n    }\n  }\n\n  // static ----\n\n  static initialize(element) {\n    super.initialize(element, TYPE, ButtonInput);\n  }\n\n  static find(scope) {\n    return super.find(scope, Selector.INPUT);\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return input.value() === 0 ? null : input.value();\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...ButtonInput };\n  }\n}\n\n$(document).on(Event.CLICK, Selector.INPUT, (event) => {\n  let button = findClosest(event.target, Selector.INPUT);\n  let input = Store.getData(button, TYPE);\n\n  if (!input) {\n    return;\n  }\n\n  input.value(input.value() + 1);\n});\n\n$(document).on(Event.CLICK, `${ Selector.INPUT }${ Selector.PLUGIN }`, (event) => {\n  let button = findClosest(event.target, Selector.INPUT);\n  let [plugin, action, target] = getPluginAttributes(button);\n\n  if (!(plugin && action && target)) {\n    return;\n  }\n\n  if (plugin === \"tab\") {\n    $(button).one(\"shown.bs.tab\", (e) => button.classList.remove(\"active\"));\n  }\n\n  $(button)[plugin](action);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(ButtonInput.ShinyInterface(), TYPE);\n}\n\nexport default ButtonInput;\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbar[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"checkbar.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".btn\").forEach(btn => {\n        el.removeChild(btn);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\"input:checked\").forEach(input => {\n          input.checked = false;\n          input.parentNode.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n          input.parentNode.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"checkbar.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (enable.indexOf(btn.value) > -1) {\n            btn.classList.remove(\"disabled\");\n            btn.children[0].removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (disable.indexOf(btn.value) > -1) {\n            btn.classList.add(\"disabled\");\n            btn.children[0].setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","import { actionListener } from \"./actions.js\";\n\nexport let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbox[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback());\n    $el.on(\"checkbox.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-checkbox\").forEach(box => {\n        el.removeChild(box);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input:checked\").forEach(input => {\n        input.checked = false;\n      });\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        }\n      });\n\n      $(el).trigger(\"checkbox.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-invalid\");\n        input.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".inavlid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let chipInputBinding = new Shiny.InputBinding();\n\n$.extend(chipInputBinding, {\n  selectorActive: \".active\",\n  selectorToggle: \"input[data-toggle='dropdown']\",\n\n  find: (scope) => scope.querySelectorAll(\".yonder-chip[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    $el.on(\"input\", (e) => {\n      let value = $toggle[0].value;\n\n      chipInputBinding._filter(el, value);\n\n      if (chipInputBinding._visible(el).length === 0) {\n        $toggle.dropdown(\"hide\");\n      } else {\n        $toggle.dropdown(\"show\");\n      }\n    });\n\n    $el.on(\"input change\", (e) => {\n      $toggle.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      if (el.querySelector(\"input:focus\") === null) {\n        el.querySelector(\"input\").value = \"\";\n        chipInputBinding._filter(el, \"\");\n      }\n    });\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      e.stopPropagation();\n\n      chipInputBinding._add(el, e.currentTarget.value);\n      $toggle[0].focus();\n    });\n\n    $el.on(\"click\", \".chip\", (e) => {\n      chipInputBinding._remove(el, e.currentTarget.value);\n    });\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max !== -1 && chipInputBinding._selected(el).length >= max) {\n      chipInputBinding._disable(el);\n    }\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".active\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(selected, s => s.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item,.chip\", (e) => callback());\n    $el.on(\"chip.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let $el = $(el);\n\n    if (msg.items && msg.chips) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.items;\n      el.querySelector(\".chips\").innerHTML = msg.chips;\n    }\n\n    if (msg.selected) {\n      if (msg.selected === true) {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          chipInputBinding._add(el, item.value);\n        });\n      } else {\n        msg.selected.reverse();\n\n        chipInputBinding._selected(el).forEach(item => {\n          chipInputBinding._remove(el, item.value);\n        });\n\n        msg.selected.forEach(value => {\n          chipInputBinding._add(el, value);\n        });\n      }\n\n      $el.trigger(\"chip.select.yonder\");\n    }\n\n    if (msg.max !== undefined && msg.max !== null) {\n      el.setAttribute(\"data-max\", msg.max);\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        chipInputBinding._enable(el);\n        // el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.removeAttribute(\"disabled\");\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        chipInputBinding._disable(el);\n        // el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.setAttribute(\"disabled\", \"\");\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  },\n\n\n  _visible: (el) => {\n    return el.querySelectorAll(\":not(.selected),:not(.filtered)\");\n  },\n  _selected: (el) => {\n    return el.querySelectorAll(\".selected\");\n  },\n  _items: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".dropdown-item\"),\n      chip => chip.value === value\n    );\n  },\n  _chips: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".chip\"),\n      chip => chip.value === value\n    );\n  },\n\n  _enable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.removeAttribute(\"disabled\");\n    input.classList.remove(\"disabled\");\n  },\n  _disable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.setAttribute(\"disabled\", \"\");\n    input.classList.add(\"disabled\");\n  },\n  _filter: (el, value) => {\n    value = value.toLowerCase();\n\n    el.querySelectorAll(\".dropdown-item\").forEach(item => {\n      let match = item.innerText.toLowerCase().indexOf(value) !== -1;\n\n      if (match) {\n        item.classList.remove(\"filtered\");\n      } else {\n        item.classList.add(\"filtered\");\n      }\n    });\n  },\n  _add: (el, value) => {\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.add(\"selected\");\n    });\n\n    let chips = el.querySelector(\".chips\");\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chips.insertBefore(chips.removeChild(chip), chips.firstChild);\n      chip.classList.add(\"active\");\n    });\n\n    if (chipInputBinding._visible(el).length === 0) {\n      $toggle.dropdown(\"hide\");\n    }\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      $toggle.dropdown(\"update\");\n    } else {\n      $toggle.dropdown(\"hide\");\n      chipInputBinding._disable(el);\n    }\n  },\n  _remove: (el, value) => {\n    let max = +el.getAttribute(\"data-max\");\n\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chip.classList.remove(\"active\");\n    });\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.remove(\"selected\");\n    });\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      chipInputBinding._enable(el);\n    }\n  }\n});\n\nShiny.inputBindings.register(chipInputBinding, \"yonder.chipInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$.extend(fileInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-file[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"dragover\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"dragcenter\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"drop\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      fileInputBinding._upload(el, e.originalEvent.dataTransfer.files);\n    });\n\n    $el.on(\"change\", (e) => {\n      fileInputBinding._upload(el);\n    });\n  },\n  getValue: (el) => null,\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      input.classList.remove(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n    }\n  },\n  _post: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            el.querySelector(\"input[type='file']\").value = \"\";\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _upload: function(el, files) {\n    let input = el.querySelector(\"input[type='file']\");\n\n    if (files === undefined) {\n      files = input.files;\n    }\n\n    if (!files) {\n      return;\n    }\n\n    if (!input.hasAttribute(\"multiple\")) {\n      files = Array.prototype.slice.call(files, 0, 1);\n    } else {\n      files = Array.prototype.slice.call(files);\n    }\n\n    let info = files.map(f => {\n      return { name: f.name, size: f.size, type: f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._post(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  bsCustomFileInput.init(\".yonder-file[id] input[type='file']\");\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-form[id]\"),\n  initialize: (el) => {\n    let $document = $(document);\n    let $el = $(el);\n\n    let store = {};\n    let value = null;\n\n    el.querySelectorAll(\".yonder-form-submit\").forEach(s => {\n      s.setAttribute(\"type\", \"submit\");\n    });\n\n    $document.on(\"shiny:inputchanged.yonder\", (e) => {\n      if (!e.el || e.priority === \"event\") {\n        return;\n      }\n\n      if (e.el.id === el.id) {\n        Shiny.onInputChange(el.id, value, { priority: \"event\" });\n        e.preventDefault();\n        return;\n      }\n\n      if (el.contains(e.el)) {\n        store[e.name] = e.value;\n        e.preventDefault();\n      }\n    });\n\n    $el.on(\"click.yonder\", \".yonder-form-submit\", (e) => {\n      value = e.currentTarget.value;\n    });\n\n    $el.on(\"submit.yonder\", (e) => {\n      Object.keys(store).forEach(key => {\n        Shiny.onInputChange(key, store[key], { priority: \"event\" });\n      });\n    });\n  },\n  getValue: (el) => null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"submit.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n    $(document).off(\"shiny:inputchanged.yonder\");\n  }\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","import { actionListener } from \"./actions.js\";\n\nexport let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-link[id]\"),\n  initialize: (el) => {\n    el.value = 0;\n\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n\n    actionListener(el, null, \"click\");\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"link.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value !== null && msg.value !== undefined) {\n      el.value = msg.value;\n      $(el).trigger(\"link.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","import { actionListener } from \"./actions.js\";\n\nexport let listGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(listGroupInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-list-group[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".list-group-item-action:not(.active):not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(item => {\n        item.classList.remove(\"active\");\n      });\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".list-group-item-action.active:not(.disabled)\", (e) => {\n      e.currentTarget.classList.remove(\"active\");\n    });\n\n    actionListener(el, \".list-group-item:not(.disabled)\", \"click\");\n  },\n  getValue: (el) => {\n    let items = el.querySelectorAll(\".list-group-item-action.active:not(.disabled)\");\n\n    if (items.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(items).map(i => i.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"listgroup.select.yonder\", (e) => callback());\n  },\n  unsubcribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        el.removeChild(item);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\".list-group-item.active\").forEach(item => {\n          item.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"listgroup.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  findClosest\n} from \"../utils/index.js\";\n\nconst NAME = \"menu\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-menu\",\n  CHILD: \"dropdown-item\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT }  .${ ClassName.CHILD }`\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`,\n  CLOSE: \"hide.bs.dropdown\",\n  CLOSED: \"hidden.bs.dropdown\"\n};\n\nclass MenuInput extends Input {\n\n  constructor(element) {\n    super(element, TYPE);\n\n    this._counter = 0;\n\n    Store.setData(element, TYPE, this);\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  // static ----\n\n  static get TYPE() {\n    return TYPE;\n  }\n\n  static get Selector() {\n    return Selector;\n  }\n\n  static get Event() {\n    return Event;\n  }\n\n  static initialize(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      input = new MenuInput(element);\n    }\n  }\n\n  static find(element) {\n    return super.find(element, Selector.INPUT);\n  }\n\n  static getType(element) {\n    return TYPE;\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return { value: input.value(), counter: input._counter++ };\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...MenuInput };\n  }\n}\n\n$(document).on(Event.CLICK, Selector.PARENT_CHILD, (event) => {\n  let item = findClosest(event.target, Selector.CHILD);\n\n  if (!item) {\n    return;\n  }\n\n  let menu = findClosest(item, Selector.INPUT);\n  let menuInput = Store.getData(menu, TYPE);\n\n  if (!menuInput) {\n    return;\n  }\n\n  menuInput.value(item.value);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(MenuInput.ShinyInterface(), TYPE);\n}\n\nexport default MenuInput;\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport MenuInput from \"./menu.js\";\nimport {\n  findClosest,\n  asArray,\n  getPluginAttributes,\n  activateElement,\n  deactivateElement,\n  all\n} from \"../utils/index.js\";\n\nconst NAME = \"nav\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-nav\",\n  CHILD: \"nav-link\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`,\n  MENU: MenuInput.Selector.INPUT,\n  PARENT_MENU: `.${ ClassName.INPUT } ${ MenuInput.Selector.INPUT }`,\n  ACTIVE: \".active\",\n  DISABLED: \".disabled\",\n  PLUGIN: \"[data-plugin]\"\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`,\n  MENU_CLOSE: MenuInput.Event.CLOSE\n};\n\nclass NavInput extends Input {\n\n  constructor(element) {\n    super(element, TYPE);\n\n    Store.setData(element, TYPE, this);\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  select(value) {\n    if (typeof value === \"string\") {\n      let found = false;\n      asArray(this._element.querySelectorAll(Selector.CHILD)).forEach((child) => {\n        if (child.value === value) {\n          activateElement(child);\n          found = true;\n        } else {\n          deactivateElement(child);\n        }\n      });\n\n      if (found === true) {\n        this.value(value);\n      }\n    }\n\n    if (value.nodeType === 1) {\n      let child = value;\n      asArray(this._element.querySelectorAll(Selector.CHILD)).forEach(deactivateElement);\n      activateElement(child);\n      this.value(child.value);\n    }\n\n  }\n\n  disable(values) {\n\n  }\n\n  enable(values) {\n\n  }\n\n  // static ----\n\n  static initialize(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      input = new NavInput(element);\n    }\n  }\n\n  static find(scope) {\n    return super.find(scope, Selector.INPUT);\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return input.value();\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...NavInput };\n  }\n}\n\n// events ----\n\n$(document).on(Event.CLICK, Selector.PARENT_CHILD, (event) => {\n  let nav = findClosest(event.target, Selector.INPUT);\n  let input = Store.getData(nav, TYPE);\n\n  if (!input) {\n    return;\n  }\n\n  let button = findClosest(event.target, Selector.CHILD);\n\n  input.select(button);\n});\n\n$(document).on(Event.CLICK, `${ Selector.PARENT_CHILD }${ Selector.PLUGIN }`, (event) => {\n  let link = findClosest(event.target, Selector.CHILD);\n  let [plugin, action, target] = getPluginAttributes(link);\n\n  if (!all(plugin, action, target)) {\n    return;\n  }\n\n  deactivateElement(link);\n\n  $(link)[plugin](action);\n});\n\n$(document).on(Event.MENU_CLOSE, Selector.PARENT_MENU, (event) => {\n  let nav = findClosest(event.target, Event.PARENT);\n  let navInput = Store.getData(nav, TYPE);\n\n  if (!navInput) {\n    return;\n  }\n\n  let dropdown = findClosest(event.target, Selector.DROPDOWN);\n  let dropdownInput = Store.getData(dropdown, MenuInput.TYPE);\n\n  if (!dropdownInput) {\n    return;\n  }\n\n  navInput.value(dropdownInput.value());\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(NavInput.ShinyInterface(), TYPE);\n}\n\nexport default NavInput;\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null || pane.classList.contains(\"show\")) {\n      return;\n    }\n\n    if (!pane.parentElement.classList.contains(\"tab-content\")) {\n      console.warn(`nav pane ${ pane.id } is missing a nav content parent element`);\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  let _hide = function(pane) {\n    if (pane === null || !pane.classList.contains(\"show\")) {\n      return;\n    }\n\n    if (!pane.parentElement.classList.contains(\"tab-content\")) {\n      console.warn(`nav pane ${ pane.id } is missing a nav content parent element`);\n      return;\n    }\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      $(pane).trigger(hiddenEvent);\n    };\n\n    let dummy = document.createElement(\"div\");\n\n    bootstrap.Tab.prototype._activate(dummy, pane.parentElement, complete);\n  };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  let target = document.getElementById(msg.data.target);\n\n  if (target === null) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(target);\n  } else if (msg.type === \"hide\") {\n    _hide(target);\n  }\n});\n","import { actionListener } from \"./actions.js\";\n\nexport let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-radio[id]\");\n  },\n  initialize: (el) => {\n    actionListener(el, \"input[type='radio']\", \"input\");\n  },\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\".custom-radio > input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"radio.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-radio\").forEach((radio) => {\n        el.removeChild(radio);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        } else {\n          input.checked = false;\n        }\n      });\n\n      $(el).trigger(\"radio.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (disable.indexOf(input.value)> -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.remove(\"is-valid\");\n        radio.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","import { actionListener } from \"./actions.js\";\n\nexport let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-radiobar[id]\"),\n  initialize: (el) => {\n    actionListener(el, \"input[type='radio']\", \"change\");\n  },\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.parentNode.classList.remove(\"disabled\");\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.parentNode.classList.add(\"disabled\");\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-range[id]\"),\n  getId: (el) => el.id,\n  getValue: (el) => +el.children[0].value,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"input.yonder\", callback(true));\n    $el.on(\"range.value.yonder\");\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let input = el.children[0];\n\n    if (msg.value) {\n      input.value = msg.value;\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-select[id]\");\n  },\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      $el[0].querySelector(\"input\").placeholder = e.currentTarget.innerText;\n\n      let prev = $el[0].querySelector(\".active\");\n      if (prev) {\n        prev.classList.remove(\"active\");\n      }\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    let $input = $(el.querySelector(\"input\"));\n    $el.on(\"input change\", \"input\", (e) => {\n      let pattern = $input[0].value.toLowerCase();\n\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (item.innerText.toLowerCase().indexOf(pattern) === -1) {\n          item.classList.add(\"filtered\");\n        } else {\n          item.classList.remove(\"filtered\");\n        }\n      });\n\n      $input.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      $input[0].value = \"\";\n      el.querySelectorAll(\".filtered\").forEach(f => {\n        f.classList.remove(\"filtered\");\n      });\n    });\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".dropdown-item.active:not(.disabled)\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(selected).map(o => o.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n    $el.on(\"select.select.yonder\", (e) => callback()); // ha.\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n          el.querySelector(\"input\").placeholder = item.innerText;\n        } else {\n          item.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"select.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"input\").classList.add(\"is-valid\");\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"input\").classList.add(\"is-invalid\");\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      let input = el.querySelector(\"input\");\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n\nexport let groupSelectInputBinding = new Shiny.InputBinding();\n\n$.extend(groupSelectInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-select[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, select, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group.select\",\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click\", \".dropdown-item\", (e) => callback());\n    } else {\n      $el.on(\"change\", (e) => callback());\n      $el.on(\"groupselect.select.yonder\", (e) => callback());\n    }\n  },\n  receiveMessage: (el, msg) => {\n    let select = el.querySelector(\"input[data-toggle='dropdown']\");\n\n    if (msg.content) {\n      select.innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      select.querySelectorAll(\"option\").forEach(option => {\n        if (msg.selected.indexOf(option.value) > -1) {\n          option.setAttribute(\"selected\", \"\");\n        } else {\n          option.removeAttribute(\"selected\");\n        }\n      });\n\n      $(el).trigger(\"groupselect.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        select.removeAttribute(\"disabled\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.removeAttribute(\"disabled\");\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable) {\n        select.setAttribute(\"disabled\", \"\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.setAttribute(\"disabled\", \"\");\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      select.classList.remove(\"is-invalid\");\n      select.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      select.classList.remove(\"is-valid\");\n      select.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      select.classList.remove(\"is-valid\");\n      select.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n\n  }\n});\n\nShiny.inputBindings.register(groupSelectInputBinding, \"yonder.groupSelectInputBinding\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-textual[id]\"),\n  getValue: (el) => {\n    let input = el.children[0];\n\n    if (input.value === \"\") {\n      return null;\n    }\n\n    return input.type === \"number\" ? Number(input.value) : input.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback(true));\n    $el.on(\"input.yonder\", (e) => callback(true));\n    $el.on(\"textual.value.yonder\", (e) => callback(true));\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  getRatePolicy: () => ({ policy: \"debounce\", delay: 250 }),\n  receiveMessage: (el, msg) => {\n    if (msg.value !== null) {\n      el.querySelector(\"input\").value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.children[0].removeAattribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.children[0].setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.classList.remove(\"is-invalid\");\n      el.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.classList.remove(\"is-valid\");\n      el.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.children[0].classList.remove(\"is-valid\");\n      el.children[0].classList.remove(\"is-invalid\");\n    }\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n\nexport let groupTextInputBinding = new Shiny.InputBinding();\n\n$.extend(groupTextInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-text[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group.text\",\n  getRatePolicy: (el) => ({ policy: \"debounce\", delay: 250 }),\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n      $el.on(\"click.yonder\", \".btn:not(.dropdown-toggle\", (e) => callback());\n    } else {\n      $el.on(\"input.yonder\", (e) => callback(true));\n      $el.on(\"change.yonder\", (e) => callback(true));\n      $el.on(\"textual.value.yonder\", (e) => callback());\n    }\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.value) {\n      input.value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      input.classList.remove(\"is-invalid\");\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      input.classList.remove(\"is-valid\");\n      input.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(groupTextInputBinding, \"yonder.groupTextInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:download\", (msg) => {\n  if (!(msg.filename && msg.token && msg.key)) {\n    throw \"invalid download event\";\n  }\n\n  const uri = `/session/${ msg.token }/download/${ msg.key }`;\n\n  let agent = window.navigator.userAgent;\n  let ie = /MSIE/.test(agent);\n\n  if (ie === true) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", uri);\n    xhr.responseType = \"blob\";\n    xhr.onload = () => saveAs(xhr.response, msg.filename);\n    xhr.send();\n  } else {\n    fetch(uri)\n      .then(res => res.blob())\n      .then(blob => {\n        saveAs(blob, msg.filename);\n      });\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:content\", (msg) => {\n  let _replace = (data) => {\n    if (!data.id) {\n      return;\n    }\n\n    let target = document.getElementById(data.id);\n\n    if (!target) {\n      return;\n    }\n\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    if (data.content) {\n      Shiny.unbindAll(target);\n      target.innerHTML = data.content;\n      Shiny.initializeInputs(target);\n      Shiny.bindAll(target);\n    }\n\n    if (data.attrs) {\n      Object.keys(data.attrs).forEach(key => {\n        target.setAttribute(key, data.attrs[key]);\n      });\n    }\n  };\n\n  let _remove = (data) => {\n    if (!data.id) {\n      return;\n    }\n\n    let target = document.getElementById(data.id);\n\n    if (!target) {\n      return;\n    }\n\n    Shiny.unbindAll(target);\n    target.innerHTML = \"\";\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"replace\") {\n    _replace(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no content \"${ msg.type }\" method`);\n  }\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\"beforeend\", \"<div class='yonder-modals'></div>\");\n});\n\nShiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  let _close = function(data) {\n    let modals = document.querySelector(\".yonder-modals\").childNodes;\n\n    if (modals.length === 0) {\n      return;\n    }\n\n    if (data.id) {\n      modals = Array.prototype.filter.call(modals, m => m.id === data.id);\n    }\n\n    modals.forEach((modal) => {\n      if (!modal.classList.contains(\"yonder-modal\")) {\n        return;\n      }\n\n      $(modal).modal(\"hide\");\n    });\n  };\n\n  let _show = function(data) {\n    if (data.id) {\n      let possible = document.getElementById(data.id);\n\n      if (possible && possible.classList.contains(\"yonder-modal\")) {\n        console.warn(\"ignoring modal with duplicate id\");\n        return;\n      }\n    }\n\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.querySelector(\".yonder-modals\");\n\n    container.insertAdjacentHTML(\"beforeend\", data.content);\n    let modal = container.querySelector(\".yonder-modal:last-child\");\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n\n    let $modal = $(modal);\n\n    $modal.one(\"hidden.bs.modal\", (e) => {\n      if (modal.id) {\n        Shiny.onInputChange(modal.id, true);\n        setTimeout(() => Shiny.onInputChange(modal.id, null), 100);\n      }\n\n      container.removeChild(modal);\n    });\n\n    $(modal).modal(\"show\");\n  };\n\n  if (msg.type === \"close\") {\n    _close(msg.data);\n  } else if (msg.type === \"show\") {\n    _show(msg.data);\n  } else {\n    console.warn(`no modal ${ msg.type } method`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n  if (!msg.data.id || !document.getElementById(msg.data.id)) {\n    return;\n  }\n\n  let _show = (data) => {\n    let $target = $(document.getElementById(data.id));\n\n    $target.popover({\n      content: () => undefined,\n      placement: data.placement,\n      template: data.content,\n      title: () => undefined,\n      trigger: \"manual\"\n    });\n\n    if (data.duration) {\n      setTimeout(() => $target.popover(\"hide\"), data.duration);\n    }\n\n    $target.popover(\"show\");\n  };\n\n  let _close = (data) => {\n    let target = document.getElementById(data.id);\n\n    if (!target) {\n      return;\n    }\n\n    $(target).popover(\"hide\");\n  };\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no \"${ msg.type }\" popover method`);\n  }\n});\n","$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\"beforeend\", \"<div class='yonder-toasts'></div>\");\n\n  $(\".yonder-toasts\").on(\"hidden.bs.toast\", \".toast\", (e) => {\n    if (e.currentTarget.hasAttribute(\"data-action\")) {\n      let action = e.currentTarget.getAttribute(\"data-action\");\n      Shiny.onInputChange(action, true);\n      setTimeout(() => Shiny.onInputChange(action, null), 100);\n    }\n\n    e.delegateTarget.removeChild(e.currentTarget);\n  });\n});\n\nShiny.addCustomMessageHandler(\"yonder:toast\", (msg) => {\n  let _show = function(data) {\n    document.querySelector(\".yonder-toasts\")\n      .insertAdjacentHTML(\"beforeend\", data.content);\n\n    $(\".yonder-toasts > .toast:last-child\").toast(\"show\");\n  };\n\n  let _close = function(data) {\n    let toasts = document.querySelectorAll(\".yonder-toasts .toast\");\n\n    if (toasts.length) {\n      $(toasts).toast(\"hide\");\n    }\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no toast ${ msg.type } method`);\n  }\n});\n","import \"./actions.js\";\n\nimport ButtonGroupInput from \"./inputs/button-group.js\";\nimport ButtonInput from \"./inputs/button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-chip.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport MenuInput from \"./inputs/menu.js\";\nimport NavInput from \"./inputs/nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./collapse.js\";\nimport \"./download.js\";\nimport \"./content.js\";\nimport \"./modal.js\";\nimport \"./popover.js\";\nimport \"./tooltip.js\";\nimport \"./toast.js\";\n\nexport default {\n  ButtonGroupInput,\n  ButtonInput,\n  MenuInput,\n  NavInput\n};\n"],"names":["deactivateRelatives","el","parentNode","querySelectorAll","forEach","pane","document","id","t","classList","remove","actionPerform","plugin","getAttribute","action","target","querySelector","contains","$","tagName","window","setTimeout","actionListener","selector","event","on","e","clicked","currentTarget","InputError","code","message","full","name","Error","dataStore","storeData","set","element","key","data","get","keyProperties","delete","Store","setData","instance","getData","removeData","VERSION","Input","type","self","nodeType","_element","_type","_value","_callback","content","html","innerHTML","dispose","initialize","input","find","scope","getId","getType","getValue","subscribe","callback","unsubscribe","receiveMessage","msg","console","log","method","args","getState","getRatePolicy","Element","prototype","matches","closest","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","i","length","item","call","parentElement","findClosest","asArray","x","Array","slice","getPluginAttributes","activateElement","add","deactivateElement","all","NAME","TYPE","ClassName","INPUT","CHILD","DISABLED","Selector","PARENT_CHILD","PLUGIN","Event","CLICK","ButtonGroupInput","_counter","value","disable","values","children","btn","indexOf","setAttribute","enable","removeAttribute","counter","ShinyInterface","button","group","one","Shiny","inputBindings","register","ButtonInput","_isLink","checkbarInputBinding","InputBinding","extend","checked","map","c","$el","off","removeChild","insertAdjacentHTML","selected","trigger","checkboxInputBinding","box","valid","invalid","chipInputBinding","selectorActive","selectorToggle","$toggle","_filter","_visible","dropdown","stopPropagation","_add","focus","_remove","max","_selected","_disable","items","chips","reverse","undefined","_enable","_items","filter","chip","_chips","toLowerCase","match","innerText","insertBefore","firstChild","fileInputBinding","preventDefault","_upload","originalEvent","dataTransfer","files","_post","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","err","error","send","hasAttribute","info","f","size","jobId","uploadUrl","addEventListener","bsCustomFileInput","init","formInputBinding","$document","store","priority","onInputChange","Object","keys","linkInputBinding","listGroupInputBinding","unsubcribe","CLOSE","CLOSED","MenuInput","menu","menuInput","MENU","PARENT_MENU","ACTIVE","MENU_CLOSE","NavInput","select","found","child","nav","link","PARENT","navInput","DROPDOWN","dropdownInput","addCustomMessageHandler","_show","warn","previous","complete","hiddenEvent","relatedTarget","shownEvent","bootstrap","Tab","_activate","_hide","dummy","createElement","getElementById","radioInputBinding","radios","r","radio","radiobarInputBinding","rangeInputBinding","selectInputBinding","placeholder","prev","$input","pattern","o","groupSelectInputBinding","inputs","test","option","textualInputBinding","Number","policy","delay","removeAattribute","groupTextInputBinding","collapse","filename","token","agent","navigator","userAgent","ie","responseType","onload","saveAs","response","fetch","then","blob","_replace","dependencies","renderDependencies","unbindAll","initializeInputs","bindAll","attrs","body","_close","modals","childNodes","m","modal","possible","container","$modal","$target","popover","placement","template","title","duration","tooltip","delegateTarget","toast","toasts"],"mappings":"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"}