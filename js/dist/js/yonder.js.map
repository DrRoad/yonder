{"version":3,"file":"yonder.js","sources":["../../src/js/actions.js","../../src/js/errors/input.js","../../src/js/data/store.js","../../src/js/inputs/input.js","../../src/js/utils/index.js","../../src/js/inputs/button-group.js","../../src/js/inputs/button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-chip.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/inputs/menu.js","../../src/js/inputs/nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/collapse.js","../../src/js/download.js","../../src/js/content.js","../../src/js/modal.js","../../src/js/popover.js","../../src/js/tooltip.js","../../src/js/toast.js","../../src/js/yonder.js"],"sourcesContent":["let deactivateRelatives = function(el) {\n  el.parentNode\n    .querySelectorAll(\".tab-pane[id]\")\n    .forEach(pane => {\n      document.querySelectorAll(`[data-target=\"#${ pane.id }\"]`)\n        .forEach(t => t.classList.remove(\"active\"));\n    });\n};\n\nlet actionPerform = function(el) {\n  let plugin = el.getAttribute(\"data-plugin\");\n  let action = el.getAttribute(\"data-action\");\n  let target = el.getAttribute(\"data-target\");\n\n  if (!(plugin && action && target)) {\n    return;\n  }\n\n  if (document.querySelector(target).classList.contains(\"show\")) {\n    return;\n  }\n\n  if (plugin === \"tab\") {\n    deactivateRelatives(document.querySelector(target));\n  }\n\n  $(el)[plugin](action);\n\n  if (el.tagName === \"BUTTON\") {\n    if (el.classList.contains(\"btn\")) {\n      window.setTimeout(() => el.classList.remove(\"active\"), 1);\n    }\n\n    if (el.classList.contains(\"dropdown-item\")) {\n      window.setTimeout(() => {\n        el.querySelector(\".dropdown-toggle\").classList.remove(\"active\");\n      }, 1);\n    }\n  } else if (el.tagName === \"INPUT\") {\n    window.setTimeout(() => el.classList.remove(\"active\"), 1);\n  }\n};\n\n// $(() => {\n//   let active = document.querySelectorAll(\".active[data-plugin], input:checked[data-plugin]\");\n\n//   active.forEach(a => actionPerform(a));\n// });\n\nexport let actionListener = function(el, selector, event) {\n  $(el).on(event, selector, (e) => {\n    let clicked = e.currentTarget;\n\n    actionPerform(clicked);\n  });\n};\n","class InputError extends Error {\n  constructor(code, message) {\n    const full = message ? `${ code }: ${ message }` : code;\n    super(full);\n\n    this.name = code;\n    this.message = full;\n  }\n}\n\nexport default InputError;\n","const dataStore = (() => {\n  const storeData = {};\n  let id = 1;\n\n  return {\n    set(element, key, data) {\n      if (typeof element.key === \"undefined\") {\n        element.key = {\n          key,\n          id\n        };\n        id++;\n      };\n\n      storeData[element.key.id] = data;\n    },\n    get(element, key) {\n      if (!element || typeof element.key === \"undefined\") {\n        return null;\n      }\n\n      const keyProperties = element.key;\n      if (keyProperties.key === key) {\n        return storeData[keyProperties.id];\n      }\n\n      return null;\n    },\n    delete(element, key) {\n      if (typeof element.key === \"undefined\") {\n        return;\n      }\n\n      const keyProperties = element.key;\n      if (keyProperties.key === key) {\n        delete storeData[keyProperties.id];\n        delete element.key;\n      }\n    }\n  };\n})();\n\nconst Store = {\n  setData(instance, key, data) {\n    dataStore.set(instance, key, data);\n  },\n  getData(instance, key) {\n    return dataStore.get(instance, key);\n  },\n  removeData(instance, key) {\n    dataStore.delete(instance, key);\n  }\n};\n\nexport default Store;\n","import InputError from \"../errors/input.js\";\nimport Store from \"../data/store.js\";\n\nconst VERSION = \"0.1.2\";\n\nclass Input {\n  constructor(element, type, self) {\n    if (typeof element !== \"object\" &&\n        element.nodeType !== 1) {\n      throw new InputError(\"Invalid Argument\", \"`element` must be an element\");\n    }\n\n    this._element = element;\n    this._type = type;\n    this._value = null;\n    this._callback = () => {};\n  }\n\n  // getters ----\n\n  static get VERSION() {\n    return VERSION;\n  }\n\n  // methods ----\n\n  content(html) {\n    this._element.innerHTML = html;\n  }\n\n  dispose() {\n    Store.removeData(this._element, this._type);\n    this._element = null;\n  }\n\n  // public ----\n\n  static initialize(element, type, input) {\n    let data = Store.getData(element, type);\n\n    if (!data) {\n      data = new input(element);\n    }\n  }\n\n  static find(scope, selector) {\n    return scope.querySelectorAll(selector);\n  }\n\n  static getId(element) {\n    return element.id;\n  }\n\n  static getType(element) {\n    return null;\n  }\n\n  static getValue(element) {\n    throw new InputError(\"Unimplemented Method\");\n  }\n\n  static subscribe(element, callback, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return;\n    }\n\n    input._callback = callback;\n  }\n\n  static unsubscribe(element, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return;\n    }\n\n    input._callback = () => {};\n  }\n\n  static receiveMessage(element, message, type) {\n    let input = Store.getData(element, type);\n\n    if (!input) {\n      return;\n    }\n\n    message.forEach((msg) => {\n      console.log(msg);\n\n      let [method, args] = msg;\n\n      if (args === null) {\n        return;\n      }\n\n      input[method](args);\n    });\n  }\n\n  static getState(element, data) {\n    throw \"not implemented\";\n  }\n\n  static getRatePolicy() {\n    return null;\n  }\n}\n\nexport default Input;\n","// IE 11, ensure querySelectorAll + forEach works\n\nlet { matches, closest } = Element.prototype;\n\nif (!matches) {\n  matches = Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n          i = matches.length;\n\n      while (--i >= 0 && matches.item(i) !== this) {}\n\n      return i > -1;\n    };\n}\n\nif (!closest) {\n  closest = function(s) {\n    var el = this;\n\n    do {\n      if (matches.call(el, s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}\n\nlet findClosest = function(element, selector) {\n  return closest.call(element, selector);\n};\n\nlet matchesSelector = function(element, selector) {\n  return matches.call(element, selector);\n};\n\nlet asArray = function(x) {\n  if (!x) {\n    return [];\n  } else if (typeof x === \"object\" && x.length) {\n    return Array.prototype.slice.call(x);\n  } else {\n    return [x];\n  }\n};\n\nlet getPluginAttributes = function(element) {\n  return [\n    element.getAttribute(\"data-plugin\"),\n    element.getAttribute(\"data-action\"),\n    element.getAttribute(\"data-target\")\n  ];\n};\n\nlet isNode = function(x) {\n  return x && x.nodeType === 1;\n};\n\nlet activateElements = function(elements) {\n  if (!elements) {\n    return;\n  }\n\n  if (elements.length) {\n    asArray(elements).forEach(e => activateElements(e));\n  } else if (elements.classList) {\n    elements.classList.add(\"active\");\n  }\n};\n\nlet deactivateElements = function(elements) {\n  if (!elements) {\n    return;\n  }\n\n  if (elements.length) {\n    asArray(elements).forEach(e => deactivateElements(e));\n  } else if (elements.classList) {\n    elements.classList.remove(\"active\");\n  }\n};\n\nlet filterElements = function(elements, values, getValue = x => x.value) {\n  let targetValues = asArray(values).map(x => isNode(x) ? x : x.toString());\n\n  elements = asArray(elements);\n  let elementValues = elements.map(getValue);\n\n  let foundElements = [];\n\n  for (var i = 0; i < targetValues.length; i++) {\n    let v = targetValues[i];\n    let found = elements[isNode(v) ? elements.indexOf(v) : elementValues.indexOf(v)];\n\n    if (found === undefined) {\n      continue;\n    }\n\n    foundElements.push(found);\n  }\n\n  return foundElements;\n};\n\nlet all = function(...objs) {\n  for (var i = 0; i++; i < objs.length) {\n    if (!objs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nexport {\n  findClosest,\n  matchesSelector,\n  asArray,\n  getPluginAttributes,\n  isNode,\n  activateElements,\n  deactivateElements,\n  filterElements,\n  all\n};\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport InputError from \"../errors/input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  asArray,\n  findClosest,\n  getPluginAttributes\n} from \"../utils/index.js\";\n\nconst NAME = \"buttongroup\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-button-group\",\n  CHILD: \"btn\",\n  DISABLED: \"disabled\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`,\n  PLUGIN: \"[data-plugin]\"\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`\n};\n\nclass ButtonGroupInput extends Input {\n\n  static get TYPE() {\n    return TYPE;\n  }\n\n  constructor(element) {\n    super(element, TYPE);\n\n    if (!element.classList.contains(ClassName.INPUT)) {\n      throw new InputError(\"Invalid Element\", \"the target element is invalid\");\n    }\n\n    this._counter = 0;\n\n    Store.setData(element, TYPE, this);\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  content(html) {\n    this._element.innerHTML = html;\n  }\n\n  disable(values) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    asArray(children).forEach((btn) => {\n      if (typeof values === \"undefined\" || values.indexOf(btn.value) > -1) {\n        btn.setAttribute(ClassName.DISABLED, \"\");\n        btn.setAttribute(\"aria-disabled\", \"true\");\n      }\n    });\n  }\n\n  enable(values) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    asArray(children).forEach((btn) => {\n      if (typeof values === \"undefined\" || values.indexOf(btn.value) > -1) {\n        btn.removeAttribute(ClassName.DISABLED);\n        btn.setAttribute(\"aria-disabled\", \"false\");\n      }\n    });\n  }\n\n  static find(scope) {\n    return super.find(scope, `.${ ClassName.INPUT }`);\n  }\n\n  static initialize(element) {\n    super.initialize(element, TYPE, ButtonGroupInput);\n  }\n\n  static getType(element) {\n    return TYPE;\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return { value: input.value(), counter: input._counter++ };\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...ButtonGroupInput };\n  }\n}\n\n$(document).on(Event.CLICK, Selector.PARENT_CHILD, (event) => {\n  const button = event.currentTarget;\n  const group = findClosest(button, Selector.INPUT);\n\n  let input = Store.getData(group, TYPE);\n\n  if (!input) {\n    return;\n  }\n\n  input.value(button.value);\n});\n\n$(document).on(Event.CLICK, `${ Selector.PARENT_CHILD }${ Selector.PLUGIN }`, (event) => {\n  const button = event.currentTarget;\n  const [plugin, action, target] = getPluginAttributes(button);\n\n  if (!plugin || !action || !target) {\n    return;\n  }\n\n  if (plugin === \"tab\") {\n    $(button).one(\"shown.bs.tab\", (e) => button.classList.remove(\"active\"));\n  }\n\n  $(button)[plugin](action);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(ButtonGroupInput.ShinyInterface(), TYPE);\n}\n\nexport default ButtonGroupInput;\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  findClosest,\n  getPluginAttributes\n} from \"../utils/index.js\";\n\nconst NAME = \"button\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-button\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  PLUGIN: \"[data-plugin]\"\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`\n};\n\nclass ButtonInput extends Input {\n\n  static get TYPE() {\n    return TYPE;\n  }\n\n  constructor(element) {\n    super(element, TYPE);\n\n    this._value = 0;\n    this._isLink = element.tagName === \"A\";\n\n    Store.setData(element, TYPE, this);\n  }\n\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  content(html) {\n    this._element.innerHTML = html;\n  }\n\n  disable(values) {\n    if (this._isLink) {\n      this._element.classList.add(\"disabled\");\n    } else {\n      this._element.setAttribute(\"disabled\", \"\");\n    }\n  }\n\n  enable() {\n    if (this._isLink) {\n      this._element.classList.remove(\"disabled\");\n    } else {\n      this._element.removeAttribute(\"disabled\");\n    }\n  }\n\n  // static ----\n\n  static initialize(element) {\n    super.initialize(element, TYPE, ButtonInput);\n  }\n\n  static find(scope) {\n    return super.find(scope, Selector.INPUT);\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return input.value() === 0 ? null : input.value();\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...ButtonInput };\n  }\n}\n\n$(document).on(Event.CLICK, Selector.INPUT, (event) => {\n  let button = findClosest(event.target, Selector.INPUT);\n  let input = Store.getData(button, TYPE);\n\n  if (!input) {\n    return;\n  }\n\n  input.value(input.value() + 1);\n});\n\n$(document).on(Event.CLICK, `${ Selector.INPUT }${ Selector.PLUGIN }`, (event) => {\n  let button = findClosest(event.target, Selector.INPUT);\n  let [plugin, action, target] = getPluginAttributes(button);\n\n  if (!(plugin && action && target)) {\n    return;\n  }\n\n  if (plugin === \"tab\") {\n    $(button).one(\"shown.bs.tab\", (e) => button.classList.remove(\"active\"));\n  }\n\n  $(button)[plugin](action);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(ButtonInput.ShinyInterface(), TYPE);\n}\n\nexport default ButtonInput;\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbar[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"checkbar.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".btn\").forEach(btn => {\n        el.removeChild(btn);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\"input:checked\").forEach(input => {\n          input.checked = false;\n          input.parentNode.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n          input.parentNode.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"checkbar.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (enable.indexOf(btn.value) > -1) {\n            btn.classList.remove(\"disabled\");\n            btn.children[0].removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (disable.indexOf(btn.value) > -1) {\n            btn.classList.add(\"disabled\");\n            btn.children[0].setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","import { actionListener } from \"./actions.js\";\n\nexport let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbox[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback());\n    $el.on(\"checkbox.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-checkbox\").forEach(box => {\n        el.removeChild(box);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input:checked\").forEach(input => {\n        input.checked = false;\n      });\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        }\n      });\n\n      $(el).trigger(\"checkbox.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-invalid\");\n        input.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".inavlid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let chipInputBinding = new Shiny.InputBinding();\n\n$.extend(chipInputBinding, {\n  selectorActive: \".active\",\n  selectorToggle: \"input[data-toggle='dropdown']\",\n\n  find: (scope) => scope.querySelectorAll(\".yonder-chip[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    $el.on(\"input\", (e) => {\n      let value = $toggle[0].value;\n\n      chipInputBinding._filter(el, value);\n\n      if (chipInputBinding._visible(el).length === 0) {\n        $toggle.dropdown(\"hide\");\n      } else {\n        $toggle.dropdown(\"show\");\n      }\n    });\n\n    $el.on(\"input change\", (e) => {\n      $toggle.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      if (el.querySelector(\"input:focus\") === null) {\n        el.querySelector(\"input\").value = \"\";\n        chipInputBinding._filter(el, \"\");\n      }\n    });\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      e.stopPropagation();\n\n      chipInputBinding._add(el, e.currentTarget.value);\n      $toggle[0].focus();\n    });\n\n    $el.on(\"click\", \".chip\", (e) => {\n      chipInputBinding._remove(el, e.currentTarget.value);\n    });\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max !== -1 && chipInputBinding._selected(el).length >= max) {\n      chipInputBinding._disable(el);\n    }\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".active\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(selected, s => s.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item,.chip\", (e) => callback());\n    $el.on(\"chip.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let $el = $(el);\n\n    if (msg.items && msg.chips) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.items;\n      el.querySelector(\".chips\").innerHTML = msg.chips;\n    }\n\n    if (msg.selected) {\n      if (msg.selected === true) {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          chipInputBinding._add(el, item.value);\n        });\n      } else {\n        msg.selected.reverse();\n\n        chipInputBinding._selected(el).forEach(item => {\n          chipInputBinding._remove(el, item.value);\n        });\n\n        msg.selected.forEach(value => {\n          chipInputBinding._add(el, value);\n        });\n      }\n\n      $el.trigger(\"chip.select.yonder\");\n    }\n\n    if (msg.max !== undefined && msg.max !== null) {\n      el.setAttribute(\"data-max\", msg.max);\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        chipInputBinding._enable(el);\n        // el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.removeAttribute(\"disabled\");\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        chipInputBinding._disable(el);\n        // el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.setAttribute(\"disabled\", \"\");\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  },\n\n\n  _visible: (el) => {\n    return el.querySelectorAll(\":not(.selected),:not(.filtered)\");\n  },\n  _selected: (el) => {\n    return el.querySelectorAll(\".selected\");\n  },\n  _items: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".dropdown-item\"),\n      chip => chip.value === value\n    );\n  },\n  _chips: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".chip\"),\n      chip => chip.value === value\n    );\n  },\n\n  _enable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.removeAttribute(\"disabled\");\n    input.classList.remove(\"disabled\");\n  },\n  _disable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.setAttribute(\"disabled\", \"\");\n    input.classList.add(\"disabled\");\n  },\n  _filter: (el, value) => {\n    value = value.toLowerCase();\n\n    el.querySelectorAll(\".dropdown-item\").forEach(item => {\n      let match = item.innerText.toLowerCase().indexOf(value) !== -1;\n\n      if (match) {\n        item.classList.remove(\"filtered\");\n      } else {\n        item.classList.add(\"filtered\");\n      }\n    });\n  },\n  _add: (el, value) => {\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.add(\"selected\");\n    });\n\n    let chips = el.querySelector(\".chips\");\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chips.insertBefore(chips.removeChild(chip), chips.firstChild);\n      chip.classList.add(\"active\");\n    });\n\n    if (chipInputBinding._visible(el).length === 0) {\n      $toggle.dropdown(\"hide\");\n    }\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      $toggle.dropdown(\"update\");\n    } else {\n      $toggle.dropdown(\"hide\");\n      chipInputBinding._disable(el);\n    }\n  },\n  _remove: (el, value) => {\n    let max = +el.getAttribute(\"data-max\");\n\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chip.classList.remove(\"active\");\n    });\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.remove(\"selected\");\n    });\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      chipInputBinding._enable(el);\n    }\n  }\n});\n\nShiny.inputBindings.register(chipInputBinding, \"yonder.chipInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$.extend(fileInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-file[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"dragover\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"dragcenter\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"drop\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      fileInputBinding._upload(el, e.originalEvent.dataTransfer.files);\n    });\n\n    $el.on(\"change\", (e) => {\n      fileInputBinding._upload(el);\n    });\n  },\n  getValue: (el) => null,\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      input.classList.remove(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n    }\n  },\n  _post: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            el.querySelector(\"input[type='file']\").value = \"\";\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _upload: function(el, files) {\n    let input = el.querySelector(\"input[type='file']\");\n\n    if (files === undefined) {\n      files = input.files;\n    }\n\n    if (!files) {\n      return;\n    }\n\n    if (!input.hasAttribute(\"multiple\")) {\n      files = Array.prototype.slice.call(files, 0, 1);\n    } else {\n      files = Array.prototype.slice.call(files);\n    }\n\n    let info = files.map(f => {\n      return { name: f.name, size: f.size, type: f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._post(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  bsCustomFileInput.init(\".yonder-file[id] input[type='file']\");\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-form[id]\"),\n  initialize: (el) => {\n    let $document = $(document);\n    let $el = $(el);\n\n    let store = {};\n    let value = null;\n\n    el.querySelectorAll(\".yonder-form-submit\").forEach(s => {\n      s.setAttribute(\"type\", \"submit\");\n    });\n\n    $document.on(\"shiny:inputchanged.yonder\", (e) => {\n      if (!e.el || e.priority === \"event\") {\n        return;\n      }\n\n      if (e.el.id === el.id) {\n        Shiny.onInputChange(el.id, value, { priority: \"event\" });\n        e.preventDefault();\n        return;\n      }\n\n      if (el.contains(e.el)) {\n        store[e.name] = e.value;\n        e.preventDefault();\n      }\n    });\n\n    $el.on(\"click.yonder\", \".yonder-form-submit\", (e) => {\n      value = e.currentTarget.value;\n    });\n\n    $el.on(\"submit.yonder\", (e) => {\n      Object.keys(store).forEach(key => {\n        Shiny.onInputChange(key, store[key], { priority: \"event\" });\n      });\n    });\n  },\n  getValue: (el) => null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"submit.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n    $(document).off(\"shiny:inputchanged.yonder\");\n  }\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","import { actionListener } from \"./actions.js\";\n\nexport let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-link[id]\"),\n  initialize: (el) => {\n    el.value = 0;\n\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n\n    actionListener(el, null, \"click\");\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"link.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value !== null && msg.value !== undefined) {\n      el.value = msg.value;\n      $(el).trigger(\"link.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","import { actionListener } from \"./actions.js\";\n\nexport let listGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(listGroupInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-list-group[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".list-group-item-action:not(.active):not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(item => {\n        item.classList.remove(\"active\");\n      });\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".list-group-item-action.active:not(.disabled)\", (e) => {\n      e.currentTarget.classList.remove(\"active\");\n    });\n\n    actionListener(el, \".list-group-item:not(.disabled)\", \"click\");\n  },\n  getValue: (el) => {\n    let items = el.querySelectorAll(\".list-group-item-action.active:not(.disabled)\");\n\n    if (items.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(items).map(i => i.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"listgroup.select.yonder\", (e) => callback());\n  },\n  unsubcribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        el.removeChild(item);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\".list-group-item.active\").forEach(item => {\n          item.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"listgroup.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport {\n  findClosest,\n  asArray,\n  isNode,\n  activateElements,\n  deactivateElements,\n  filterElements\n} from \"../utils/index.js\";\n\nconst NAME = \"menu\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-menu\",\n  CHILD: \"dropdown-item\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`,\n  TOGGLE: \"[data-toggle='dropdown']\"\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`,\n  CLOSE: \"hide.bs.dropdown\",\n  CLOSED: \"hidden.bs.dropdown\"\n};\n\nclass MenuInput extends Input {\n\n  constructor(element) {\n    super(element, TYPE);\n\n    this._counter = 0;\n\n    Store.setData(element, TYPE, this);\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  select(values) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    let targets = filterElements(children, values);\n\n    deactivateElements(children);\n\n    if (targets.length) {\n      activateElements(targets[0]);\n      this.value(targets[0].value);\n    }\n  }\n\n  // static ----\n\n  static get TYPE() {\n    return TYPE;\n  }\n\n  static get Selector() {\n    return Selector;\n  }\n\n  static get Event() {\n    return Event;\n  }\n\n  static initialize(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      input = new MenuInput(element);\n    }\n  }\n\n  static find(element) {\n    return super.find(element, Selector.INPUT);\n  }\n\n  static getType(element) {\n    return TYPE;\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return { value: input.value(), counter: input._counter++ };\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...MenuInput };\n  }\n}\n\n// events ----\n\n$(document).on(Event.CLICK, Selector.PARENT_CHILD, (event) => {\n  let item = findClosest(event.target, Selector.CHILD);\n\n  if (!item) {\n    return;\n  }\n\n  let menu = findClosest(item, Selector.INPUT);\n  let menuInput = Store.getData(menu, TYPE);\n\n  if (!menuInput) {\n    return;\n  }\n\n  menuInput.select(item);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(MenuInput.ShinyInterface(), TYPE);\n}\n\nexport default MenuInput;\n","import $ from \"jQuery\";\nimport Shiny from \"Shiny\";\n\nimport Input from \"./input.js\";\nimport Store from \"../data/store.js\";\nimport MenuInput from \"./menu.js\";\nimport {\n  findClosest,\n  asArray,\n  getPluginAttributes,\n  isNode,\n  activateElements,\n  deactivateElements,\n  filterElements,\n  all\n} from \"../utils/index.js\";\n\nconst NAME = \"nav\";\nconst TYPE = `yonder.${ NAME }`;\n\nconst ClassName = {\n  INPUT: \"yonder-nav\",\n  CHILD: \"nav-link\",\n  ITEM: \"nav-item\"\n};\n\nconst Selector = {\n  INPUT: `.${ ClassName.INPUT }`,\n  CHILD: `.${ ClassName.CHILD }`,\n  PARENT_CHILD: `.${ ClassName.INPUT } .${ ClassName.CHILD }`,\n  ACTIVE: \".active\",\n  DISABLED: \".disabled\",\n  PLUGIN: \"[data-plugin]\",\n  NAV_ITEM: `.${ ClassName.ITEM }`,\n  MENU_TOGGLE: MenuInput.Selector.TOGGLE,\n  MENU_ITEM: MenuInput.Selector.CHILD,\n};\n\nconst Event = {\n  CLICK: `click.${ TYPE }`\n};\n\nclass NavInput extends Input {\n\n  constructor(element) {\n    super(element, TYPE);\n\n    Store.setData(element, TYPE, this);\n  }\n\n  value(x) {\n    if (typeof x === \"undefined\") {\n      return this._value;\n    }\n\n    this._value = x;\n    this._callback();\n\n    return this;\n  }\n\n  select(values) {\n    let children = this._element.querySelectorAll(Selector.CHILD);\n\n    let targets = filterElements(children, values);\n\n    deactivateElements(children);\n\n    asArray(children).forEach(child => {\n      if (targets.indexOf(child) > -1) {\n        return;\n      }\n\n      let menuInput = Store.getData(child.parentNode, MenuInput.TYPE);\n\n      if (!menuInput) {\n        return;\n      }\n\n      menuInput.select(null);\n    });\n\n    if (targets.length) {\n      activateElements(targets[0]);\n      this.value(targets[0].value);\n    }\n  }\n\n  disable(values) {\n\n  }\n\n  enable(values) {\n\n  }\n\n  // static ----\n\n  static initialize(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      input = new NavInput(element);\n    }\n  }\n\n  static find(scope) {\n    return super.find(scope, Selector.INPUT);\n  }\n\n  static getValue(element) {\n    let input = Store.getData(element, TYPE);\n\n    if (!input) {\n      return null;\n    }\n\n    return input.value();\n  }\n\n  static subscribe(element, callback) {\n    super.subscribe(element, callback, TYPE);\n  }\n\n  static unsubscribe(element) {\n    super.unsubscribe(element, TYPE);\n  }\n\n  static receiveMessage(element, message) {\n    super.receiveMessage(element, message, TYPE);\n  }\n\n  static ShinyInterface() {\n    return { ...Input, ...NavInput };\n  }\n}\n\n// events ----\n\n$(document).on(Event.CLICK, `${ Selector.PARENT_CHILD }:not(${ Selector.MENU_TOGGLE })`, (event) => {\n  let nav = findClosest(event.target, Selector.INPUT);\n  let navInput = Store.getData(nav, TYPE);\n\n  if (!navInput) {\n    return;\n  }\n\n  console.log(\"hmm\");\n\n  let button = findClosest(event.target, Selector.CHILD);\n\n  navInput.select(button);\n});\n\n$(document).on(Event.CLICK, `${ Selector.PARENT_CHILD }${ Selector.PLUGIN }`, (event) => {\n  let link = findClosest(event.target, Selector.CHILD);\n  let [plugin, action, target] = getPluginAttributes(link);\n\n  if (!all(plugin, action, target)) {\n    return;\n  }\n\n  deactivateElements(link);\n\n  $(link)[plugin](action);\n});\n\n$(document).on(Event.CLICK, `${ Selector.INPUT } ${ Selector.MENU_ITEM }`, (event) => {\n  let nav = findClosest(event.target, Selector.INPUT);\n  let navInput = Store.getData(nav, TYPE);\n\n  if (!navInput) {\n    return;\n  }\n\n  let item = findClosest(event.target, Selector.NAV_ITEM);\n  let link = item.querySelector(Selector.CHILD);\n\n  navInput.select(link);\n});\n\nif (Shiny) {\n  Shiny.inputBindings.register(NavInput.ShinyInterface(), TYPE);\n}\n\nexport default NavInput;\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null || pane.classList.contains(\"show\")) {\n      return;\n    }\n\n    if (!pane.parentElement.classList.contains(\"tab-content\")) {\n      console.warn(`nav pane ${ pane.id } is missing a nav content parent element`);\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  let _hide = function(pane) {\n    if (pane === null || !pane.classList.contains(\"show\")) {\n      return;\n    }\n\n    if (!pane.parentElement.classList.contains(\"tab-content\")) {\n      console.warn(`nav pane ${ pane.id } is missing a nav content parent element`);\n      return;\n    }\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      $(pane).trigger(hiddenEvent);\n    };\n\n    let dummy = document.createElement(\"div\");\n\n    bootstrap.Tab.prototype._activate(dummy, pane.parentElement, complete);\n  };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  let target = document.getElementById(msg.data.target);\n\n  if (target === null) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(target);\n  } else if (msg.type === \"hide\") {\n    _hide(target);\n  }\n});\n","import { actionListener } from \"./actions.js\";\n\nexport let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-radio[id]\");\n  },\n  initialize: (el) => {\n    actionListener(el, \"input[type='radio']\", \"input\");\n  },\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\".custom-radio > input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"radio.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-radio\").forEach((radio) => {\n        el.removeChild(radio);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        } else {\n          input.checked = false;\n        }\n      });\n\n      $(el).trigger(\"radio.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (disable.indexOf(input.value)> -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.remove(\"is-valid\");\n        radio.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","import { actionListener } from \"./actions.js\";\n\nexport let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-radiobar[id]\"),\n  initialize: (el) => {\n    actionListener(el, \"input[type='radio']\", \"change\");\n  },\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.parentNode.classList.remove(\"disabled\");\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.parentNode.classList.add(\"disabled\");\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-range[id]\"),\n  getId: (el) => el.id,\n  getValue: (el) => +el.children[0].value,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"input.yonder\", callback(true));\n    $el.on(\"range.value.yonder\");\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let input = el.children[0];\n\n    if (msg.value) {\n      input.value = msg.value;\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-select[id]\");\n  },\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      $el[0].querySelector(\"input\").placeholder = e.currentTarget.innerText;\n\n      let prev = $el[0].querySelector(\".active\");\n      if (prev) {\n        prev.classList.remove(\"active\");\n      }\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    let $input = $(el.querySelector(\"input\"));\n    $el.on(\"input change\", \"input\", (e) => {\n      let pattern = $input[0].value.toLowerCase();\n\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (item.innerText.toLowerCase().indexOf(pattern) === -1) {\n          item.classList.add(\"filtered\");\n        } else {\n          item.classList.remove(\"filtered\");\n        }\n      });\n\n      $input.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      $input[0].value = \"\";\n      el.querySelectorAll(\".filtered\").forEach(f => {\n        f.classList.remove(\"filtered\");\n      });\n    });\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".dropdown-item.active:not(.disabled)\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(selected).map(o => o.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n    $el.on(\"select.select.yonder\", (e) => callback()); // ha.\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n          el.querySelector(\"input\").placeholder = item.innerText;\n        } else {\n          item.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"select.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"input\").classList.add(\"is-valid\");\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"input\").classList.add(\"is-invalid\");\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      let input = el.querySelector(\"input\");\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n\nexport let groupSelectInputBinding = new Shiny.InputBinding();\n\n$.extend(groupSelectInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-select[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, select, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group.select\",\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click\", \".dropdown-item\", (e) => callback());\n    } else {\n      $el.on(\"change\", (e) => callback());\n      $el.on(\"groupselect.select.yonder\", (e) => callback());\n    }\n  },\n  receiveMessage: (el, msg) => {\n    let select = el.querySelector(\"input[data-toggle='dropdown']\");\n\n    if (msg.content) {\n      select.innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      select.querySelectorAll(\"option\").forEach(option => {\n        if (msg.selected.indexOf(option.value) > -1) {\n          option.setAttribute(\"selected\", \"\");\n        } else {\n          option.removeAttribute(\"selected\");\n        }\n      });\n\n      $(el).trigger(\"groupselect.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        select.removeAttribute(\"disabled\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.removeAttribute(\"disabled\");\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable) {\n        select.setAttribute(\"disabled\", \"\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.setAttribute(\"disabled\", \"\");\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      select.classList.remove(\"is-invalid\");\n      select.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      select.classList.remove(\"is-valid\");\n      select.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      select.classList.remove(\"is-valid\");\n      select.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n\n  }\n});\n\nShiny.inputBindings.register(groupSelectInputBinding, \"yonder.groupSelectInputBinding\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-textual[id]\"),\n  getValue: (el) => {\n    let input = el.children[0];\n\n    if (input.value === \"\") {\n      return null;\n    }\n\n    return input.type === \"number\" ? Number(input.value) : input.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback(true));\n    $el.on(\"input.yonder\", (e) => callback(true));\n    $el.on(\"textual.value.yonder\", (e) => callback(true));\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  getRatePolicy: () => ({ policy: \"debounce\", delay: 250 }),\n  receiveMessage: (el, msg) => {\n    if (msg.value !== null) {\n      el.querySelector(\"input\").value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.children[0].removeAattribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.children[0].setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.classList.remove(\"is-invalid\");\n      el.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.classList.remove(\"is-valid\");\n      el.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.children[0].classList.remove(\"is-valid\");\n      el.children[0].classList.remove(\"is-invalid\");\n    }\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n\nexport let groupTextInputBinding = new Shiny.InputBinding();\n\n$.extend(groupTextInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-text[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group.text\",\n  getRatePolicy: (el) => ({ policy: \"debounce\", delay: 250 }),\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n      $el.on(\"click.yonder\", \".btn:not(.dropdown-toggle\", (e) => callback());\n    } else {\n      $el.on(\"input.yonder\", (e) => callback(true));\n      $el.on(\"change.yonder\", (e) => callback(true));\n      $el.on(\"textual.value.yonder\", (e) => callback());\n    }\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.value) {\n      input.value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      input.classList.remove(\"is-invalid\");\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      input.classList.remove(\"is-valid\");\n      input.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(groupTextInputBinding, \"yonder.groupTextInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:download\", (msg) => {\n  if (!(msg.filename && msg.token && msg.key)) {\n    throw \"invalid download event\";\n  }\n\n  const uri = `/session/${ msg.token }/download/${ msg.key }`;\n\n  let agent = window.navigator.userAgent;\n  let ie = /MSIE/.test(agent);\n\n  if (ie === true) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", uri);\n    xhr.responseType = \"blob\";\n    xhr.onload = () => saveAs(xhr.response, msg.filename);\n    xhr.send();\n  } else {\n    fetch(uri)\n      .then(res => res.blob())\n      .then(blob => {\n        saveAs(blob, msg.filename);\n      });\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:content\", (msg) => {\n  let _replace = (data) => {\n    if (!data.id) {\n      return;\n    }\n\n    let target = document.getElementById(data.id);\n\n    if (!target) {\n      return;\n    }\n\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    if (data.content) {\n      Shiny.unbindAll(target);\n      target.innerHTML = data.content;\n      Shiny.initializeInputs(target);\n      Shiny.bindAll(target);\n    }\n\n    if (data.attrs) {\n      Object.keys(data.attrs).forEach(key => {\n        target.setAttribute(key, data.attrs[key]);\n      });\n    }\n  };\n\n  let _remove = (data) => {\n    if (!data.id) {\n      return;\n    }\n\n    let target = document.getElementById(data.id);\n\n    if (!target) {\n      return;\n    }\n\n    Shiny.unbindAll(target);\n    target.innerHTML = \"\";\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"replace\") {\n    _replace(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no content \"${ msg.type }\" method`);\n  }\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\"beforeend\", \"<div class='yonder-modals'></div>\");\n});\n\nShiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  let _close = function(data) {\n    let modals = document.querySelector(\".yonder-modals\").childNodes;\n\n    if (modals.length === 0) {\n      return;\n    }\n\n    if (data.id) {\n      modals = Array.prototype.filter.call(modals, m => m.id === data.id);\n    }\n\n    modals.forEach((modal) => {\n      if (!modal.classList.contains(\"yonder-modal\")) {\n        return;\n      }\n\n      $(modal).modal(\"hide\");\n    });\n  };\n\n  let _show = function(data) {\n    if (data.id) {\n      let possible = document.getElementById(data.id);\n\n      if (possible && possible.classList.contains(\"yonder-modal\")) {\n        console.warn(\"ignoring modal with duplicate id\");\n        return;\n      }\n    }\n\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.querySelector(\".yonder-modals\");\n\n    container.insertAdjacentHTML(\"beforeend\", data.content);\n    let modal = container.querySelector(\".yonder-modal:last-child\");\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n\n    let $modal = $(modal);\n\n    $modal.one(\"hidden.bs.modal\", (e) => {\n      if (modal.id) {\n        Shiny.onInputChange(modal.id, true);\n        setTimeout(() => Shiny.onInputChange(modal.id, null), 100);\n      }\n\n      container.removeChild(modal);\n    });\n\n    $(modal).modal(\"show\");\n  };\n\n  if (msg.type === \"close\") {\n    _close(msg.data);\n  } else if (msg.type === \"show\") {\n    _show(msg.data);\n  } else {\n    console.warn(`no modal ${ msg.type } method`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n  if (!msg.data.id || !document.getElementById(msg.data.id)) {\n    return;\n  }\n\n  let _show = (data) => {\n    let $target = $(document.getElementById(data.id));\n\n    $target.popover({\n      content: () => undefined,\n      placement: data.placement,\n      template: data.content,\n      title: () => undefined,\n      trigger: \"manual\"\n    });\n\n    if (data.duration) {\n      setTimeout(() => $target.popover(\"hide\"), data.duration);\n    }\n\n    $target.popover(\"show\");\n  };\n\n  let _close = (data) => {\n    let target = document.getElementById(data.id);\n\n    if (!target) {\n      return;\n    }\n\n    $(target).popover(\"hide\");\n  };\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no \"${ msg.type }\" popover method`);\n  }\n});\n","$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\"beforeend\", \"<div class='yonder-toasts'></div>\");\n\n  $(\".yonder-toasts\").on(\"hidden.bs.toast\", \".toast\", (e) => {\n    if (e.currentTarget.hasAttribute(\"data-action\")) {\n      let action = e.currentTarget.getAttribute(\"data-action\");\n      Shiny.onInputChange(action, true);\n      setTimeout(() => Shiny.onInputChange(action, null), 100);\n    }\n\n    e.delegateTarget.removeChild(e.currentTarget);\n  });\n});\n\nShiny.addCustomMessageHandler(\"yonder:toast\", (msg) => {\n  let _show = function(data) {\n    document.querySelector(\".yonder-toasts\")\n      .insertAdjacentHTML(\"beforeend\", data.content);\n\n    $(\".yonder-toasts > .toast:last-child\").toast(\"show\");\n  };\n\n  let _close = function(data) {\n    let toasts = document.querySelectorAll(\".yonder-toasts .toast\");\n\n    if (toasts.length) {\n      $(toasts).toast(\"hide\");\n    }\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no toast ${ msg.type } method`);\n  }\n});\n","import \"./actions.js\";\n\nimport ButtonGroupInput from \"./inputs/button-group.js\";\nimport ButtonInput from \"./inputs/button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-chip.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport MenuInput from \"./inputs/menu.js\";\nimport NavInput from \"./inputs/nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./collapse.js\";\nimport \"./download.js\";\nimport \"./content.js\";\nimport \"./modal.js\";\nimport \"./popover.js\";\nimport \"./tooltip.js\";\nimport \"./toast.js\";\n\nexport default {\n  ButtonGroupInput,\n  ButtonInput,\n  MenuInput,\n  NavInput\n};\n"],"names":["deactivateRelatives","el","parentNode","querySelectorAll","forEach","pane","document","id","t","classList","remove","actionPerform","plugin","getAttribute","action","target","querySelector","contains","$","tagName","window","setTimeout","actionListener","selector","event","on","e","clicked","currentTarget","InputError","code","message","full","name","Error","dataStore","storeData","set","element","key","data","get","keyProperties","delete","Store","setData","instance","getData","removeData","VERSION","Input","type","self","nodeType","_element","_type","_value","_callback","content","html","innerHTML","dispose","initialize","input","find","scope","getId","getType","getValue","subscribe","callback","unsubscribe","receiveMessage","msg","console","log","method","args","getState","getRatePolicy","Element","prototype","matches","closest","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","i","length","item","call","parentElement","findClosest","asArray","x","Array","slice","getPluginAttributes","isNode","activateElements","elements","add","deactivateElements","filterElements","values","value","targetValues","map","toString","elementValues","foundElements","v","found","indexOf","undefined","push","all","NAME","TYPE","ClassName","INPUT","CHILD","DISABLED","Selector","PARENT_CHILD","PLUGIN","Event","CLICK","ButtonGroupInput","_counter","disable","children","btn","setAttribute","enable","removeAttribute","counter","ShinyInterface","button","group","one","Shiny","inputBindings","register","ButtonInput","_isLink","checkbarInputBinding","InputBinding","extend","checked","c","$el","off","removeChild","insertAdjacentHTML","selected","trigger","checkboxInputBinding","box","valid","invalid","chipInputBinding","selectorActive","selectorToggle","$toggle","_filter","_visible","dropdown","stopPropagation","_add","focus","_remove","max","_selected","_disable","items","chips","reverse","_enable","_items","filter","chip","_chips","toLowerCase","match","innerText","insertBefore","firstChild","fileInputBinding","preventDefault","_upload","originalEvent","dataTransfer","files","_post","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","err","error","send","hasAttribute","info","f","size","jobId","uploadUrl","addEventListener","bsCustomFileInput","init","formInputBinding","$document","store","priority","onInputChange","Object","keys","linkInputBinding","listGroupInputBinding","unsubcribe","TOGGLE","CLOSE","CLOSED","MenuInput","select","targets","menu","menuInput","ITEM","ACTIVE","NAV_ITEM","MENU_TOGGLE","MENU_ITEM","NavInput","child","nav","navInput","link","addCustomMessageHandler","_show","warn","previous","complete","hiddenEvent","relatedTarget","shownEvent","bootstrap","Tab","_activate","_hide","dummy","createElement","getElementById","radioInputBinding","radios","r","radio","radiobarInputBinding","rangeInputBinding","selectInputBinding","placeholder","prev","$input","pattern","o","groupSelectInputBinding","inputs","test","option","textualInputBinding","Number","policy","delay","removeAattribute","groupTextInputBinding","collapse","filename","token","agent","navigator","userAgent","ie","responseType","onload","saveAs","response","fetch","then","blob","_replace","dependencies","renderDependencies","unbindAll","initializeInputs","bindAll","attrs","body","_close","modals","childNodes","m","modal","possible","container","$modal","$target","popover","placement","template","title","duration","tooltip","delegateTarget","toast","toasts"],"mappings":";;;;;;;;;EAAA,IAAIA,mBAAmB,GAAG,SAAtBA,mBAAsB,CAASC,EAAT,EAAa;EACrCA,EAAAA,EAAE,CAACC,UAAH,CACGC,gBADH,CACoB,eADpB,EAEGC,OAFH,CAEW,UAAAC,IAAI,EAAI;EACfC,IAAAA,QAAQ,CAACH,gBAAT,sBAA6CE,IAAI,CAACE,EAAlD,UACGH,OADH,CACW,UAAAI,CAAC;EAAA,aAAIA,CAAC,CAACC,SAAF,CAAYC,MAAZ,CAAmB,QAAnB,CAAJ;EAAA,KADZ;EAED,GALH;EAMD,CAPD;;EASA,IAAIC,aAAa,GAAG,SAAhBA,aAAgB,CAASV,EAAT,EAAa;EAC/B,MAAIW,MAAM,GAAGX,EAAE,CAACY,YAAH,CAAgB,aAAhB,CAAb;EACA,MAAIC,MAAM,GAAGb,EAAE,CAACY,YAAH,CAAgB,aAAhB,CAAb;EACA,MAAIE,MAAM,GAAGd,EAAE,CAACY,YAAH,CAAgB,aAAhB,CAAb;;EAEA,MAAI,EAAED,MAAM,IAAIE,MAAV,IAAoBC,MAAtB,CAAJ,EAAmC;EACjC;EACD;;EAED,MAAIT,QAAQ,CAACU,aAAT,CAAuBD,MAAvB,EAA+BN,SAA/B,CAAyCQ,QAAzC,CAAkD,MAAlD,CAAJ,EAA+D;EAC7D;EACD;;EAED,MAAIL,MAAM,KAAK,KAAf,EAAsB;EACpBZ,IAAAA,mBAAmB,CAACM,QAAQ,CAACU,aAAT,CAAuBD,MAAvB,CAAD,CAAnB;EACD;;EAEDG,EAAAA,CAAC,CAACjB,EAAD,CAAD,CAAMW,MAAN,EAAcE,MAAd;;EAEA,MAAIb,EAAE,CAACkB,OAAH,KAAe,QAAnB,EAA6B;EAC3B,QAAIlB,EAAE,CAACQ,SAAH,CAAaQ,QAAb,CAAsB,KAAtB,CAAJ,EAAkC;EAChCG,MAAAA,MAAM,CAACC,UAAP,CAAkB;EAAA,eAAMpB,EAAE,CAACQ,SAAH,CAAaC,MAAb,CAAoB,QAApB,CAAN;EAAA,OAAlB,EAAuD,CAAvD;EACD;;EAED,QAAIT,EAAE,CAACQ,SAAH,CAAaQ,QAAb,CAAsB,eAAtB,CAAJ,EAA4C;EAC1CG,MAAAA,MAAM,CAACC,UAAP,CAAkB,YAAM;EACtBpB,QAAAA,EAAE,CAACe,aAAH,CAAiB,kBAAjB,EAAqCP,SAArC,CAA+CC,MAA/C,CAAsD,QAAtD;EACD,OAFD,EAEG,CAFH;EAGD;EACF,GAVD,MAUO,IAAIT,EAAE,CAACkB,OAAH,KAAe,OAAnB,EAA4B;EACjCC,IAAAA,MAAM,CAACC,UAAP,CAAkB;EAAA,aAAMpB,EAAE,CAACQ,SAAH,CAAaC,MAAb,CAAoB,QAApB,CAAN;EAAA,KAAlB,EAAuD,CAAvD;EACD;EACF,CAhCD;EAmCA;EAEA;EACA;;;AAEA,EAAO,IAAIY,cAAc,GAAG,SAAjBA,cAAiB,CAASrB,EAAT,EAAasB,QAAb,EAAuBC,KAAvB,EAA8B;EACxDN,EAAAA,CAAC,CAACjB,EAAD,CAAD,CAAMwB,EAAN,CAASD,KAAT,EAAgBD,QAAhB,EAA0B,UAACG,CAAD,EAAO;EAC/B,QAAIC,OAAO,GAAGD,CAAC,CAACE,aAAhB;EAEAjB,IAAAA,aAAa,CAACgB,OAAD,CAAb;EACD,GAJD;EAKD,CANM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCjDDE;;;;;EACJ,sBAAYC,IAAZ,EAAkBC,OAAlB,EAA2B;EAAA;;EACzB,QAAMC,IAAI,GAAGD,OAAO,GAAOD,IAAP,UAAkBC,OAAlB,GAA+BD,IAAnD;EACA,8BAAME,IAAN;EAEA,UAAKC,IAAL,GAAYH,IAAZ;EACA,UAAKC,OAAL,GAAeC,IAAf;EALyB;EAM1B;;;qBAPsBE;;ECAzB,IAAMC,SAAS,GAAI,YAAM;EACvB,MAAMC,SAAS,GAAG,EAAlB;EACA,MAAI7B,EAAE,GAAG,CAAT;EAEA,SAAO;EACL8B,IAAAA,GADK,eACDC,OADC,EACQC,GADR,EACaC,IADb,EACmB;EACtB,UAAI,OAAOF,OAAO,CAACC,GAAf,KAAuB,WAA3B,EAAwC;EACtCD,QAAAA,OAAO,CAACC,GAAR,GAAc;EACZA,UAAAA,GAAG,EAAHA,GADY;EAEZhC,UAAAA,EAAE,EAAFA;EAFY,SAAd;EAIAA,QAAAA,EAAE;EACH;EAED6B,MAAAA,SAAS,CAACE,OAAO,CAACC,GAAR,CAAYhC,EAAb,CAAT,GAA4BiC,IAA5B;EACD,KAXI;EAYLC,IAAAA,GAZK,eAYDH,OAZC,EAYQC,GAZR,EAYa;EAChB,UAAI,CAACD,OAAD,IAAY,OAAOA,OAAO,CAACC,GAAf,KAAuB,WAAvC,EAAoD;EAClD,eAAO,IAAP;EACD;;EAED,UAAMG,aAAa,GAAGJ,OAAO,CAACC,GAA9B;;EACA,UAAIG,aAAa,CAACH,GAAd,KAAsBA,GAA1B,EAA+B;EAC7B,eAAOH,SAAS,CAACM,aAAa,CAACnC,EAAf,CAAhB;EACD;;EAED,aAAO,IAAP;EACD,KAvBI;EAwBLoC,IAAAA,MAxBK,mBAwBEL,OAxBF,EAwBWC,GAxBX,EAwBgB;EACnB,UAAI,OAAOD,OAAO,CAACC,GAAf,KAAuB,WAA3B,EAAwC;EACtC;EACD;;EAED,UAAMG,aAAa,GAAGJ,OAAO,CAACC,GAA9B;;EACA,UAAIG,aAAa,CAACH,GAAd,KAAsBA,GAA1B,EAA+B;EAC7B,eAAOH,SAAS,CAACM,aAAa,CAACnC,EAAf,CAAhB;EACA,eAAO+B,OAAO,CAACC,GAAf;EACD;EACF;EAlCI,GAAP;EAoCD,CAxCiB,EAAlB;;EA0CA,IAAMK,KAAK,GAAG;EACZC,EAAAA,OADY,mBACJC,QADI,EACMP,GADN,EACWC,IADX,EACiB;EAC3BL,IAAAA,SAAS,CAACE,GAAV,CAAcS,QAAd,EAAwBP,GAAxB,EAA6BC,IAA7B;EACD,GAHW;EAIZO,EAAAA,OAJY,mBAIJD,QAJI,EAIMP,GAJN,EAIW;EACrB,WAAOJ,SAAS,CAACM,GAAV,CAAcK,QAAd,EAAwBP,GAAxB,CAAP;EACD,GANW;EAOZS,EAAAA,UAPY,sBAODF,QAPC,EAOSP,GAPT,EAOc;EACxBJ,IAAAA,SAAS,CAACQ,MAAV,CAAiBG,QAAjB,EAA2BP,GAA3B;EACD;EATW,CAAd;;ECvCA,IAAMU,OAAO,GAAG,OAAhB;;MAEMC;;;EACJ,iBAAYZ,OAAZ,EAAqBa,IAArB,EAA2BC,IAA3B,EAAiC;EAC/B,QAAI,OAAOd,OAAP,KAAmB,QAAnB,IACAA,OAAO,CAACe,QAAR,KAAqB,CADzB,EAC4B;EAC1B,YAAM,IAAIxB,UAAJ,CAAe,kBAAf,EAAmC,8BAAnC,CAAN;EACD;;EAED,SAAKyB,QAAL,GAAgBhB,OAAhB;EACA,SAAKiB,KAAL,GAAaJ,IAAb;EACA,SAAKK,MAAL,GAAc,IAAd;;EACA,SAAKC,SAAL,GAAiB,YAAM,EAAvB;EACD;;;;;EAQD;WAEAC,UAAA,iBAAQC,IAAR,EAAc;EACZ,SAAKL,QAAL,CAAcM,SAAd,GAA0BD,IAA1B;EACD;;WAEDE,UAAA,mBAAU;EACRjB,IAAAA,KAAK,CAACI,UAAN,CAAiB,KAAKM,QAAtB,EAAgC,KAAKC,KAArC;EACA,SAAKD,QAAL,GAAgB,IAAhB;EACD;;;UAIMQ,aAAP,oBAAkBxB,OAAlB,EAA2Ba,IAA3B,EAAiCY,KAAjC,EAAwC;EACtC,QAAIvB,IAAI,GAAGI,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBa,IAAvB,CAAX;;EAEA,QAAI,CAACX,IAAL,EAAW;EACTA,MAAAA,IAAI,GAAG,IAAIuB,KAAJ,CAAUzB,OAAV,CAAP;EACD;EACF;;UAEM0B,OAAP,cAAYC,KAAZ,EAAmB1C,QAAnB,EAA6B;EAC3B,WAAO0C,KAAK,CAAC9D,gBAAN,CAAuBoB,QAAvB,CAAP;EACD;;UAEM2C,QAAP,eAAa5B,OAAb,EAAsB;EACpB,WAAOA,OAAO,CAAC/B,EAAf;EACD;;UAEM4D,UAAP,iBAAe7B,OAAf,EAAwB;EACtB,WAAO,IAAP;EACD;;UAEM8B,WAAP,kBAAgB9B,OAAhB,EAAyB;EACvB,UAAM,IAAIT,UAAJ,CAAe,sBAAf,CAAN;EACD;;UAEMwC,YAAP,mBAAiB/B,OAAjB,EAA0BgC,QAA1B,EAAoCnB,IAApC,EAA0C;EACxC,QAAIY,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBa,IAAvB,CAAZ;;EAEA,QAAI,CAACY,KAAL,EAAY;EACV;EACD;;EAEDA,IAAAA,KAAK,CAACN,SAAN,GAAkBa,QAAlB;EACD;;UAEMC,cAAP,qBAAmBjC,OAAnB,EAA4Ba,IAA5B,EAAkC;EAChC,QAAIY,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBa,IAAvB,CAAZ;;EAEA,QAAI,CAACY,KAAL,EAAY;EACV;EACD;;EAEDA,IAAAA,KAAK,CAACN,SAAN,GAAkB,YAAM,EAAxB;EACD;;UAEMe,iBAAP,wBAAsBlC,OAAtB,EAA+BP,OAA/B,EAAwCoB,IAAxC,EAA8C;EAC5C,QAAIY,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBa,IAAvB,CAAZ;;EAEA,QAAI,CAACY,KAAL,EAAY;EACV;EACD;;EAEDhC,IAAAA,OAAO,CAAC3B,OAAR,CAAgB,UAACqE,GAAD,EAAS;EACvBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;EADuB,UAGlBG,MAHkB,GAGFH,GAHE;EAAA,UAGVI,IAHU,GAGFJ,GAHE;;EAKvB,UAAII,IAAI,KAAK,IAAb,EAAmB;EACjB;EACD;;EAEDd,MAAAA,KAAK,CAACa,MAAD,CAAL,CAAcC,IAAd;EACD,KAVD;EAWD;;UAEMC,WAAP,kBAAgBxC,OAAhB,EAAyBE,IAAzB,EAA+B;EAC7B,UAAM,iBAAN;EACD;;UAEMuC,gBAAP,yBAAuB;EACrB,WAAO,IAAP;EACD;;;;0BAvFoB;EACnB,aAAO9B,OAAP;EACD;;;;;;ECtBH;2BAE2B+B,OAAO,CAACC;MAA7BC,6BAAAA;MAASC,6BAAAA;;EAEf,IAAI,CAACD,OAAL,EAAc;EACZA,EAAAA,OAAO,GAAGF,OAAO,CAACC,SAAR,CAAkBG,eAAlB,IACRJ,OAAO,CAACC,SAAR,CAAkBI,kBADV,IAERL,OAAO,CAACC,SAAR,CAAkBK,iBAFV,IAGRN,OAAO,CAACC,SAAR,CAAkBM,gBAHV,IAIRP,OAAO,CAACC,SAAR,CAAkBO,qBAJV,IAKR,UAASC,CAAT,EAAY;EACV,QAAIP,OAAO,GAAG,CAAC,KAAK5E,QAAL,IAAiB,KAAKoF,aAAvB,EAAsCvF,gBAAtC,CAAuDsF,CAAvD,CAAd;EAAA,QACIE,CAAC,GAAGT,OAAO,CAACU,MADhB;;EAGA,WAAO,EAAED,CAAF,IAAO,CAAP,IAAYT,OAAO,CAACW,IAAR,CAAaF,CAAb,MAAoB,IAAvC,EAA6C;;EAE7C,WAAOA,CAAC,GAAG,CAAC,CAAZ;EACD,GAZH;EAaD;;EAED,IAAI,CAACR,OAAL,EAAc;EACZA,EAAAA,OAAO,GAAG,iBAASM,CAAT,EAAY;EACpB,QAAIxF,EAAE,GAAG,IAAT;;EAEA,OAAG;EACD,UAAIiF,OAAO,CAACY,IAAR,CAAa7F,EAAb,EAAiBwF,CAAjB,CAAJ,EAAyB,OAAOxF,EAAP;EACzBA,MAAAA,EAAE,GAAGA,EAAE,CAAC8F,aAAH,IAAoB9F,EAAE,CAACC,UAA5B;EACD,KAHD,QAGSD,EAAE,KAAK,IAAP,IAAeA,EAAE,CAACoD,QAAH,KAAgB,CAHxC;;EAKA,WAAO,IAAP;EACD,GATD;EAUD;;EAED,IAAI2C,WAAW,GAAG,SAAdA,WAAc,CAAS1D,OAAT,EAAkBf,QAAlB,EAA4B;EAC5C,SAAO4D,OAAO,CAACW,IAAR,CAAaxD,OAAb,EAAsBf,QAAtB,CAAP;EACD,CAFD;;EAQA,IAAI0E,OAAO,GAAG,SAAVA,OAAU,CAASC,CAAT,EAAY;EACxB,MAAI,CAACA,CAAL,EAAQ;EACN,WAAO,EAAP;EACD,GAFD,MAEO,IAAI,OAAOA,CAAP,KAAa,QAAb,IAAyBA,CAAC,CAACN,MAA/B,EAAuC;EAC5C,WAAOO,KAAK,CAAClB,SAAN,CAAgBmB,KAAhB,CAAsBN,IAAtB,CAA2BI,CAA3B,CAAP;EACD,GAFM,MAEA;EACL,WAAO,CAACA,CAAD,CAAP;EACD;EACF,CARD;;EAUA,IAAIG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAS/D,OAAT,EAAkB;EAC1C,SAAO,CACLA,OAAO,CAACzB,YAAR,CAAqB,aAArB,CADK,EAELyB,OAAO,CAACzB,YAAR,CAAqB,aAArB,CAFK,EAGLyB,OAAO,CAACzB,YAAR,CAAqB,aAArB,CAHK,CAAP;EAKD,CAND;;EAQA,IAAIyF,MAAM,GAAG,SAATA,MAAS,CAASJ,CAAT,EAAY;EACvB,SAAOA,CAAC,IAAIA,CAAC,CAAC7C,QAAF,KAAe,CAA3B;EACD,CAFD;;EAIA,IAAIkD,gBAAgB,GAAG,SAAnBA,gBAAmB,CAASC,QAAT,EAAmB;EACxC,MAAI,CAACA,QAAL,EAAe;EACb;EACD;;EAED,MAAIA,QAAQ,CAACZ,MAAb,EAAqB;EACnBK,IAAAA,OAAO,CAACO,QAAD,CAAP,CAAkBpG,OAAlB,CAA0B,UAAAsB,CAAC;EAAA,aAAI6E,gBAAgB,CAAC7E,CAAD,CAApB;EAAA,KAA3B;EACD,GAFD,MAEO,IAAI8E,QAAQ,CAAC/F,SAAb,EAAwB;EAC7B+F,IAAAA,QAAQ,CAAC/F,SAAT,CAAmBgG,GAAnB,CAAuB,QAAvB;EACD;EACF,CAVD;;EAYA,IAAIC,kBAAkB,GAAG,SAArBA,kBAAqB,CAASF,QAAT,EAAmB;EAC1C,MAAI,CAACA,QAAL,EAAe;EACb;EACD;;EAED,MAAIA,QAAQ,CAACZ,MAAb,EAAqB;EACnBK,IAAAA,OAAO,CAACO,QAAD,CAAP,CAAkBpG,OAAlB,CAA0B,UAAAsB,CAAC;EAAA,aAAIgF,kBAAkB,CAAChF,CAAD,CAAtB;EAAA,KAA3B;EACD,GAFD,MAEO,IAAI8E,QAAQ,CAAC/F,SAAb,EAAwB;EAC7B+F,IAAAA,QAAQ,CAAC/F,SAAT,CAAmBC,MAAnB,CAA0B,QAA1B;EACD;EACF,CAVD;;EAYA,IAAIiG,cAAc,GAAG,SAAjBA,cAAiB,CAASH,QAAT,EAAmBI,MAAnB,EAA2BxC,QAA3B,EAAoD;EAAA,MAAzBA,QAAyB;EAAzBA,IAAAA,QAAyB,GAAd,kBAAA8B,CAAC;EAAA,aAAIA,CAAC,CAACW,KAAN;EAAA,KAAa;EAAA;;EACvE,MAAIC,YAAY,GAAGb,OAAO,CAACW,MAAD,CAAP,CAAgBG,GAAhB,CAAoB,UAAAb,CAAC;EAAA,WAAII,MAAM,CAACJ,CAAD,CAAN,GAAYA,CAAZ,GAAgBA,CAAC,CAACc,QAAF,EAApB;EAAA,GAArB,CAAnB;EAEAR,EAAAA,QAAQ,GAAGP,OAAO,CAACO,QAAD,CAAlB;EACA,MAAIS,aAAa,GAAGT,QAAQ,CAACO,GAAT,CAAa3C,QAAb,CAApB;EAEA,MAAI8C,aAAa,GAAG,EAApB;;EAEA,OAAK,IAAIvB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmB,YAAY,CAAClB,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;EAC5C,QAAIwB,CAAC,GAAGL,YAAY,CAACnB,CAAD,CAApB;EACA,QAAIyB,KAAK,GAAGZ,QAAQ,CAACF,MAAM,CAACa,CAAD,CAAN,GAAYX,QAAQ,CAACa,OAAT,CAAiBF,CAAjB,CAAZ,GAAkCF,aAAa,CAACI,OAAd,CAAsBF,CAAtB,CAAnC,CAApB;;EAEA,QAAIC,KAAK,KAAKE,SAAd,EAAyB;EACvB;EACD;;EAEDJ,IAAAA,aAAa,CAACK,IAAd,CAAmBH,KAAnB;EACD;;EAED,SAAOF,aAAP;EACD,CApBD;;EAsBA,IAAIM,GAAG,GAAG,SAANA,GAAM,GAAkB;EAC1B,OAAK,IAAI7B,CAAC,GAAG,CAAb,EAAgBA,CAAC,EAAjB,EAAqBA,CAAC,GAAG,UAAKC,MAA9B,EAAsC;EACpC,QAAI,EAAMD,CAAN,4BAAMA,CAAN,yBAAMA,CAAN,EAAJ,EAAc;EACZ,aAAO,KAAP;EACD;EACF;;EAED,SAAO,IAAP;EACD,CARD;;ECjGA,IAAM8B,IAAI,GAAG,aAAb;EACA,IAAMC,IAAI,eAAcD,IAAxB;EAEA,IAAME,SAAS,GAAG;EAChBC,EAAAA,KAAK,EAAE,qBADS;EAEhBC,EAAAA,KAAK,EAAE,KAFS;EAGhBC,EAAAA,QAAQ,EAAE;EAHM,CAAlB;EAMA,IAAMC,QAAQ,GAAG;EACfH,EAAAA,KAAK,QAAOD,SAAS,CAACC,KADP;EAEfC,EAAAA,KAAK,QAAOF,SAAS,CAACE,KAFP;EAGfG,EAAAA,YAAY,QAAOL,SAAS,CAACC,KAAjB,UAA6BD,SAAS,CAACE,KAHpC;EAIfI,EAAAA,MAAM,EAAE;EAJO,CAAjB;EAOA,IAAMC,KAAK,GAAG;EACZC,EAAAA,KAAK,aAAYT;EADL,CAAd;;MAIMU;;;;;;;0BAEc;EAChB,aAAOV,IAAP;EACD;;;EAED,4BAAYpF,OAAZ,EAAqB;EAAA;;EACnB,8BAAMA,OAAN,EAAeoF,IAAf;;EAEA,QAAI,CAACpF,OAAO,CAAC7B,SAAR,CAAkBQ,QAAlB,CAA2B0G,SAAS,CAACC,KAArC,CAAL,EAAkD;EAChD,YAAM,IAAI/F,UAAJ,CAAe,iBAAf,EAAkC,+BAAlC,CAAN;EACD;;EAED,UAAKwG,QAAL,GAAgB,CAAhB;EAEAzF,IAAAA,KAAK,CAACC,OAAN,CAAcP,OAAd,EAAuBoF,IAAvB;EATmB;EAUpB;;;;WAEDb,QAAA,eAAMX,CAAN,EAAS;EACP,QAAI,OAAOA,CAAP,KAAa,WAAjB,EAA8B;EAC5B,aAAO,KAAK1C,MAAZ;EACD;;EAED,SAAKA,MAAL,GAAc0C,CAAd;;EACA,SAAKzC,SAAL;;EAEA,WAAO,IAAP;EACD;;WAEDC,UAAA,iBAAQC,IAAR,EAAc;EACZ,SAAKL,QAAL,CAAcM,SAAd,GAA0BD,IAA1B;EACD;;WAED2E,UAAA,iBAAQ1B,MAAR,EAAgB;EACd,QAAI2B,QAAQ,GAAG,KAAKjF,QAAL,CAAcnD,gBAAd,CAA+B4H,QAAQ,CAACF,KAAxC,CAAf;;EAEA5B,IAAAA,OAAO,CAACsC,QAAD,CAAP,CAAkBnI,OAAlB,CAA0B,UAACoI,GAAD,EAAS;EACjC,UAAI,OAAO5B,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACS,OAAP,CAAemB,GAAG,CAAC3B,KAAnB,IAA4B,CAAC,CAAlE,EAAqE;EACnE2B,QAAAA,GAAG,CAACC,YAAJ,CAAiBd,SAAS,CAACG,QAA3B,EAAqC,EAArC;EACAU,QAAAA,GAAG,CAACC,YAAJ,CAAiB,eAAjB,EAAkC,MAAlC;EACD;EACF,KALD;EAMD;;WAEDC,SAAA,gBAAO9B,MAAP,EAAe;EACb,QAAI2B,QAAQ,GAAG,KAAKjF,QAAL,CAAcnD,gBAAd,CAA+B4H,QAAQ,CAACF,KAAxC,CAAf;;EAEA5B,IAAAA,OAAO,CAACsC,QAAD,CAAP,CAAkBnI,OAAlB,CAA0B,UAACoI,GAAD,EAAS;EACjC,UAAI,OAAO5B,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACS,OAAP,CAAemB,GAAG,CAAC3B,KAAnB,IAA4B,CAAC,CAAlE,EAAqE;EACnE2B,QAAAA,GAAG,CAACG,eAAJ,CAAoBhB,SAAS,CAACG,QAA9B;EACAU,QAAAA,GAAG,CAACC,YAAJ,CAAiB,eAAjB,EAAkC,OAAlC;EACD;EACF,KALD;EAMD;;qBAEMzE,OAAP,cAAYC,KAAZ,EAAmB;EACjB,kBAAaD,IAAb,YAAkBC,KAAlB,QAA8B0D,SAAS,CAACC,KAAxC;EACD;;qBAEM9D,aAAP,oBAAkBxB,OAAlB,EAA2B;EACzB,WAAMwB,UAAN,YAAiBxB,OAAjB,EAA0BoF,IAA1B,EAAgCU,gBAAhC;EACD;;qBAEMjE,UAAP,iBAAe7B,OAAf,EAAwB;EACtB,WAAOoF,IAAP;EACD;;qBAEMtD,WAAP,kBAAgB9B,OAAhB,EAAyB;EACvB,QAAIyB,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBoF,IAAvB,CAAZ;;EAEA,QAAI,CAAC3D,KAAL,EAAY;EACV,aAAO,IAAP;EACD;;EAED,WAAO;EAAE8C,MAAAA,KAAK,EAAE9C,KAAK,CAAC8C,KAAN,EAAT;EAAwB+B,MAAAA,OAAO,EAAE7E,KAAK,CAACsE,QAAN;EAAjC,KAAP;EACD;;qBAEMhE,YAAP,mBAAiB/B,OAAjB,EAA0BgC,QAA1B,EAAoC;EAClC,WAAMD,SAAN,YAAgB/B,OAAhB,EAAyBgC,QAAzB,EAAmCoD,IAAnC;EACD;;qBAEMnD,cAAP,qBAAmBjC,OAAnB,EAA4B;EAC1B,WAAMiC,WAAN,YAAkBjC,OAAlB,EAA2BoF,IAA3B;EACD;;qBAEMlD,iBAAP,wBAAsBlC,OAAtB,EAA+BP,OAA/B,EAAwC;EACtC,WAAMyC,cAAN,YAAqBlC,OAArB,EAA8BP,OAA9B,EAAuC2F,IAAvC;EACD;;qBAEMmB,iBAAP,0BAAwB;EACtB,8BAAY3F,KAAZ,MAAsBkF,gBAAtB;EACD;;;IA3F4BlF;;AA8F/BhC,KAAC,CAACZ,QAAD,CAAD,CAAYmB,EAAZ,CAAeyG,KAAK,CAACC,KAArB,EAA4BJ,QAAQ,CAACC,YAArC,EAAmD,UAACxG,KAAD,EAAW;EAC5D,MAAMsH,MAAM,GAAGtH,KAAK,CAACI,aAArB;EACA,MAAMmH,KAAK,GAAG/C,WAAW,CAAC8C,MAAD,EAASf,QAAQ,CAACH,KAAlB,CAAzB;EAEA,MAAI7D,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcgG,KAAd,EAAqBrB,IAArB,CAAZ;;EAEA,MAAI,CAAC3D,KAAL,EAAY;EACV;EACD;;EAEDA,EAAAA,KAAK,CAAC8C,KAAN,CAAYiC,MAAM,CAACjC,KAAnB;EACD,CAXD;AAaA3F,KAAC,CAACZ,QAAD,CAAD,CAAYmB,EAAZ,CAAeyG,KAAK,CAACC,KAArB,OAAgCJ,QAAQ,CAACC,YAAzC,GAA0DD,QAAQ,CAACE,MAAnE,EAA8E,UAACzG,KAAD,EAAW;EACvF,MAAMsH,MAAM,GAAGtH,KAAK,CAACI,aAArB;;EADuF,6BAEtDyE,mBAAmB,CAACyC,MAAD,CAFmC;EAAA,MAEhFlI,MAFgF;EAAA,MAExEE,MAFwE;EAAA,MAEhEC,MAFgE;;EAIvF,MAAI,CAACH,MAAD,IAAW,CAACE,MAAZ,IAAsB,CAACC,MAA3B,EAAmC;EACjC;EACD;;EAED,MAAIH,MAAM,KAAK,KAAf,EAAsB;EACpBM,IAAAA,GAAC,CAAC4H,MAAD,CAAD,CAAUE,GAAV,CAAc,cAAd,EAA8B,UAACtH,CAAD;EAAA,aAAOoH,MAAM,CAACrI,SAAP,CAAiBC,MAAjB,CAAwB,QAAxB,CAAP;EAAA,KAA9B;EACD;;EAEDQ,EAAAA,GAAC,CAAC4H,MAAD,CAAD,CAAUlI,MAAV,EAAkBE,MAAlB;EACD,CAbD;;EAeA,IAAImI,OAAJ,EAAW;EACTA,EAAAA,OAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6Bf,gBAAgB,CAACS,cAAjB,EAA7B,EAAgEnB,IAAhE;EACD;;EClJD,IAAMD,MAAI,GAAG,QAAb;EACA,IAAMC,MAAI,eAAcD,MAAxB;EAEA,IAAME,WAAS,GAAG;EAChBC,EAAAA,KAAK,EAAE;EADS,CAAlB;EAIA,IAAMG,UAAQ,GAAG;EACfH,EAAAA,KAAK,QAAOD,WAAS,CAACC,KADP;EAEfK,EAAAA,MAAM,EAAE;EAFO,CAAjB;EAKA,IAAMC,OAAK,GAAG;EACZC,EAAAA,KAAK,aAAYT;EADL,CAAd;;MAIM0B;;;;;;;0BAEc;EAChB,aAAO1B,MAAP;EACD;;;EAED,uBAAYpF,OAAZ,EAAqB;EAAA;;EACnB,8BAAMA,OAAN,EAAeoF,MAAf;EAEA,UAAKlE,MAAL,GAAc,CAAd;EACA,UAAK6F,OAAL,GAAe/G,OAAO,CAACnB,OAAR,KAAoB,GAAnC;EAEAyB,IAAAA,KAAK,CAACC,OAAN,CAAcP,OAAd,EAAuBoF,MAAvB;EANmB;EAOpB;;;;WAGDb,QAAA,eAAMX,CAAN,EAAS;EACP,QAAI,OAAOA,CAAP,KAAa,WAAjB,EAA8B;EAC5B,aAAO,KAAK1C,MAAZ;EACD;;EAED,SAAKA,MAAL,GAAc0C,CAAd;;EACA,SAAKzC,SAAL;;EAEA,WAAO,IAAP;EACD;;WAEDC,UAAA,iBAAQC,IAAR,EAAc;EACZ,SAAKL,QAAL,CAAcM,SAAd,GAA0BD,IAA1B;EACD;;WAED2E,UAAA,iBAAQ1B,MAAR,EAAgB;EACd,QAAI,KAAKyC,OAAT,EAAkB;EAChB,WAAK/F,QAAL,CAAc7C,SAAd,CAAwBgG,GAAxB,CAA4B,UAA5B;EACD,KAFD,MAEO;EACL,WAAKnD,QAAL,CAAcmF,YAAd,CAA2B,UAA3B,EAAuC,EAAvC;EACD;EACF;;WAEDC,SAAA,kBAAS;EACP,QAAI,KAAKW,OAAT,EAAkB;EAChB,WAAK/F,QAAL,CAAc7C,SAAd,CAAwBC,MAAxB,CAA+B,UAA/B;EACD,KAFD,MAEO;EACL,WAAK4C,QAAL,CAAcqF,eAAd,CAA8B,UAA9B;EACD;EACF;;;gBAIM7E,aAAP,oBAAkBxB,OAAlB,EAA2B;EACzB,WAAMwB,UAAN,YAAiBxB,OAAjB,EAA0BoF,MAA1B,EAAgC0B,WAAhC;EACD;;gBAEMpF,OAAP,cAAYC,KAAZ,EAAmB;EACjB,kBAAaD,IAAb,YAAkBC,KAAlB,EAAyB8D,UAAQ,CAACH,KAAlC;EACD;;gBAEMxD,WAAP,kBAAgB9B,OAAhB,EAAyB;EACvB,QAAIyB,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBoF,MAAvB,CAAZ;;EAEA,QAAI,CAAC3D,KAAL,EAAY;EACV,aAAO,IAAP;EACD;;EAED,WAAOA,KAAK,CAAC8C,KAAN,OAAkB,CAAlB,GAAsB,IAAtB,GAA6B9C,KAAK,CAAC8C,KAAN,EAApC;EACD;;gBAEMxC,YAAP,mBAAiB/B,OAAjB,EAA0BgC,QAA1B,EAAoC;EAClC,WAAMD,SAAN,YAAgB/B,OAAhB,EAAyBgC,QAAzB,EAAmCoD,MAAnC;EACD;;gBAEMnD,cAAP,qBAAmBjC,OAAnB,EAA4B;EAC1B,WAAMiC,WAAN,YAAkBjC,OAAlB,EAA2BoF,MAA3B;EACD;;gBAEMlD,iBAAP,wBAAsBlC,OAAtB,EAA+BP,OAA/B,EAAwC;EACtC,WAAMyC,cAAN,YAAqBlC,OAArB,EAA8BP,OAA9B,EAAuC2F,MAAvC;EACD;;gBAEMmB,iBAAP,0BAAwB;EACtB,8BAAY3F,KAAZ,MAAsBkG,WAAtB;EACD;;;IAjFuBlG;;AAoF1BhC,KAAC,CAACZ,QAAD,CAAD,CAAYmB,EAAZ,CAAeyG,OAAK,CAACC,KAArB,EAA4BJ,UAAQ,CAACH,KAArC,EAA4C,UAACpG,KAAD,EAAW;EACrD,MAAIsH,MAAM,GAAG9C,WAAW,CAACxE,KAAK,CAACT,MAAP,EAAegH,UAAQ,CAACH,KAAxB,CAAxB;EACA,MAAI7D,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAc+F,MAAd,EAAsBpB,MAAtB,CAAZ;;EAEA,MAAI,CAAC3D,KAAL,EAAY;EACV;EACD;;EAEDA,EAAAA,KAAK,CAAC8C,KAAN,CAAY9C,KAAK,CAAC8C,KAAN,KAAgB,CAA5B;EACD,CATD;AAWA3F,KAAC,CAACZ,QAAD,CAAD,CAAYmB,EAAZ,CAAeyG,OAAK,CAACC,KAArB,OAAgCJ,UAAQ,CAACH,KAAzC,GAAmDG,UAAQ,CAACE,MAA5D,EAAuE,UAACzG,KAAD,EAAW;EAChF,MAAIsH,MAAM,GAAG9C,WAAW,CAACxE,KAAK,CAACT,MAAP,EAAegH,UAAQ,CAACH,KAAxB,CAAxB;;EADgF,6BAEjDvB,mBAAmB,CAACyC,MAAD,CAF8B;EAAA,MAE3ElI,MAF2E;EAAA,MAEnEE,MAFmE;EAAA,MAE3DC,MAF2D;;EAIhF,MAAI,EAAEH,MAAM,IAAIE,MAAV,IAAoBC,MAAtB,CAAJ,EAAmC;EACjC;EACD;;EAED,MAAIH,MAAM,KAAK,KAAf,EAAsB;EACpBM,IAAAA,GAAC,CAAC4H,MAAD,CAAD,CAAUE,GAAV,CAAc,cAAd,EAA8B,UAACtH,CAAD;EAAA,aAAOoH,MAAM,CAACrI,SAAP,CAAiBC,MAAjB,CAAwB,QAAxB,CAAP;EAAA,KAA9B;EACD;;EAEDQ,EAAAA,GAAC,CAAC4H,MAAD,CAAD,CAAUlI,MAAV,EAAkBE,MAAlB;EACD,CAbD;;EAeA,IAAImI,OAAJ,EAAW;EACTA,EAAAA,OAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6BC,WAAW,CAACP,cAAZ,EAA7B,EAA2DnB,MAA3D;EACD;;EC1IM,IAAI4B,oBAAoB,GAAG,IAAIL,KAAK,CAACM,YAAV,EAA3B;EAEPrI,CAAC,CAACsI,MAAF,CAASF,oBAAT,EAA+B;EAC7BtF,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,sBAAvB,CAAX;EAAA,GADuB;EAE7BiE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAIwJ,OAAO,GAAGxJ,EAAE,CAACE,gBAAH,CAAoB,8BAApB,CAAd;;EAEA,QAAIsJ,OAAO,CAAC7D,MAAR,KAAmB,CAAvB,EAA0B;EACxB,aAAO,IAAP;EACD;;EAED,WAAOO,KAAK,CAAClB,SAAN,CAAgB8B,GAAhB,CAAoBjB,IAApB,CAAyB2D,OAAzB,EAAkC,UAAAC,CAAC;EAAA,aAAIA,CAAC,CAAC7C,KAAN;EAAA,KAAnC,CAAP;EACD,GAV4B;EAW7BxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,UAAAC,CAAC;EAAA,aAAI4C,QAAQ,EAAZ;EAAA,KAAxB;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,eAAP,EAAwB,UAAAC,CAAC;EAAA,aAAI4C,QAAQ,EAAZ;EAAA,KAAzB;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,wBAAP,EAAiC,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAAjC;EACD,GAjB4B;EAkB7BC,EAAAA,WAAW,EAAE,qBAACtE,EAAD;EAAA,WAAQiB,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV,CAAR;EAAA,GAlBgB;EAmB7BpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIA,GAAG,CAACf,OAAR,EAAiB;EACfzD,MAAAA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4BC,OAA5B,CAAoC,UAAAoI,GAAG,EAAI;EACzCvI,QAAAA,EAAE,CAAC4J,WAAH,CAAerB,GAAf;EACD,OAFD;EAGAvI,MAAAA,EAAE,CAAC6J,kBAAH,CAAsB,YAAtB,EAAoCrF,GAAG,CAACf,OAAxC;EACD;;EAED,QAAIe,GAAG,CAACsF,QAAR,EAAkB;EAChB,UAAItF,GAAG,CAACsF,QAAJ,KAAiB,IAArB,EAA2B;EACzB9J,QAAAA,EAAE,CAACE,gBAAH,CAAoB,eAApB,EAAqCC,OAArC,CAA6C,UAAA2D,KAAK,EAAI;EACpDA,UAAAA,KAAK,CAAC0F,OAAN,GAAgB,KAAhB;EACA1F,UAAAA,KAAK,CAAC7D,UAAN,CAAiBO,SAAjB,CAA2BC,MAA3B,CAAkC,QAAlC;EACD,SAHD;EAID;;EAEDT,MAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5C,YAAIU,GAAG,CAACsF,QAAJ,KAAiB,IAAjB,IAAyBtF,GAAG,CAACsF,QAAJ,CAAa1C,OAAb,CAAqBtD,KAAK,CAAC8C,KAA3B,IAAoC,CAAC,CAAlE,EAAqE;EACnE9C,UAAAA,KAAK,CAAC0F,OAAN,GAAgB,IAAhB;EACA1F,UAAAA,KAAK,CAAC7D,UAAN,CAAiBO,SAAjB,CAA2BgG,GAA3B,CAA+B,QAA/B;EACD;EACF,OALD;EAOAvF,MAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM+J,OAAN,CAAc,wBAAd;EACD;;EAED,QAAIvF,GAAG,CAACiE,MAAR,EAAgB;EACd,UAAIA,MAAM,GAAGjE,GAAG,CAACiE,MAAjB;;EAEA,UAAIA,MAAM,KAAK,IAAf,EAAqB;EACnBzI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4BC,OAA5B,CAAoC,UAAAoI,GAAG,EAAI;EACzCA,UAAAA,GAAG,CAAC/H,SAAJ,CAAcC,MAAd,CAAqB,UAArB;EACA8H,UAAAA,GAAG,CAACD,QAAJ,CAAa,CAAb,EAAgBI,eAAhB,CAAgC,UAAhC;EACD,SAHD;EAID,OALD,MAKO;EACL1I,QAAAA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4BC,OAA5B,CAAoC,UAAAoI,GAAG,EAAI;EACzC,cAAIE,MAAM,CAACrB,OAAP,CAAemB,GAAG,CAAC3B,KAAnB,IAA4B,CAAC,CAAjC,EAAoC;EAClC2B,YAAAA,GAAG,CAAC/H,SAAJ,CAAcC,MAAd,CAAqB,UAArB;EACA8H,YAAAA,GAAG,CAACD,QAAJ,CAAa,CAAb,EAAgBI,eAAhB,CAAgC,UAAhC;EACD;EACF,SALD;EAMD;EACF;;EAED,QAAIlE,GAAG,CAAC6D,OAAR,EAAiB;EACf,UAAIA,OAAO,GAAG7D,GAAG,CAAC6D,OAAlB;;EAEA,UAAIA,OAAO,KAAK,IAAhB,EAAsB;EACpBrI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4BC,OAA5B,CAAoC,UAAAoI,GAAG,EAAI;EACzCA,UAAAA,GAAG,CAAC/H,SAAJ,CAAcgG,GAAd,CAAkB,UAAlB;EACA+B,UAAAA,GAAG,CAACD,QAAJ,CAAa,CAAb,EAAgBE,YAAhB,CAA6B,UAA7B,EAAyC,EAAzC;EACD,SAHD;EAID,OALD,MAKO;EACLxI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4BC,OAA5B,CAAoC,UAAAoI,GAAG,EAAI;EACzC,cAAIF,OAAO,CAACjB,OAAR,CAAgBmB,GAAG,CAAC3B,KAApB,IAA6B,CAAC,CAAlC,EAAqC;EACnC2B,YAAAA,GAAG,CAAC/H,SAAJ,CAAcgG,GAAd,CAAkB,UAAlB;EACA+B,YAAAA,GAAG,CAACD,QAAJ,CAAa,CAAb,EAAgBE,YAAhB,CAA6B,UAA7B,EAAyC,EAAzC;EACD;EACF,SALD;EAMD;EACF;EACF;EAhF4B,CAA/B;EAmFAQ,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6BG,oBAA7B,EAAmD,sBAAnD;;ECnFO,IAAIW,oBAAoB,GAAG,IAAIhB,KAAK,CAACM,YAAV,EAA3B;EAEPrI,CAAC,CAACsI,MAAF,CAASS,oBAAT,EAA+B;EAC7BjG,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,sBAAvB,CAAX;EAAA,GADuB;EAE7BiE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAIwJ,OAAO,GAAGxJ,EAAE,CAACE,gBAAH,CAAoB,8BAApB,CAAd;;EAEA,QAAIsJ,OAAO,CAAC7D,MAAR,KAAmB,CAAvB,EAA0B;EACxB,aAAO,IAAP;EACD;;EAED,WAAOO,KAAK,CAAClB,SAAN,CAAgB8B,GAAhB,CAAoBjB,IAApB,CAAyB2D,OAAzB,EAAkC,UAAAC,CAAC;EAAA,aAAIA,CAAC,CAAC7C,KAAN;EAAA,KAAnC,CAAP;EACD,GAV4B;EAW7BxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,eAAP,EAAwB,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAAxB;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,wBAAP,EAAiC,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAAjC;EACD,GAhB4B;EAiB7BC,EAAAA,WAAW,EAAE,qBAACtE,EAAD;EAAA,WAAQiB,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV,CAAR;EAAA,GAjBgB;EAkB7BpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIA,GAAG,CAACf,OAAR,EAAiB;EACfzD,MAAAA,EAAE,CAACE,gBAAH,CAAoB,kBAApB,EAAwCC,OAAxC,CAAgD,UAAA8J,GAAG,EAAI;EACrDjK,QAAAA,EAAE,CAAC4J,WAAH,CAAeK,GAAf;EACD,OAFD;EAIAjK,MAAAA,EAAE,CAAC6J,kBAAH,CAAsB,YAAtB,EAAoCrF,GAAG,CAACf,OAAxC;EACD;;EAED,QAAIe,GAAG,CAACsF,QAAR,EAAkB;EAChB9J,MAAAA,EAAE,CAACE,gBAAH,CAAoB,eAApB,EAAqCC,OAArC,CAA6C,UAAA2D,KAAK,EAAI;EACpDA,QAAAA,KAAK,CAAC0F,OAAN,GAAgB,KAAhB;EACD,OAFD;EAIAxJ,MAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5C,YAAIU,GAAG,CAACsF,QAAJ,KAAiB,IAAjB,IAAyBtF,GAAG,CAACsF,QAAJ,CAAa1C,OAAb,CAAqBtD,KAAK,CAAC8C,KAA3B,IAAoC,CAAC,CAAlE,EAAqE;EACnE9C,UAAAA,KAAK,CAAC0F,OAAN,GAAgB,IAAhB;EACD;EACF,OAJD;EAMAvI,MAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM+J,OAAN,CAAc,wBAAd;EACD;;EAED,QAAIvF,GAAG,CAACiE,MAAR,EAAgB;EACd,UAAIA,MAAM,GAAGjE,GAAG,CAACiE,MAAjB;;EAEA,UAAIA,MAAM,KAAK,IAAf,EAAqB;EACnBzI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5CA,UAAAA,KAAK,CAAC4E,eAAN,CAAsB,UAAtB;EACD,SAFD;EAGD,OAJD,MAIO;EACL1I,QAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5C,cAAI2E,MAAM,CAACrB,OAAP,CAAetD,KAAK,CAAC8C,KAArB,IAA8B,CAAC,CAAnC,EAAsC;EACpC9C,YAAAA,KAAK,CAAC4E,eAAN,CAAsB,UAAtB;EACD;EACF,SAJD;EAKD;EACF;;EAED,QAAIlE,GAAG,CAAC6D,OAAR,EAAiB;EACf,UAAIA,OAAO,GAAG7D,GAAG,CAAC6D,OAAlB;;EAEA,UAAIA,OAAO,KAAK,IAAhB,EAAsB;EACpBrI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5CA,UAAAA,KAAK,CAAC0E,YAAN,CAAmB,UAAnB,EAA+B,EAA/B;EACD,SAFD;EAGD,OAJD,MAIO;EACLxI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5C,cAAIuE,OAAO,CAACjB,OAAR,CAAgBtD,KAAK,CAAC8C,KAAtB,IAA+B,CAAC,CAApC,EAAuC;EACrC9C,YAAAA,KAAK,CAAC0E,YAAN,CAAmB,UAAnB,EAA+B,EAA/B;EACD;EACF,SAJD;EAKD;EACF;;EAED,QAAIhE,GAAG,CAAC0F,KAAR,EAAe;EACblK,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkD,EAAlD;EACA3D,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgDa,GAAG,CAAC0F,KAApD;EACAlK,MAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5CA,QAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,YAAvB;EACAqD,QAAAA,KAAK,CAACtD,SAAN,CAAgBgG,GAAhB,CAAoB,UAApB;EACD,OAHD;EAID;;EAED,QAAIhC,GAAG,CAAC2F,OAAR,EAAiB;EACfnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgD,EAAhD;EACA3D,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkDa,GAAG,CAAC2F,OAAtD;EACAnK,MAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5CA,QAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;EACAqD,QAAAA,KAAK,CAACtD,SAAN,CAAgBgG,GAAhB,CAAoB,YAApB;EACD,OAHD;EAID;;EAED,QAAI,CAAChC,GAAG,CAAC0F,KAAL,IAAc,CAAC1F,GAAG,CAAC2F,OAAvB,EAAgC;EAC9BnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgD,EAAhD;EACA3D,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkD,EAAlD;EACA3D,MAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5CA,QAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;EACAqD,QAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,YAAvB;EACD,OAHD;EAID;EACF;EAnG4B,CAA/B;EAsGAuI,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6Bc,oBAA7B,EAAmD,sBAAnD;;EC1GO,IAAII,gBAAgB,GAAG,IAAIpB,KAAK,CAACM,YAAV,EAAvB;EAEPrI,CAAC,CAACsI,MAAF,CAASa,gBAAT,EAA2B;EACzBC,EAAAA,cAAc,EAAE,SADS;EAEzBC,EAAAA,cAAc,EAAE,+BAFS;EAIzBvG,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,kBAAvB,CAAX;EAAA,GAJmB;EAKzB2D,EAAAA,UAAU,EAAE,oBAAC7D,EAAD,EAAQ;EAClB,QAAI0J,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EACA,QAAIuK,OAAO,GAAGtJ,CAAC,CAACjB,EAAE,CAACe,aAAH,CAAiBqJ,gBAAgB,CAACE,cAAlC,CAAD,CAAf;EAEAZ,IAAAA,GAAG,CAAClI,EAAJ,CAAO,OAAP,EAAgB,UAACC,CAAD,EAAO;EACrB,UAAImF,KAAK,GAAG2D,OAAO,CAAC,CAAD,CAAP,CAAW3D,KAAvB;;EAEAwD,MAAAA,gBAAgB,CAACI,OAAjB,CAAyBxK,EAAzB,EAA6B4G,KAA7B;;EAEA,UAAIwD,gBAAgB,CAACK,QAAjB,CAA0BzK,EAA1B,EAA8B2F,MAA9B,KAAyC,CAA7C,EAAgD;EAC9C4E,QAAAA,OAAO,CAACG,QAAR,CAAiB,MAAjB;EACD,OAFD,MAEO;EACLH,QAAAA,OAAO,CAACG,QAAR,CAAiB,MAAjB;EACD;EACF,KAVD;EAYAhB,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,UAACC,CAAD,EAAO;EAC5B8I,MAAAA,OAAO,CAACG,QAAR,CAAiB,QAAjB;EACD,KAFD;EAIAhB,IAAAA,GAAG,CAAClI,EAAJ,CAAO,kBAAP,EAA2B,UAACC,CAAD,EAAO;EAChC,UAAIzB,EAAE,CAACe,aAAH,CAAiB,aAAjB,MAAoC,IAAxC,EAA8C;EAC5Cf,QAAAA,EAAE,CAACe,aAAH,CAAiB,OAAjB,EAA0B6F,KAA1B,GAAkC,EAAlC;;EACAwD,QAAAA,gBAAgB,CAACI,OAAjB,CAAyBxK,EAAzB,EAA6B,EAA7B;EACD;EACF,KALD;EAOA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,OAAP,EAAgB,gBAAhB,EAAkC,UAACC,CAAD,EAAO;EACvCA,MAAAA,CAAC,CAACkJ,eAAF;;EAEAP,MAAAA,gBAAgB,CAACQ,IAAjB,CAAsB5K,EAAtB,EAA0ByB,CAAC,CAACE,aAAF,CAAgBiF,KAA1C;;EACA2D,MAAAA,OAAO,CAAC,CAAD,CAAP,CAAWM,KAAX;EACD,KALD;EAOAnB,IAAAA,GAAG,CAAClI,EAAJ,CAAO,OAAP,EAAgB,OAAhB,EAAyB,UAACC,CAAD,EAAO;EAC9B2I,MAAAA,gBAAgB,CAACU,OAAjB,CAAyB9K,EAAzB,EAA6ByB,CAAC,CAACE,aAAF,CAAgBiF,KAA7C;EACD,KAFD;EAIA,QAAImE,GAAG,GAAG,CAAC/K,EAAE,CAACY,YAAH,CAAgB,UAAhB,CAAX;;EAEA,QAAImK,GAAG,KAAK,CAAC,CAAT,IAAcX,gBAAgB,CAACY,SAAjB,CAA2BhL,EAA3B,EAA+B2F,MAA/B,IAAyCoF,GAA3D,EAAgE;EAC9DX,MAAAA,gBAAgB,CAACa,QAAjB,CAA0BjL,EAA1B;EACD;EACF,GAhDwB;EAiDzBmE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAI8J,QAAQ,GAAG9J,EAAE,CAACE,gBAAH,CAAoB,SAApB,CAAf;;EAEA,QAAI4J,QAAQ,CAACnE,MAAT,KAAoB,CAAxB,EAA2B;EACzB,aAAO,IAAP;EACD;;EAED,WAAOO,KAAK,CAAClB,SAAN,CAAgB8B,GAAhB,CAAoBjB,IAApB,CAAyBiE,QAAzB,EAAmC,UAAAtE,CAAC;EAAA,aAAIA,CAAC,CAACoB,KAAN;EAAA,KAApC,CAAP;EACD,GAzDwB;EA0DzBxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,sBAAvB,EAA+C,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAA/C;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,oBAAP,EAA6B,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAA7B;EACD,GA/DwB;EAgEzBC,EAAAA,WAAW,EAAE,qBAACtE,EAAD;EAAA,WAAQiB,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV,CAAR;EAAA,GAhEY;EAiEzBpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIkF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;;EAEA,QAAIwE,GAAG,CAAC0G,KAAJ,IAAa1G,GAAG,CAAC2G,KAArB,EAA4B;EAC1BnL,MAAAA,EAAE,CAACe,aAAH,CAAiB,gBAAjB,EAAmC4C,SAAnC,GAA+Ca,GAAG,CAAC0G,KAAnD;EACAlL,MAAAA,EAAE,CAACe,aAAH,CAAiB,QAAjB,EAA2B4C,SAA3B,GAAuCa,GAAG,CAAC2G,KAA3C;EACD;;EAED,QAAI3G,GAAG,CAACsF,QAAR,EAAkB;EAChB,UAAItF,GAAG,CAACsF,QAAJ,KAAiB,IAArB,EAA2B;EACzB9J,QAAAA,EAAE,CAACE,gBAAH,CAAoB,gBAApB,EAAsCC,OAAtC,CAA8C,UAAAyF,IAAI,EAAI;EACpDwE,UAAAA,gBAAgB,CAACQ,IAAjB,CAAsB5K,EAAtB,EAA0B4F,IAAI,CAACgB,KAA/B;EACD,SAFD;EAGD,OAJD,MAIO;EACLpC,QAAAA,GAAG,CAACsF,QAAJ,CAAasB,OAAb;;EAEAhB,QAAAA,gBAAgB,CAACY,SAAjB,CAA2BhL,EAA3B,EAA+BG,OAA/B,CAAuC,UAAAyF,IAAI,EAAI;EAC7CwE,UAAAA,gBAAgB,CAACU,OAAjB,CAAyB9K,EAAzB,EAA6B4F,IAAI,CAACgB,KAAlC;EACD,SAFD;;EAIApC,QAAAA,GAAG,CAACsF,QAAJ,CAAa3J,OAAb,CAAqB,UAAAyG,KAAK,EAAI;EAC5BwD,UAAAA,gBAAgB,CAACQ,IAAjB,CAAsB5K,EAAtB,EAA0B4G,KAA1B;EACD,SAFD;EAGD;;EAED8C,MAAAA,GAAG,CAACK,OAAJ,CAAY,oBAAZ;EACD;;EAED,QAAIvF,GAAG,CAACuG,GAAJ,KAAY1D,SAAZ,IAAyB7C,GAAG,CAACuG,GAAJ,KAAY,IAAzC,EAA+C;EAC7C/K,MAAAA,EAAE,CAACwI,YAAH,CAAgB,UAAhB,EAA4BhE,GAAG,CAACuG,GAAhC;EACD;;EAED,QAAIvG,GAAG,CAACiE,MAAR,EAAgB;EACd,UAAIA,MAAM,GAAGjE,GAAG,CAACiE,MAAjB;;EAEA,UAAIA,MAAM,KAAK,IAAf,EAAqB;EACnB2B,QAAAA,gBAAgB,CAACiB,OAAjB,CAAyBrL,EAAzB,EADmB;;EAGpB,OAHD,MAGO;EACLA,QAAAA,EAAE,CAACE,gBAAH,CAAoB,sBAApB,EAA4CC,OAA5C,CAAoD,UAAAyF,IAAI,EAAI;EAC1D,cAAI6C,MAAM,CAACrB,OAAP,CAAexB,IAAI,CAACgB,KAApB,IAA6B,CAAC,CAAlC,EAAqC;EACnChB,YAAAA,IAAI,CAAC8C,eAAL,CAAqB,UAArB;EACA9C,YAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,UAAtB;EACD;EACF,SALD;EAMD;EACF;;EAED,QAAI+D,GAAG,CAAC6D,OAAR,EAAiB;EACf,UAAIA,OAAO,GAAG7D,GAAG,CAAC6D,OAAlB;;EAEA,UAAIA,OAAO,KAAK,IAAhB,EAAsB;EACpB+B,QAAAA,gBAAgB,CAACa,QAAjB,CAA0BjL,EAA1B,EADoB;;EAGrB,OAHD,MAGO;EACLA,QAAAA,EAAE,CAACE,gBAAH,CAAoB,sBAApB,EAA4CC,OAA5C,CAAoD,UAAAyF,IAAI,EAAI;EAC1D,cAAIyC,OAAO,CAACjB,OAAR,CAAgBxB,IAAI,CAACgB,KAArB,IAA8B,CAAC,CAAnC,EAAsC;EACpChB,YAAAA,IAAI,CAAC4C,YAAL,CAAkB,UAAlB,EAA8B,EAA9B;EACA5C,YAAAA,IAAI,CAACpF,SAAL,CAAegG,GAAf,CAAmB,UAAnB;EACD;EACF,SALD;EAMD;EACF;EACF,GAhIwB;EAmIzBiE,EAAAA,QAAQ,EAAE,kBAACzK,EAAD,EAAQ;EAChB,WAAOA,EAAE,CAACE,gBAAH,CAAoB,iCAApB,CAAP;EACD,GArIwB;EAsIzB8K,EAAAA,SAAS,EAAE,mBAAChL,EAAD,EAAQ;EACjB,WAAOA,EAAE,CAACE,gBAAH,CAAoB,WAApB,CAAP;EACD,GAxIwB;EAyIzBoL,EAAAA,MAAM,EAAE,gBAACtL,EAAD,EAAK4G,KAAL,EAAe;EACrB,WAAOV,KAAK,CAAClB,SAAN,CAAgBuG,MAAhB,CAAuB1F,IAAvB,CACL7F,EAAE,CAACE,gBAAH,CAAoB,gBAApB,CADK,EAEL,UAAAsL,IAAI;EAAA,aAAIA,IAAI,CAAC5E,KAAL,KAAeA,KAAnB;EAAA,KAFC,CAAP;EAID,GA9IwB;EA+IzB6E,EAAAA,MAAM,EAAE,gBAACzL,EAAD,EAAK4G,KAAL,EAAe;EACrB,WAAOV,KAAK,CAAClB,SAAN,CAAgBuG,MAAhB,CAAuB1F,IAAvB,CACL7F,EAAE,CAACE,gBAAH,CAAoB,OAApB,CADK,EAEL,UAAAsL,IAAI;EAAA,aAAIA,IAAI,CAAC5E,KAAL,KAAeA,KAAnB;EAAA,KAFC,CAAP;EAID,GApJwB;EAsJzByE,EAAAA,OAAO,EAAE,iBAACrL,EAAD,EAAQ;EACf,QAAI8D,KAAK,GAAG9D,EAAE,CAACe,aAAH,CAAiB,OAAjB,CAAZ;EACA+C,IAAAA,KAAK,CAAC4E,eAAN,CAAsB,UAAtB;EACA5E,IAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;EACD,GA1JwB;EA2JzBwK,EAAAA,QAAQ,EAAE,kBAACjL,EAAD,EAAQ;EAChB,QAAI8D,KAAK,GAAG9D,EAAE,CAACe,aAAH,CAAiB,OAAjB,CAAZ;EACA+C,IAAAA,KAAK,CAAC0E,YAAN,CAAmB,UAAnB,EAA+B,EAA/B;EACA1E,IAAAA,KAAK,CAACtD,SAAN,CAAgBgG,GAAhB,CAAoB,UAApB;EACD,GA/JwB;EAgKzBgE,EAAAA,OAAO,EAAE,iBAACxK,EAAD,EAAK4G,KAAL,EAAe;EACtBA,IAAAA,KAAK,GAAGA,KAAK,CAAC8E,WAAN,EAAR;EAEA1L,IAAAA,EAAE,CAACE,gBAAH,CAAoB,gBAApB,EAAsCC,OAAtC,CAA8C,UAAAyF,IAAI,EAAI;EACpD,UAAI+F,KAAK,GAAG/F,IAAI,CAACgG,SAAL,CAAeF,WAAf,GAA6BtE,OAA7B,CAAqCR,KAArC,MAAgD,CAAC,CAA7D;;EAEA,UAAI+E,KAAJ,EAAW;EACT/F,QAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,UAAtB;EACD,OAFD,MAEO;EACLmF,QAAAA,IAAI,CAACpF,SAAL,CAAegG,GAAf,CAAmB,UAAnB;EACD;EACF,KARD;EASD,GA5KwB;EA6KzBoE,EAAAA,IAAI,EAAE,cAAC5K,EAAD,EAAK4G,KAAL,EAAe;EACnB,QAAI2D,OAAO,GAAGtJ,CAAC,CAACjB,EAAE,CAACe,aAAH,CAAiBqJ,gBAAgB,CAACE,cAAlC,CAAD,CAAf;;EAEAF,IAAAA,gBAAgB,CAACkB,MAAjB,CAAwBtL,EAAxB,EAA4B4G,KAA5B,EAAmCzG,OAAnC,CAA2C,UAAAyF,IAAI,EAAI;EACjDA,MAAAA,IAAI,CAACpF,SAAL,CAAegG,GAAf,CAAmB,UAAnB;EACD,KAFD;;EAIA,QAAI2E,KAAK,GAAGnL,EAAE,CAACe,aAAH,CAAiB,QAAjB,CAAZ;;EACAqJ,IAAAA,gBAAgB,CAACqB,MAAjB,CAAwBzL,EAAxB,EAA4B4G,KAA5B,EAAmCzG,OAAnC,CAA2C,UAAAqL,IAAI,EAAI;EACjDL,MAAAA,KAAK,CAACU,YAAN,CAAmBV,KAAK,CAACvB,WAAN,CAAkB4B,IAAlB,CAAnB,EAA4CL,KAAK,CAACW,UAAlD;EACAN,MAAAA,IAAI,CAAChL,SAAL,CAAegG,GAAf,CAAmB,QAAnB;EACD,KAHD;;EAKA,QAAI4D,gBAAgB,CAACK,QAAjB,CAA0BzK,EAA1B,EAA8B2F,MAA9B,KAAyC,CAA7C,EAAgD;EAC9C4E,MAAAA,OAAO,CAACG,QAAR,CAAiB,MAAjB;EACD;;EAED,QAAIK,GAAG,GAAG,CAAC/K,EAAE,CAACY,YAAH,CAAgB,UAAhB,CAAX;;EAEA,QAAImK,GAAG,KAAK,CAAC,CAAT,IAAcX,gBAAgB,CAACY,SAAjB,CAA2BhL,EAA3B,EAA+B2F,MAA/B,GAAwCoF,GAA1D,EAA+D;EAC7DR,MAAAA,OAAO,CAACG,QAAR,CAAiB,QAAjB;EACD,KAFD,MAEO;EACLH,MAAAA,OAAO,CAACG,QAAR,CAAiB,MAAjB;;EACAN,MAAAA,gBAAgB,CAACa,QAAjB,CAA0BjL,EAA1B;EACD;EACF,GAtMwB;EAuMzB8K,EAAAA,OAAO,EAAE,iBAAC9K,EAAD,EAAK4G,KAAL,EAAe;EACtB,QAAImE,GAAG,GAAG,CAAC/K,EAAE,CAACY,YAAH,CAAgB,UAAhB,CAAX;;EAEAwJ,IAAAA,gBAAgB,CAACqB,MAAjB,CAAwBzL,EAAxB,EAA4B4G,KAA5B,EAAmCzG,OAAnC,CAA2C,UAAAqL,IAAI,EAAI;EACjDA,MAAAA,IAAI,CAAChL,SAAL,CAAeC,MAAf,CAAsB,QAAtB;EACD,KAFD;;EAIA2J,IAAAA,gBAAgB,CAACkB,MAAjB,CAAwBtL,EAAxB,EAA4B4G,KAA5B,EAAmCzG,OAAnC,CAA2C,UAAAyF,IAAI,EAAI;EACjDA,MAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,UAAtB;EACD,KAFD;;EAIA,QAAIsK,GAAG,KAAK,CAAC,CAAT,IAAcX,gBAAgB,CAACY,SAAjB,CAA2BhL,EAA3B,EAA+B2F,MAA/B,GAAwCoF,GAA1D,EAA+D;EAC7DX,MAAAA,gBAAgB,CAACiB,OAAjB,CAAyBrL,EAAzB;EACD;EACF;EArNwB,CAA3B;EAwNAgJ,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6BkB,gBAA7B,EAA+C,kBAA/C;;EC1NO,IAAI2B,gBAAgB,GAAG,IAAI/C,KAAK,CAACM,YAAV,EAAvB;EAEPrI,CAAC,CAACsI,MAAF,CAASwC,gBAAT,EAA2B;EACzBhI,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,kBAAvB,CAAX;EAAA,GADmB;EAEzB2D,EAAAA,UAAU,EAAE,oBAAC7D,EAAD,EAAQ;EAClB,QAAI0J,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,UAAP,EAAmB,UAACC,CAAD,EAAO;EACxBA,MAAAA,CAAC,CAACkJ,eAAF;EACAlJ,MAAAA,CAAC,CAACuK,cAAF;EACD,KAHD;EAKAtC,IAAAA,GAAG,CAAClI,EAAJ,CAAO,YAAP,EAAqB,UAACC,CAAD,EAAO;EAC1BA,MAAAA,CAAC,CAACkJ,eAAF;EACAlJ,MAAAA,CAAC,CAACuK,cAAF;EACD,KAHD;EAKAtC,IAAAA,GAAG,CAAClI,EAAJ,CAAO,MAAP,EAAe,UAACC,CAAD,EAAO;EACpBA,MAAAA,CAAC,CAACkJ,eAAF;EACAlJ,MAAAA,CAAC,CAACuK,cAAF;;EAEAD,MAAAA,gBAAgB,CAACE,OAAjB,CAAyBjM,EAAzB,EAA6ByB,CAAC,CAACyK,aAAF,CAAgBC,YAAhB,CAA6BC,KAA1D;EACD,KALD;EAOA1C,IAAAA,GAAG,CAAClI,EAAJ,CAAO,QAAP,EAAiB,UAACC,CAAD,EAAO;EACtBsK,MAAAA,gBAAgB,CAACE,OAAjB,CAAyBjM,EAAzB;EACD,KAFD;EAGD,GAzBwB;EA0BzBmE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD;EAAA,WAAQ,IAAR;EAAA,GA1Be;EA2BzBuE,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIV,KAAK,GAAG9D,EAAE,CAACe,aAAH,CAAiB,OAAjB,CAAZ;;EAEA,QAAIyD,GAAG,CAACiE,MAAR,EAAgB;EACd3E,MAAAA,KAAK,CAAC4E,eAAN,CAAsB,UAAtB;EACD;;EAED,QAAIlE,GAAG,CAAC6D,OAAR,EAAiB;EACfvE,MAAAA,KAAK,CAAC0E,YAAN,CAAmB,UAAnB,EAA+B,EAA/B;EACD;;EAED,QAAIhE,GAAG,CAAC0F,KAAR,EAAe;EACblK,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgDa,GAAG,CAAC0F,KAApD;EACApG,MAAAA,KAAK,CAACtD,SAAN,CAAgBgG,GAAhB,CAAoB,UAApB;EACD;;EAED,QAAIhC,GAAG,CAAC2F,OAAR,EAAiB;EACfnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkDa,GAAG,CAAC2F,OAAtD;EACArG,MAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,YAAvB;EACD;;EAED,QAAI,CAAC+D,GAAG,CAAC0F,KAAL,IAAc,CAAC1F,GAAG,CAAC2F,OAAvB,EAAgC;EAC9BnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgD,EAAhD;EACA3D,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkD,EAAlD;EACAG,MAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;EACAqD,MAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,YAAvB;EACD;EACF,GAtDwB;EAuDzB4L,EAAAA,KAAK,EAAE,eAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,KAAzB,EAAgCzM,EAAhC,EAAoC;EACzC,QAAI0M,GAAG,GAAG,IAAIC,cAAJ,EAAV;EACAD,IAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,EAAiBN,GAAjB,EAAsB,IAAtB;EACAI,IAAAA,GAAG,CAACG,gBAAJ,CAAqB,cAArB,EAAqC,0BAArC;;EAEAH,IAAAA,GAAG,CAACI,kBAAJ,GAAyB,YAAW;EAClC,UAAIJ,GAAG,CAACK,UAAJ,IAAkBJ,cAAc,CAACK,IAAjC,IAAyCN,GAAG,CAACO,MAAJ,IAAc,GAAvD,IAA8DR,KAAlE,EAAyE;EACvEzD,QAAAA,KAAK,CAACkE,QAAN,CAAeC,WAAf,CACE,WADF,EAEE,CAACZ,GAAD,EAAMvM,EAAE,CAACM,EAAT,CAFF,EAGE,UAAC8M,GAAD,EAAS;EACPpN,UAAAA,EAAE,CAACe,aAAH,CAAiB,oBAAjB,EAAuC6F,KAAvC,GAA+C,EAA/C;EACD,SALH,EAME,UAACyG,GAAD,EAAS;EACP5I,UAAAA,OAAO,CAAC6I,KAAR,mCAA+CtN,EAAE,CAACM,EAAlD,UAA2D+M,GAA3D;EACD,SARH;EAUD;EACF,KAbD;;EAeAX,IAAAA,GAAG,CAACa,IAAJ,CAASf,IAAT;EACD,GA5EwB;EA6EzBP,EAAAA,OAAO,EAAE,iBAASjM,EAAT,EAAaoM,KAAb,EAAoB;EAAA;;EAC3B,QAAItI,KAAK,GAAG9D,EAAE,CAACe,aAAH,CAAiB,oBAAjB,CAAZ;;EAEA,QAAIqL,KAAK,KAAK/E,SAAd,EAAyB;EACvB+E,MAAAA,KAAK,GAAGtI,KAAK,CAACsI,KAAd;EACD;;EAED,QAAI,CAACA,KAAL,EAAY;EACV;EACD;;EAED,QAAI,CAACtI,KAAK,CAAC0J,YAAN,CAAmB,UAAnB,CAAL,EAAqC;EACnCpB,MAAAA,KAAK,GAAGlG,KAAK,CAAClB,SAAN,CAAgBmB,KAAhB,CAAsBN,IAAtB,CAA2BuG,KAA3B,EAAkC,CAAlC,EAAqC,CAArC,CAAR;EACD,KAFD,MAEO;EACLA,MAAAA,KAAK,GAAGlG,KAAK,CAAClB,SAAN,CAAgBmB,KAAhB,CAAsBN,IAAtB,CAA2BuG,KAA3B,CAAR;EACD;;EAED,QAAIqB,IAAI,GAAGrB,KAAK,CAACtF,GAAN,CAAU,UAAA4G,CAAC,EAAI;EACxB,aAAO;EAAE1L,QAAAA,IAAI,EAAE0L,CAAC,CAAC1L,IAAV;EAAgB2L,QAAAA,IAAI,EAAED,CAAC,CAACC,IAAxB;EAA8BzK,QAAAA,IAAI,EAAEwK,CAAC,CAACxK;EAAtC,OAAP;EACD,KAFU,CAAX;EAIA8F,IAAAA,KAAK,CAACkE,QAAN,CAAeC,WAAf,CACE,YADF,EAEE,CAACM,IAAD,CAFF,EAGE,UAACL,GAAD,EAAS;EACP,UAAIb,GAAG,GAAGa,GAAG,CAACQ,KAAd;EACA,UAAItB,GAAG,GAAGc,GAAG,CAACS,SAAd;;EAEA,WAAK,IAAInI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0G,KAAK,CAACzG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;EACrC,QAAA,KAAI,CAAC2G,KAAL,CAAWC,GAAX,EAAgBC,GAAhB,EAAqBH,KAAK,CAAC1G,CAAD,CAA1B,EAA+BA,CAAC,KAAM0G,KAAK,CAACzG,MAAN,GAAe,CAArD,EAAyD3F,EAAzD;EACD;EACF,KAVH,EAWE,UAACqN,GAAD,EAAS;EACP5I,MAAAA,OAAO,CAAC6I,KAAR,oCAAgDtN,EAAE,CAACM,EAAnD,UAA4D+M,GAA5D;EACD,KAbH;EAeD;EAjHwB,CAA3B;EAoHAhN,QAAQ,CAACyN,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;EAClDC,EAAAA,iBAAiB,CAACC,IAAlB,CAAuB,qCAAvB;EACD,CAFD;EAIAhF,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6B6C,gBAA7B,EAA+C,kBAA/C;;EC1HO,IAAIkC,gBAAgB,GAAG,IAAIjF,KAAK,CAACM,YAAV,EAAvB;EAEPrI,CAAC,CAACsI,MAAF,CAAS0E,gBAAT,EAA2B;EACzBlK,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,kBAAvB,CAAX;EAAA,GADmB;EAEzB2D,EAAAA,UAAU,EAAE,oBAAC7D,EAAD,EAAQ;EAClB,QAAIkO,SAAS,GAAGjN,CAAC,CAACZ,QAAD,CAAjB;EACA,QAAIqJ,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA,QAAImO,KAAK,GAAG,EAAZ;EACA,QAAIvH,KAAK,GAAG,IAAZ;EAEA5G,IAAAA,EAAE,CAACE,gBAAH,CAAoB,qBAApB,EAA2CC,OAA3C,CAAmD,UAAAqF,CAAC,EAAI;EACtDA,MAAAA,CAAC,CAACgD,YAAF,CAAe,MAAf,EAAuB,QAAvB;EACD,KAFD;EAIA0F,IAAAA,SAAS,CAAC1M,EAAV,CAAa,2BAAb,EAA0C,UAACC,CAAD,EAAO;EAC/C,UAAI,CAACA,CAAC,CAACzB,EAAH,IAASyB,CAAC,CAAC2M,QAAF,KAAe,OAA5B,EAAqC;EACnC;EACD;;EAED,UAAI3M,CAAC,CAACzB,EAAF,CAAKM,EAAL,KAAYN,EAAE,CAACM,EAAnB,EAAuB;EACrB0I,QAAAA,KAAK,CAACqF,aAAN,CAAoBrO,EAAE,CAACM,EAAvB,EAA2BsG,KAA3B,EAAkC;EAAEwH,UAAAA,QAAQ,EAAE;EAAZ,SAAlC;EACA3M,QAAAA,CAAC,CAACuK,cAAF;EACA;EACD;;EAED,UAAIhM,EAAE,CAACgB,QAAH,CAAYS,CAAC,CAACzB,EAAd,CAAJ,EAAuB;EACrBmO,QAAAA,KAAK,CAAC1M,CAAC,CAACO,IAAH,CAAL,GAAgBP,CAAC,CAACmF,KAAlB;EACAnF,QAAAA,CAAC,CAACuK,cAAF;EACD;EACF,KAfD;EAiBAtC,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,qBAAvB,EAA8C,UAACC,CAAD,EAAO;EACnDmF,MAAAA,KAAK,GAAGnF,CAAC,CAACE,aAAF,CAAgBiF,KAAxB;EACD,KAFD;EAIA8C,IAAAA,GAAG,CAAClI,EAAJ,CAAO,eAAP,EAAwB,UAACC,CAAD,EAAO;EAC7B6M,MAAAA,MAAM,CAACC,IAAP,CAAYJ,KAAZ,EAAmBhO,OAAnB,CAA2B,UAAAmC,GAAG,EAAI;EAChC0G,QAAAA,KAAK,CAACqF,aAAN,CAAoB/L,GAApB,EAAyB6L,KAAK,CAAC7L,GAAD,CAA9B,EAAqC;EAAE8L,UAAAA,QAAQ,EAAE;EAAZ,SAArC;EACD,OAFD;EAGD,KAJD;EAKD,GAvCwB;EAwCzBjK,EAAAA,QAAQ,EAAE,kBAACnE,EAAD;EAAA,WAAQ,IAAR;EAAA,GAxCe;EAyCzBoE,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,eAAP,EAAwB,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAAxB;EACD,GA7CwB;EA8CzBC,EAAAA,WAAW,EAAE,qBAACtE,EAAD,EAAQ;EACnBiB,IAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV;EACA1I,IAAAA,CAAC,CAACZ,QAAD,CAAD,CAAYsJ,GAAZ,CAAgB,2BAAhB;EACD;EAjDwB,CAA3B;EAoDAX,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6B+E,gBAA7B,EAA+C,kBAA/C;;ECpDO,IAAIO,gBAAgB,GAAG,IAAIxF,KAAK,CAACM,YAAV,EAAvB;EAEPrI,CAAC,CAACsI,MAAF,CAASiF,gBAAT,EAA2B;EACzBzK,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,kBAAvB,CAAX;EAAA,GADmB;EAEzB2D,EAAAA,UAAU,EAAE,oBAAC7D,EAAD,EAAQ;EAClBA,IAAAA,EAAE,CAAC4G,KAAH,GAAW,CAAX;EAEA3F,IAAAA,CAAC,CAACjB,EAAD,CAAD,CAAMwB,EAAN,CAAS,OAAT,EAAkB,UAAAC,CAAC;EAAA,aAAIzB,EAAE,CAAC4G,KAAH,GAAW,CAAC5G,EAAE,CAAC4G,KAAJ,GAAY,CAA3B;EAAA,KAAnB;EAEAvF,IAAAA,cAAc,CAACrB,EAAD,EAAK,IAAL,EAAW,OAAX,CAAd;EACD,GARwB;EASzBmE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD;EAAA,WAAQ,CAACA,EAAE,CAAC4G,KAAJ,GAAY,CAAZ,GAAgB,CAAC5G,EAAE,CAAC4G,KAApB,GAA4B,IAApC;EAAA,GATe;EAUzBxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAAvB;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,mBAAP,EAA4B,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAA5B;EACD,GAfwB;EAgBzBC,EAAAA,WAAW,EAAE,qBAACtE,EAAD;EAAA,WAAQiB,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV,CAAR;EAAA,GAhBY;EAiBzBpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIA,GAAG,CAACf,OAAR,EAAiB;EACfzD,MAAAA,EAAE,CAAC2D,SAAH,GAAea,GAAG,CAACf,OAAnB;EACD;;EAED,QAAIe,GAAG,CAACoC,KAAJ,KAAc,IAAd,IAAsBpC,GAAG,CAACoC,KAAJ,KAAcS,SAAxC,EAAmD;EACjDrH,MAAAA,EAAE,CAAC4G,KAAH,GAAWpC,GAAG,CAACoC,KAAf;EACA3F,MAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM+J,OAAN,CAAc,mBAAd;EACD;;EAED,QAAIvF,GAAG,CAACiE,MAAR,EAAgB;EACdzI,MAAAA,EAAE,CAACQ,SAAH,CAAaC,MAAb,CAAoB,UAApB;EACAT,MAAAA,EAAE,CAAC0I,eAAH,CAAmB,UAAnB;EACD;;EAED,QAAIlE,GAAG,CAAC6D,OAAR,EAAiB;EACfrI,MAAAA,EAAE,CAACQ,SAAH,CAAagG,GAAb,CAAiB,UAAjB;EACAxG,MAAAA,EAAE,CAACwI,YAAH,CAAgB,UAAhB,EAA4B,EAA5B;EACD;EACF;EApCwB,CAA3B;EAuCAQ,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6BsF,gBAA7B,EAA+C,kBAA/C;;ECzCO,IAAIC,qBAAqB,GAAG,IAAIzF,KAAK,CAACM,YAAV,EAA5B;EAEPrI,CAAC,CAACsI,MAAF,CAASkF,qBAAT,EAAgC;EAC9B1K,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,wBAAvB,CAAX;EAAA,GADwB;EAE9B2D,EAAAA,UAAU,EAAE,oBAAC7D,EAAD,EAAQ;EAClB,QAAI0J,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,OAAP,EAAgB,qDAAhB,EAAuE,UAACC,CAAD,EAAO;EAC5EzB,MAAAA,EAAE,CAACE,gBAAH,CAAoB,SAApB,EAA+BC,OAA/B,CAAuC,UAAAyF,IAAI,EAAI;EAC7CA,QAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,QAAtB;EACD,OAFD;EAIAgB,MAAAA,CAAC,CAACE,aAAF,CAAgBnB,SAAhB,CAA0BgG,GAA1B,CAA8B,QAA9B;EACD,KAND;EAQAkD,IAAAA,GAAG,CAAClI,EAAJ,CAAO,OAAP,EAAgB,+CAAhB,EAAiE,UAACC,CAAD,EAAO;EACtEA,MAAAA,CAAC,CAACE,aAAF,CAAgBnB,SAAhB,CAA0BC,MAA1B,CAAiC,QAAjC;EACD,KAFD;EAIAY,IAAAA,cAAc,CAACrB,EAAD,EAAK,iCAAL,EAAwC,OAAxC,CAAd;EACD,GAlB6B;EAmB9BmE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAIkL,KAAK,GAAGlL,EAAE,CAACE,gBAAH,CAAoB,+CAApB,CAAZ;;EAEA,QAAIgL,KAAK,CAACvF,MAAN,KAAiB,CAArB,EAAwB;EACtB,aAAO,IAAP;EACD;;EAED,WAAOO,KAAK,CAAClB,SAAN,CAAgBmB,KAAhB,CAAsBN,IAAtB,CAA2BqF,KAA3B,EAAkCpE,GAAlC,CAAsC,UAAApB,CAAC;EAAA,aAAIA,CAAC,CAACkB,KAAN;EAAA,KAAvC,CAAP;EACD,GA3B6B;EA4B9BxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAAvB;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,yBAAP,EAAkC,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAAlC;EACD,GAjC6B;EAkC9BqK,EAAAA,UAAU,EAAE,oBAAC1O,EAAD;EAAA,WAAQiB,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV,CAAR;EAAA,GAlCkB;EAmC9BpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIA,GAAG,CAACf,OAAR,EAAiB;EACfzD,MAAAA,EAAE,CAACE,gBAAH,CAAoB,kBAApB,EAAwCC,OAAxC,CAAgD,UAAAyF,IAAI,EAAI;EACtD5F,QAAAA,EAAE,CAAC4J,WAAH,CAAehE,IAAf;EACD,OAFD;EAGA5F,MAAAA,EAAE,CAAC6J,kBAAH,CAAsB,YAAtB,EAAoCrF,GAAG,CAACf,OAAxC;EACD;;EAED,QAAIe,GAAG,CAACsF,QAAR,EAAkB;EAChB,UAAItF,GAAG,CAACsF,QAAJ,KAAiB,IAArB,EAA2B;EACzB9J,QAAAA,EAAE,CAACE,gBAAH,CAAoB,yBAApB,EAA+CC,OAA/C,CAAuD,UAAAyF,IAAI,EAAI;EAC7DA,UAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,QAAtB;EACD,SAFD;EAGD;;EAEDT,MAAAA,EAAE,CAACE,gBAAH,CAAoB,kBAApB,EAAwCC,OAAxC,CAAgD,UAAAyF,IAAI,EAAI;EACtD,YAAIpB,GAAG,CAACsF,QAAJ,KAAiB,IAAjB,IAAyBtF,GAAG,CAACsF,QAAJ,CAAa1C,OAAb,CAAqBxB,IAAI,CAACgB,KAA1B,IAAmC,CAAC,CAAjE,EAAoE;EAClEhB,UAAAA,IAAI,CAACpF,SAAL,CAAegG,GAAf,CAAmB,QAAnB;EACD;EACF,OAJD;EAMAvF,MAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM+J,OAAN,CAAc,yBAAd;EACD;;EAED,QAAIvF,GAAG,CAACiE,MAAR,EAAgB;EACd,UAAIA,MAAM,GAAGjE,GAAG,CAACiE,MAAjB;;EAEA,UAAIA,MAAM,KAAK,IAAf,EAAqB;EACnBzI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,kBAApB,EAAwCC,OAAxC,CAAgD,UAAAyF,IAAI,EAAI;EACtDA,UAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,UAAtB;EACD,SAFD;EAGD,OAJD,MAIO;EACLT,QAAAA,EAAE,CAACE,gBAAH,CAAoB,kBAApB,EAAwCC,OAAxC,CAAgD,UAAAyF,IAAI,EAAI;EACtD,cAAI6C,MAAM,CAACrB,OAAP,CAAexB,IAAI,CAACgB,KAApB,IAA6B,CAAC,CAAlC,EAAqC;EACnChB,YAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,UAAtB;EACD;EACF,SAJD;EAKD;EACF;;EAED,QAAI+D,GAAG,CAAC6D,OAAR,EAAiB;EACf,UAAIA,OAAO,GAAG7D,GAAG,CAAC6D,OAAlB;;EAEA,UAAIA,OAAO,KAAK,IAAhB,EAAsB;EACpBrI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,kBAApB,EAAwCC,OAAxC,CAAgD,UAAAyF,IAAI,EAAI;EACtDA,UAAAA,IAAI,CAACpF,SAAL,CAAegG,GAAf,CAAmB,UAAnB;EACD,SAFD;EAGD,OAJD,MAIO;EACLxG,QAAAA,EAAE,CAACE,gBAAH,CAAoB,kBAApB,EAAwCC,OAAxC,CAAgD,UAAAyF,IAAI,EAAI;EACtD,cAAIyC,OAAO,CAACjB,OAAR,CAAgBxB,IAAI,CAACgB,KAArB,IAA8B,CAAC,CAAnC,EAAsC;EACpChB,YAAAA,IAAI,CAACpF,SAAL,CAAegG,GAAf,CAAmB,UAAnB;EACD;EACF,SAJD;EAKD;EACF;EACF;EA1F6B,CAAhC;EA6FAwC,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6BuF,qBAA7B,EAAoD,uBAApD;;ECnFA,IAAMjH,MAAI,GAAG,MAAb;EACA,IAAMC,MAAI,eAAcD,MAAxB;EAEA,IAAME,WAAS,GAAG;EAChBC,EAAAA,KAAK,EAAE,aADS;EAEhBC,EAAAA,KAAK,EAAE;EAFS,CAAlB;EAKA,IAAME,UAAQ,GAAG;EACfH,EAAAA,KAAK,QAAOD,WAAS,CAACC,KADP;EAEfC,EAAAA,KAAK,QAAOF,WAAS,CAACE,KAFP;EAGfG,EAAAA,YAAY,QAAOL,WAAS,CAACC,KAAjB,UAA6BD,WAAS,CAACE,KAHpC;EAIf+G,EAAAA,MAAM,EAAE;EAJO,CAAjB;EAOA,IAAM1G,OAAK,GAAG;EACZC,EAAAA,KAAK,aAAYT,MADL;EAEZmH,EAAAA,KAAK,EAAE,kBAFK;EAGZC,EAAAA,MAAM,EAAE;EAHI,CAAd;;MAMMC;;;;;EAEJ,qBAAYzM,OAAZ,EAAqB;EAAA;;EACnB,8BAAMA,OAAN,EAAeoF,MAAf;EAEA,UAAKW,QAAL,GAAgB,CAAhB;EAEAzF,IAAAA,KAAK,CAACC,OAAN,CAAcP,OAAd,EAAuBoF,MAAvB;EALmB;EAMpB;;;;WAEDb,QAAA,eAAMX,CAAN,EAAS;EACP,QAAI,OAAOA,CAAP,KAAa,WAAjB,EAA8B;EAC5B,aAAO,KAAK1C,MAAZ;EACD;;EAED,SAAKA,MAAL,GAAc0C,CAAd;;EACA,SAAKzC,SAAL;;EAEA,WAAO,IAAP;EACD;;WAEDuL,SAAA,gBAAOpI,MAAP,EAAe;EACb,QAAI2B,QAAQ,GAAG,KAAKjF,QAAL,CAAcnD,gBAAd,CAA+B4H,UAAQ,CAACF,KAAxC,CAAf;;EAEA,QAAIoH,OAAO,GAAGtI,cAAc,CAAC4B,QAAD,EAAW3B,MAAX,CAA5B;EAEAF,IAAAA,kBAAkB,CAAC6B,QAAD,CAAlB;;EAEA,QAAI0G,OAAO,CAACrJ,MAAZ,EAAoB;EAClBW,MAAAA,gBAAgB,CAAC0I,OAAO,CAAC,CAAD,CAAR,CAAhB;EACA,WAAKpI,KAAL,CAAWoI,OAAO,CAAC,CAAD,CAAP,CAAWpI,KAAtB;EACD;EACF;;;cAgBM/C,aAAP,oBAAkBxB,OAAlB,EAA2B;EACzB,QAAIyB,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBoF,MAAvB,CAAZ;;EAEA,QAAI,CAAC3D,KAAL,EAAY;EACVA,MAAAA,KAAK,GAAG,IAAIgL,SAAJ,CAAczM,OAAd,CAAR;EACD;EACF;;cAEM0B,OAAP,cAAY1B,OAAZ,EAAqB;EACnB,kBAAa0B,IAAb,YAAkB1B,OAAlB,EAA2ByF,UAAQ,CAACH,KAApC;EACD;;cAEMzD,UAAP,iBAAe7B,OAAf,EAAwB;EACtB,WAAOoF,MAAP;EACD;;cAEMtD,WAAP,kBAAgB9B,OAAhB,EAAyB;EACvB,QAAIyB,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBoF,MAAvB,CAAZ;;EAEA,QAAI,CAAC3D,KAAL,EAAY;EACV,aAAO,IAAP;EACD;;EAED,WAAO;EAAE8C,MAAAA,KAAK,EAAE9C,KAAK,CAAC8C,KAAN,EAAT;EAAwB+B,MAAAA,OAAO,EAAE7E,KAAK,CAACsE,QAAN;EAAjC,KAAP;EACD;;cAEMhE,YAAP,mBAAiB/B,OAAjB,EAA0BgC,QAA1B,EAAoC;EAClC,WAAMD,SAAN,YAAgB/B,OAAhB,EAAyBgC,QAAzB,EAAmCoD,MAAnC;EACD;;cAEMnD,cAAP,qBAAmBjC,OAAnB,EAA4B;EAC1B,WAAMiC,WAAN,YAAkBjC,OAAlB,EAA2BoF,MAA3B;EACD;;cAEMlD,iBAAP,wBAAsBlC,OAAtB,EAA+BP,OAA/B,EAAwC;EACtC,WAAMyC,cAAN,YAAqBlC,OAArB,EAA8BP,OAA9B,EAAuC2F,MAAvC;EACD;;cAEMmB,iBAAP,0BAAwB;EACtB,8BAAY3F,KAAZ,MAAsB6L,SAAtB;EACD;;;;0BApDiB;EAChB,aAAOrH,MAAP;EACD;;;0BAEqB;EACpB,aAAOK,UAAP;EACD;;;0BAEkB;EACjB,aAAOG,OAAP;EACD;;;;IA9CqBhF;;;AA6FxBhC,KAAC,CAACZ,QAAD,CAAD,CAAYmB,EAAZ,CAAeyG,OAAK,CAACC,KAArB,EAA4BJ,UAAQ,CAACC,YAArC,EAAmD,UAACxG,KAAD,EAAW;EAC5D,MAAIqE,IAAI,GAAGG,WAAW,CAACxE,KAAK,CAACT,MAAP,EAAegH,UAAQ,CAACF,KAAxB,CAAtB;;EAEA,MAAI,CAAChC,IAAL,EAAW;EACT;EACD;;EAED,MAAIqJ,IAAI,GAAGlJ,WAAW,CAACH,IAAD,EAAOkC,UAAQ,CAACH,KAAhB,CAAtB;EACA,MAAIuH,SAAS,GAAGvM,KAAK,CAACG,OAAN,CAAcmM,IAAd,EAAoBxH,MAApB,CAAhB;;EAEA,MAAI,CAACyH,SAAL,EAAgB;EACd;EACD;;EAEDA,EAAAA,SAAS,CAACH,MAAV,CAAiBnJ,IAAjB;EACD,CAfD;;EAiBA,IAAIoD,OAAJ,EAAW;EACTA,EAAAA,OAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6B4F,SAAS,CAAClG,cAAV,EAA7B,EAAyDnB,MAAzD;EACD;;EClID,IAAMD,MAAI,GAAG,KAAb;EACA,IAAMC,MAAI,eAAcD,MAAxB;EAEA,IAAME,WAAS,GAAG;EAChBC,EAAAA,KAAK,EAAE,YADS;EAEhBC,EAAAA,KAAK,EAAE,UAFS;EAGhBuH,EAAAA,IAAI,EAAE;EAHU,CAAlB;EAMA,IAAMrH,UAAQ,GAAG;EACfH,EAAAA,KAAK,QAAOD,WAAS,CAACC,KADP;EAEfC,EAAAA,KAAK,QAAOF,WAAS,CAACE,KAFP;EAGfG,EAAAA,YAAY,QAAOL,WAAS,CAACC,KAAjB,UAA6BD,WAAS,CAACE,KAHpC;EAIfwH,EAAAA,MAAM,EAAE,SAJO;EAKfvH,EAAAA,QAAQ,EAAE,WALK;EAMfG,EAAAA,MAAM,EAAE,eANO;EAOfqH,EAAAA,QAAQ,QAAO3H,WAAS,CAACyH,IAPV;EAQfG,EAAAA,WAAW,EAAER,SAAS,CAAChH,QAAV,CAAmB6G,MARjB;EASfY,EAAAA,SAAS,EAAET,SAAS,CAAChH,QAAV,CAAmBF;EATf,CAAjB;EAYA,IAAMK,OAAK,GAAG;EACZC,EAAAA,KAAK,aAAYT;EADL,CAAd;;MAIM+H;;;;;EAEJ,oBAAYnN,OAAZ,EAAqB;EAAA;;EACnB,8BAAMA,OAAN,EAAeoF,MAAf;EAEA9E,IAAAA,KAAK,CAACC,OAAN,CAAcP,OAAd,EAAuBoF,MAAvB;EAHmB;EAIpB;;;;WAEDb,QAAA,eAAMX,CAAN,EAAS;EACP,QAAI,OAAOA,CAAP,KAAa,WAAjB,EAA8B;EAC5B,aAAO,KAAK1C,MAAZ;EACD;;EAED,SAAKA,MAAL,GAAc0C,CAAd;;EACA,SAAKzC,SAAL;;EAEA,WAAO,IAAP;EACD;;WAEDuL,SAAA,gBAAOpI,MAAP,EAAe;EACb,QAAI2B,QAAQ,GAAG,KAAKjF,QAAL,CAAcnD,gBAAd,CAA+B4H,UAAQ,CAACF,KAAxC,CAAf;;EAEA,QAAIoH,OAAO,GAAGtI,cAAc,CAAC4B,QAAD,EAAW3B,MAAX,CAA5B;EAEAF,IAAAA,kBAAkB,CAAC6B,QAAD,CAAlB;EAEAtC,IAAAA,OAAO,CAACsC,QAAD,CAAP,CAAkBnI,OAAlB,CAA0B,UAAAsP,KAAK,EAAI;EACjC,UAAIT,OAAO,CAAC5H,OAAR,CAAgBqI,KAAhB,IAAyB,CAAC,CAA9B,EAAiC;EAC/B;EACD;;EAED,UAAIP,SAAS,GAAGvM,KAAK,CAACG,OAAN,CAAc2M,KAAK,CAACxP,UAApB,EAAgC6O,SAAS,CAACrH,IAA1C,CAAhB;;EAEA,UAAI,CAACyH,SAAL,EAAgB;EACd;EACD;;EAEDA,MAAAA,SAAS,CAACH,MAAV,CAAiB,IAAjB;EACD,KAZD;;EAcA,QAAIC,OAAO,CAACrJ,MAAZ,EAAoB;EAClBW,MAAAA,gBAAgB,CAAC0I,OAAO,CAAC,CAAD,CAAR,CAAhB;EACA,WAAKpI,KAAL,CAAWoI,OAAO,CAAC,CAAD,CAAP,CAAWpI,KAAtB;EACD;EACF;;WAEDyB,UAAA,iBAAQ1B,MAAR,EAAgB;;WAIhB8B,SAAA,gBAAO9B,MAAP,EAAe;;;aAMR9C,aAAP,oBAAkBxB,OAAlB,EAA2B;EACzB,QAAIyB,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBoF,MAAvB,CAAZ;;EAEA,QAAI,CAAC3D,KAAL,EAAY;EACVA,MAAAA,KAAK,GAAG,IAAI0L,QAAJ,CAAanN,OAAb,CAAR;EACD;EACF;;aAEM0B,OAAP,cAAYC,KAAZ,EAAmB;EACjB,kBAAaD,IAAb,YAAkBC,KAAlB,EAAyB8D,UAAQ,CAACH,KAAlC;EACD;;aAEMxD,WAAP,kBAAgB9B,OAAhB,EAAyB;EACvB,QAAIyB,KAAK,GAAGnB,KAAK,CAACG,OAAN,CAAcT,OAAd,EAAuBoF,MAAvB,CAAZ;;EAEA,QAAI,CAAC3D,KAAL,EAAY;EACV,aAAO,IAAP;EACD;;EAED,WAAOA,KAAK,CAAC8C,KAAN,EAAP;EACD;;aAEMxC,YAAP,mBAAiB/B,OAAjB,EAA0BgC,QAA1B,EAAoC;EAClC,WAAMD,SAAN,YAAgB/B,OAAhB,EAAyBgC,QAAzB,EAAmCoD,MAAnC;EACD;;aAEMnD,cAAP,qBAAmBjC,OAAnB,EAA4B;EAC1B,WAAMiC,WAAN,YAAkBjC,OAAlB,EAA2BoF,MAA3B;EACD;;aAEMlD,iBAAP,wBAAsBlC,OAAtB,EAA+BP,OAA/B,EAAwC;EACtC,WAAMyC,cAAN,YAAqBlC,OAArB,EAA8BP,OAA9B,EAAuC2F,MAAvC;EACD;;aAEMmB,iBAAP,0BAAwB;EACtB,8BAAY3F,KAAZ,MAAsBuM,QAAtB;EACD;;;IA5FoBvM;;;AAiGvBhC,KAAC,CAACZ,QAAD,CAAD,CAAYmB,EAAZ,CAAeyG,OAAK,CAACC,KAArB,EAAgCJ,UAAQ,CAACC,YAAzC,aAA+DD,UAAQ,CAACwH,WAAxE,QAAyF,UAAC/N,KAAD,EAAW;EAClG,MAAImO,GAAG,GAAG3J,WAAW,CAACxE,KAAK,CAACT,MAAP,EAAegH,UAAQ,CAACH,KAAxB,CAArB;EACA,MAAIgI,QAAQ,GAAGhN,KAAK,CAACG,OAAN,CAAc4M,GAAd,EAAmBjI,MAAnB,CAAf;;EAEA,MAAI,CAACkI,QAAL,EAAe;EACb;EACD;;EAEDlL,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;EAEA,MAAImE,MAAM,GAAG9C,WAAW,CAACxE,KAAK,CAACT,MAAP,EAAegH,UAAQ,CAACF,KAAxB,CAAxB;EAEA+H,EAAAA,QAAQ,CAACZ,MAAT,CAAgBlG,MAAhB;EACD,CAbD;AAeA5H,KAAC,CAACZ,QAAD,CAAD,CAAYmB,EAAZ,CAAeyG,OAAK,CAACC,KAArB,OAAgCJ,UAAQ,CAACC,YAAzC,GAA0DD,UAAQ,CAACE,MAAnE,EAA8E,UAACzG,KAAD,EAAW;EACvF,MAAIqO,IAAI,GAAG7J,WAAW,CAACxE,KAAK,CAACT,MAAP,EAAegH,UAAQ,CAACF,KAAxB,CAAtB;;EADuF,6BAExDxB,mBAAmB,CAACwJ,IAAD,CAFqC;EAAA,MAElFjP,MAFkF;EAAA,MAE1EE,MAF0E;EAAA,MAElEC,MAFkE;;EAIvF,MAAI,CAACyG,GAAG,CAAC5G,MAAD,EAASE,MAAT,EAAiBC,MAAjB,CAAR,EAAkC;EAChC;EACD;;EAED2F,EAAAA,kBAAkB,CAACmJ,IAAD,CAAlB;EAEA3O,EAAAA,GAAC,CAAC2O,IAAD,CAAD,CAAQjP,MAAR,EAAgBE,MAAhB;EACD,CAXD;AAaAI,KAAC,CAACZ,QAAD,CAAD,CAAYmB,EAAZ,CAAeyG,OAAK,CAACC,KAArB,EAAgCJ,UAAQ,CAACH,KAAzC,SAAoDG,UAAQ,CAACyH,SAA7D,EAA2E,UAAChO,KAAD,EAAW;EACpF,MAAImO,GAAG,GAAG3J,WAAW,CAACxE,KAAK,CAACT,MAAP,EAAegH,UAAQ,CAACH,KAAxB,CAArB;EACA,MAAIgI,QAAQ,GAAGhN,KAAK,CAACG,OAAN,CAAc4M,GAAd,EAAmBjI,MAAnB,CAAf;;EAEA,MAAI,CAACkI,QAAL,EAAe;EACb;EACD;;EAED,MAAI/J,IAAI,GAAGG,WAAW,CAACxE,KAAK,CAACT,MAAP,EAAegH,UAAQ,CAACuH,QAAxB,CAAtB;EACA,MAAIO,IAAI,GAAGhK,IAAI,CAAC7E,aAAL,CAAmB+G,UAAQ,CAACF,KAA5B,CAAX;EAEA+H,EAAAA,QAAQ,CAACZ,MAAT,CAAgBa,IAAhB;EACD,CAZD;;EAcA,IAAI5G,OAAJ,EAAW;EACTA,EAAAA,OAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6BsG,QAAQ,CAAC5G,cAAT,EAA7B,EAAwDnB,MAAxD;EACD;AAIDuB,SAAK,CAAC6G,uBAAN,CAA8B,aAA9B,EAA6C,UAACrL,GAAD,EAAS;EACpD,MAAIsL,KAAK,GAAG,SAARA,KAAQ,CAAS1P,IAAT,EAAe;EACzB,QAAIA,IAAI,KAAK,IAAT,IAAiBA,IAAI,CAACI,SAAL,CAAeQ,QAAf,CAAwB,MAAxB,CAArB,EAAsD;EACpD;EACD;;EAED,QAAI,CAACZ,IAAI,CAAC0F,aAAL,CAAmBtF,SAAnB,CAA6BQ,QAA7B,CAAsC,aAAtC,CAAL,EAA2D;EACzDyD,MAAAA,OAAO,CAACsL,IAAR,eAA0B3P,IAAI,CAACE,EAA/B;EACA;EACD;;EAED,QAAI0P,QAAQ,GAAG5P,IAAI,CAAC0F,aAAL,CAAmB/E,aAAnB,CAAiC,SAAjC,CAAf;;EAEA,QAAMkP,QAAQ,GAAG,SAAXA,QAAW,GAAM;EACrB,UAAMC,WAAW,GAAGjP,GAAC,CAACgH,KAAF,CAAQ,eAAR,EAAyB;EAC3CkI,QAAAA,aAAa,EAAE/P;EAD4B,OAAzB,CAApB;EAIA,UAAMgQ,UAAU,GAAGnP,GAAC,CAACgH,KAAF,CAAQ,cAAR,EAAwB;EACzCkI,QAAAA,aAAa,EAAEH;EAD0B,OAAxB,CAAnB;EAIA/O,MAAAA,GAAC,CAAC+O,QAAD,CAAD,CAAYjG,OAAZ,CAAoBmG,WAApB;EACAjP,MAAAA,GAAC,CAACb,IAAD,CAAD,CAAQ2J,OAAR,CAAgBqG,UAAhB;EACD,KAXD;;EAaAC,IAAAA,SAAS,CAACC,GAAV,CAActL,SAAd,CAAwBuL,SAAxB,CAAkCnQ,IAAlC,EAAwCA,IAAI,CAAC0F,aAA7C,EAA4DmK,QAA5D;EACD,GA1BD;;EA4BA,MAAIO,KAAK,GAAG,SAARA,KAAQ,CAASpQ,IAAT,EAAe;EACzB,QAAIA,IAAI,KAAK,IAAT,IAAiB,CAACA,IAAI,CAACI,SAAL,CAAeQ,QAAf,CAAwB,MAAxB,CAAtB,EAAuD;EACrD;EACD;;EAED,QAAI,CAACZ,IAAI,CAAC0F,aAAL,CAAmBtF,SAAnB,CAA6BQ,QAA7B,CAAsC,aAAtC,CAAL,EAA2D;EACzDyD,MAAAA,OAAO,CAACsL,IAAR,eAA0B3P,IAAI,CAACE,EAA/B;EACA;EACD;;EAED,QAAM2P,QAAQ,GAAG,SAAXA,QAAW,GAAM;EACrB,UAAMC,WAAW,GAAGjP,GAAC,CAACgH,KAAF,CAAQ,eAAR,EAAyB;EAC3CkI,QAAAA,aAAa,EAAE/P;EAD4B,OAAzB,CAApB;EAIAa,MAAAA,GAAC,CAACb,IAAD,CAAD,CAAQ2J,OAAR,CAAgBmG,WAAhB;EACD,KAND;;EAQA,QAAIO,KAAK,GAAGpQ,QAAQ,CAACqQ,aAAT,CAAuB,KAAvB,CAAZ;;EAEAL,IAAAA,SAAS,CAACC,GAAV,CAActL,SAAd,CAAwBuL,SAAxB,CAAkCE,KAAlC,EAAyCrQ,IAAI,CAAC0F,aAA9C,EAA6DmK,QAA7D;EACD,GArBD;;EAuBA,MAAIzL,GAAG,CAACtB,IAAJ,KAAamE,SAAb,IACA7C,GAAG,CAACjC,IAAJ,KAAa8E,SADb,IAEA7C,GAAG,CAACjC,IAAJ,CAASzB,MAAT,KAAoBuG,SAFxB,EAEmC;EACjC;EACD;;EAED,MAAIvG,MAAM,GAAGT,QAAQ,CAACsQ,cAAT,CAAwBnM,GAAG,CAACjC,IAAJ,CAASzB,MAAjC,CAAb;;EAEA,MAAIA,MAAM,KAAK,IAAf,EAAqB;EACnB;EACD;;EAED,MAAI0D,GAAG,CAACtB,IAAJ,KAAa,MAAjB,EAAyB;EACvB4M,IAAAA,KAAK,CAAChP,MAAD,CAAL;EACD,GAFD,MAEO,IAAI0D,GAAG,CAACtB,IAAJ,KAAa,MAAjB,EAAyB;EAC9BsN,IAAAA,KAAK,CAAC1P,MAAD,CAAL;EACD;EACF,CArED;;ECzLO,IAAI8P,iBAAiB,GAAG,IAAI5H,KAAK,CAACM,YAAV,EAAxB;EAEPrI,CAAC,CAACsI,MAAF,CAASqH,iBAAT,EAA4B;EAC1B7M,EAAAA,IAAI,EAAE,cAACC,KAAD,EAAW;EACf,WAAOA,KAAK,CAAC9D,gBAAN,CAAuB,mBAAvB,CAAP;EACD,GAHyB;EAI1B2D,EAAAA,UAAU,EAAE,oBAAC7D,EAAD,EAAQ;EAClBqB,IAAAA,cAAc,CAACrB,EAAD,EAAK,qBAAL,EAA4B,OAA5B,CAAd;EACD,GANyB;EAO1BmE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAI6Q,MAAM,GAAG7Q,EAAE,CAACE,gBAAH,CAAoB,8CAApB,CAAb;;EAEA,QAAI2Q,MAAM,CAAClL,MAAP,KAAkB,CAAtB,EAAyB;EACvB,aAAO,IAAP;EACD;;EAED,WAAOO,KAAK,CAAClB,SAAN,CAAgBmB,KAAhB,CAAsBN,IAAtB,CAA2BgL,MAA3B,EAAmC/J,GAAnC,CAAuC,UAAAgK,CAAC;EAAA,aAAIA,CAAC,CAAClK,KAAN;EAAA,KAAxC,CAAP;EACD,GAfyB;EAgB1BxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,eAAP,EAAwB,UAAAC,CAAC;EAAA,aAAI4C,QAAQ,EAAZ;EAAA,KAAzB;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,qBAAP,EAA8B,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAA9B;EACD,GArByB;EAsB1BC,EAAAA,WAAW,EAAE,qBAACtE,EAAD,EAAQ;EACnBiB,IAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV;EACD,GAxByB;EAyB1BpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIA,GAAG,CAACf,OAAR,EAAiB;EACfzD,MAAAA,EAAE,CAACE,gBAAH,CAAoB,eAApB,EAAqCC,OAArC,CAA6C,UAAC4Q,KAAD,EAAW;EACtD/Q,QAAAA,EAAE,CAAC4J,WAAH,CAAemH,KAAf;EACD,OAFD;EAIA/Q,MAAAA,EAAE,CAAC6J,kBAAH,CAAsB,YAAtB,EAAoCrF,GAAG,CAACf,OAAxC;EACD;;EAED,QAAIe,GAAG,CAACsF,QAAR,EAAkB;EAChB9J,MAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5C,YAAIU,GAAG,CAACsF,QAAJ,CAAa1C,OAAb,CAAqBtD,KAAK,CAAC8C,KAA3B,IAAoC,CAAC,CAAzC,EAA4C;EAC1C9C,UAAAA,KAAK,CAAC0F,OAAN,GAAgB,IAAhB;EACD,SAFD,MAEO;EACL1F,UAAAA,KAAK,CAAC0F,OAAN,GAAgB,KAAhB;EACD;EACF,OAND;EAQAvI,MAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM+J,OAAN,CAAc,qBAAd;EACD;;EAED,QAAIvF,GAAG,CAACiE,MAAR,EAAgB;EACd,UAAIA,MAAM,GAAGjE,GAAG,CAACiE,MAAjB;;EAEA,UAAIA,MAAM,KAAK,IAAf,EAAqB;EACnBzI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,uBAApB,EAA6CC,OAA7C,CAAqD,UAAA2D,KAAK,EAAI;EAC5DA,UAAAA,KAAK,CAAC4E,eAAN,CAAsB,UAAtB;EACD,SAFD;EAGD,OAJD,MAIO;EACL1I,QAAAA,EAAE,CAACE,gBAAH,CAAoB,uBAApB,EAA6CC,OAA7C,CAAqD,UAAA2D,KAAK,EAAI;EAC5D,cAAI2E,MAAM,CAACrB,OAAP,CAAetD,KAAK,CAAC8C,KAArB,IAA8B,CAAC,CAAnC,EAAsC;EACpC9C,YAAAA,KAAK,CAAC4E,eAAN,CAAsB,UAAtB;EACD;EACF,SAJD;EAKD;EACF;;EAED,QAAIlE,GAAG,CAAC6D,OAAR,EAAiB;EACf,UAAIA,OAAO,GAAG7D,GAAG,CAAC6D,OAAlB;;EAEA,UAAIA,OAAO,KAAK,IAAhB,EAAsB;EACpBrI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,uBAApB,EAA6CC,OAA7C,CAAqD,UAAA2D,KAAK,EAAI;EAC5DA,UAAAA,KAAK,CAAC0E,YAAN,CAAmB,UAAnB,EAA+B,EAA/B;EACD,SAFD;EAGD,OAJD,MAIO;EACLxI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,uBAApB,EAA6CC,OAA7C,CAAqD,UAAA2D,KAAK,EAAI;EAC5D,cAAIuE,OAAO,CAACjB,OAAR,CAAgBtD,KAAK,CAAC8C,KAAtB,IAA8B,CAAC,CAAnC,EAAsC;EACpC9C,YAAAA,KAAK,CAAC0E,YAAN,CAAmB,UAAnB,EAA+B,EAA/B;EACD;EACF,SAJD;EAKD;EACF;;EAED,QAAIhE,GAAG,CAAC0F,KAAR,EAAe;EACblK,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgDa,GAAG,CAAC0F,KAApD;EACAlK,MAAAA,EAAE,CAACE,gBAAH,CAAoB,uBAApB,EAA6CC,OAA7C,CAAqD,UAAA4Q,KAAK,EAAI;EAC5DA,QAAAA,KAAK,CAACvQ,SAAN,CAAgBgG,GAAhB,CAAoB,UAApB;EACD,OAFD;EAGD;;EAED,QAAIhC,GAAG,CAAC2F,OAAR,EAAiB;EACfnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkDa,GAAG,CAAC2F,OAAtD;EACAnK,MAAAA,EAAE,CAACE,gBAAH,CAAoB,uBAApB,EAA6CC,OAA7C,CAAqD,UAAA4Q,KAAK,EAAI;EAC5DA,QAAAA,KAAK,CAACvQ,SAAN,CAAgBgG,GAAhB,CAAoB,YAApB;EACD,OAFD;EAGD;;EAED,QAAI,CAAChC,GAAG,CAAC0F,KAAL,IAAc,CAAC1F,GAAG,CAAC2F,OAAvB,EAAgC;EAC9BnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgD,EAAhD;EACA3D,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkD,EAAlD;EACA3D,MAAAA,EAAE,CAACE,gBAAH,CAAoB,uBAApB,EAA6CC,OAA7C,CAAqD,UAAA4Q,KAAK,EAAI;EAC5DA,QAAAA,KAAK,CAACvQ,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;EACAsQ,QAAAA,KAAK,CAACvQ,SAAN,CAAgBC,MAAhB,CAAuB,YAAvB;EACD,OAHD;EAID;EACF;EApGyB,CAA5B;EAuGAuI,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6B0H,iBAA7B,EAAgD,mBAAhD;;ECzGO,IAAII,oBAAoB,GAAG,IAAIhI,KAAK,CAACM,YAAV,EAA3B;EAEPrI,CAAC,CAACsI,MAAF,CAASyH,oBAAT,EAA+B;EAC7BjN,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,sBAAvB,CAAX;EAAA,GADuB;EAE7B2D,EAAAA,UAAU,EAAE,oBAAC7D,EAAD,EAAQ;EAClBqB,IAAAA,cAAc,CAACrB,EAAD,EAAK,qBAAL,EAA4B,QAA5B,CAAd;EACD,GAJ4B;EAK7BmE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAI6Q,MAAM,GAAG7Q,EAAE,CAACE,gBAAH,CAAoB,8BAApB,CAAb;;EAEA,QAAI2Q,MAAM,CAAClL,MAAP,KAAkB,CAAtB,EAAyB;EACvB,aAAO,IAAP;EACD;;EAED,WAAOO,KAAK,CAAClB,SAAN,CAAgBmB,KAAhB,CAAsBN,IAAtB,CAA2BgL,MAA3B,EAAmC/J,GAAnC,CAAuC,UAAAgK,CAAC;EAAA,aAAIA,CAAC,CAAClK,KAAN;EAAA,KAAxC,CAAP;EACD,GAb4B;EAc7BxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,UAAAC,CAAC;EAAA,aAAI4C,QAAQ,EAAZ;EAAA,KAAxB;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,eAAP,EAAwB,UAAAC,CAAC;EAAA,aAAI4C,QAAQ,EAAZ;EAAA,KAAzB;EACD,GAnB4B;EAoB7BC,EAAAA,WAAW,EAAE,qBAACtE,EAAD,EAAQ;EACnBiB,IAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV;EACD,GAtB4B;EAuB7BpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIA,GAAG,CAACf,OAAR,EAAiB;EACfzD,MAAAA,EAAE,CAAC2D,SAAH,GAAea,GAAG,CAACf,OAAnB;EACD;;EAED,QAAIe,GAAG,CAACiE,MAAR,EAAgB;EACd,UAAIA,MAAM,GAAGjE,GAAG,CAACiE,MAAjB;;EAEA,UAAIA,MAAM,KAAK,IAAf,EAAqB;EACnBzI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4BC,OAA5B,CAAoC,UAAAoI,GAAG,EAAI;EACzCA,UAAAA,GAAG,CAAC/H,SAAJ,CAAcC,MAAd,CAAqB,UAArB;EACA8H,UAAAA,GAAG,CAACD,QAAJ,CAAa,CAAb,EAAgBI,eAAhB,CAAgC,UAAhC;EACD,SAHD;EAID,OALD,MAKO;EACL1I,QAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5C,cAAI2E,MAAM,CAACrB,OAAP,CAAetD,KAAK,CAAC8C,KAArB,IAA8B,CAAC,CAAnC,EAAsC;EACpC9C,YAAAA,KAAK,CAAC7D,UAAN,CAAiBO,SAAjB,CAA2BC,MAA3B,CAAkC,UAAlC;EACAqD,YAAAA,KAAK,CAAC4E,eAAN,CAAsB,UAAtB;EACD;EACF,SALD;EAMD;EACF;;EAED,QAAIlE,GAAG,CAAC6D,OAAR,EAAiB;EACf,UAAIA,OAAO,GAAG7D,GAAG,CAAC6D,OAAlB;;EAEA,UAAIA,OAAO,KAAK,IAAhB,EAAsB;EACpBrI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4BC,OAA5B,CAAoC,UAAAoI,GAAG,EAAI;EACzCA,UAAAA,GAAG,CAAC/H,SAAJ,CAAcgG,GAAd,CAAkB,UAAlB;EACA+B,UAAAA,GAAG,CAACD,QAAJ,CAAa,CAAb,EAAgBE,YAAhB,CAA6B,UAA7B,EAAyC,EAAzC;EACD,SAHD;EAID,OALD,MAKO;EACLxI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BC,OAA7B,CAAqC,UAAA2D,KAAK,EAAI;EAC5C,cAAIuE,OAAO,CAACjB,OAAR,CAAgBtD,KAAK,CAAC8C,KAAtB,IAA+B,CAAC,CAApC,EAAuC;EACrC9C,YAAAA,KAAK,CAAC7D,UAAN,CAAiBO,SAAjB,CAA2BgG,GAA3B,CAA+B,UAA/B;EACA1C,YAAAA,KAAK,CAAC0E,YAAN,CAAmB,UAAnB,EAA+B,EAA/B;EACD;EACF,SALD;EAMD;EACF;EACF;EA/D4B,CAA/B;EAkEAQ,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6B8H,oBAA7B,EAAmD,sBAAnD;;ECtEO,IAAIC,iBAAiB,GAAG,IAAIjI,KAAK,CAACM,YAAV,EAAxB;EAEPrI,CAAC,CAACsI,MAAF,CAAS0H,iBAAT,EAA4B;EAC1BlN,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,mBAAvB,CAAX;EAAA,GADoB;EAE1B+D,EAAAA,KAAK,EAAE,eAACjE,EAAD;EAAA,WAAQA,EAAE,CAACM,EAAX;EAAA,GAFmB;EAG1B6D,EAAAA,QAAQ,EAAE,kBAACnE,EAAD;EAAA,WAAQ,CAACA,EAAE,CAACsI,QAAH,CAAY,CAAZ,EAAe1B,KAAxB;EAAA,GAHgB;EAI1BxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB6C,QAAQ,CAAC,IAAD,CAA/B;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,oBAAP;EACD,GATyB;EAU1B8C,EAAAA,WAAW,EAAE,qBAACtE,EAAD;EAAA,WAAQiB,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV,CAAR;EAAA,GAVa;EAW1BpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIV,KAAK,GAAG9D,EAAE,CAACsI,QAAH,CAAY,CAAZ,CAAZ;;EAEA,QAAI9D,GAAG,CAACoC,KAAR,EAAe;EACb9C,MAAAA,KAAK,CAAC8C,KAAN,GAAcpC,GAAG,CAACoC,KAAlB;EACD;;EAED,QAAIpC,GAAG,CAACiE,MAAR,EAAgB;EACd3E,MAAAA,KAAK,CAAC4E,eAAN,CAAsB,UAAtB;EACD;;EAED,QAAIlE,GAAG,CAAC6D,OAAR,EAAiB;EACfvE,MAAAA,KAAK,CAAC0E,YAAN,CAAmB,UAAnB,EAA+B,EAA/B;EACD;EACF;EAzByB,CAA5B;EA4BAQ,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6B+H,iBAA7B,EAAgD,mBAAhD;;EC9BO,IAAIC,kBAAkB,GAAG,IAAIlI,KAAK,CAACM,YAAV,EAAzB;EAEPrI,CAAC,CAACsI,MAAF,CAAS2H,kBAAT,EAA6B;EAC3BnN,EAAAA,IAAI,EAAE,cAACC,KAAD,EAAW;EACf,WAAOA,KAAK,CAAC9D,gBAAN,CAAuB,oBAAvB,CAAP;EACD,GAH0B;EAI3B2D,EAAAA,UAAU,EAAE,oBAAC7D,EAAD,EAAQ;EAClB,QAAI0J,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,OAAP,EAAgB,gBAAhB,EAAkC,UAACC,CAAD,EAAO;EACvCiI,MAAAA,GAAG,CAAC,CAAD,CAAH,CAAO3I,aAAP,CAAqB,OAArB,EAA8BoQ,WAA9B,GAA4C1P,CAAC,CAACE,aAAF,CAAgBiK,SAA5D;EAEA,UAAIwF,IAAI,GAAG1H,GAAG,CAAC,CAAD,CAAH,CAAO3I,aAAP,CAAqB,SAArB,CAAX;;EACA,UAAIqQ,IAAJ,EAAU;EACRA,QAAAA,IAAI,CAAC5Q,SAAL,CAAeC,MAAf,CAAsB,QAAtB;EACD;;EAEDgB,MAAAA,CAAC,CAACE,aAAF,CAAgBnB,SAAhB,CAA0BgG,GAA1B,CAA8B,QAA9B;EACD,KATD;EAWA,QAAI6K,MAAM,GAAGpQ,CAAC,CAACjB,EAAE,CAACe,aAAH,CAAiB,OAAjB,CAAD,CAAd;EACA2I,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,OAAvB,EAAgC,UAACC,CAAD,EAAO;EACrC,UAAI6P,OAAO,GAAGD,MAAM,CAAC,CAAD,CAAN,CAAUzK,KAAV,CAAgB8E,WAAhB,EAAd;EAEA1L,MAAAA,EAAE,CAACE,gBAAH,CAAoB,gBAApB,EAAsCC,OAAtC,CAA8C,UAAAyF,IAAI,EAAI;EACpD,YAAIA,IAAI,CAACgG,SAAL,CAAeF,WAAf,GAA6BtE,OAA7B,CAAqCkK,OAArC,MAAkD,CAAC,CAAvD,EAA0D;EACxD1L,UAAAA,IAAI,CAACpF,SAAL,CAAegG,GAAf,CAAmB,UAAnB;EACD,SAFD,MAEO;EACLZ,UAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,UAAtB;EACD;EACF,OAND;EAQA4Q,MAAAA,MAAM,CAAC3G,QAAP,CAAgB,QAAhB;EACD,KAZD;EAcAhB,IAAAA,GAAG,CAAClI,EAAJ,CAAO,kBAAP,EAA2B,UAACC,CAAD,EAAO;EAChC4P,MAAAA,MAAM,CAAC,CAAD,CAAN,CAAUzK,KAAV,GAAkB,EAAlB;EACA5G,MAAAA,EAAE,CAACE,gBAAH,CAAoB,WAApB,EAAiCC,OAAjC,CAAyC,UAAAuN,CAAC,EAAI;EAC5CA,QAAAA,CAAC,CAAClN,SAAF,CAAYC,MAAZ,CAAmB,UAAnB;EACD,OAFD;EAGD,KALD;EAMD,GAvC0B;EAwC3B0D,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAI8J,QAAQ,GAAG9J,EAAE,CAACE,gBAAH,CAAoB,sCAApB,CAAf;;EAEA,QAAI4J,QAAQ,CAACnE,MAAT,KAAoB,CAAxB,EAA2B;EACzB,aAAO,IAAP;EACD;;EAED,WAAOO,KAAK,CAAClB,SAAN,CAAgBmB,KAAhB,CAAsBN,IAAtB,CAA2BiE,QAA3B,EAAqChD,GAArC,CAAyC,UAAAyK,CAAC;EAAA,aAAIA,CAAC,CAAC3K,KAAN;EAAA,KAA1C,CAAP;EACD,GAhD0B;EAiD3BxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,gBAAvB,EAAyC,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAAzC;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,sBAAP,EAA+B,UAACC,CAAD;EAAA,aAAO4C,QAAQ,EAAf;EAAA,KAA/B,EAJ2B;EAK5B,GAtD0B;EAuD3BC,EAAAA,WAAW,EAAE,qBAACtE,EAAD,EAAQ;EACnBiB,IAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV;EACD,GAzD0B;EA0D3BpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIA,GAAG,CAACf,OAAR,EAAiB;EACfzD,MAAAA,EAAE,CAACe,aAAH,CAAiB,gBAAjB,EAAmC4C,SAAnC,GAA+Ca,GAAG,CAACf,OAAnD;EACD;;EAED,QAAIe,GAAG,CAACsF,QAAR,EAAkB;EAChB9J,MAAAA,EAAE,CAACE,gBAAH,CAAoB,gBAApB,EAAsCC,OAAtC,CAA8C,UAAAyF,IAAI,EAAI;EACpD,YAAIpB,GAAG,CAACsF,QAAJ,KAAiB,IAAjB,IAAyBtF,GAAG,CAACsF,QAAJ,CAAa1C,OAAb,CAAqBxB,IAAI,CAACgB,KAA1B,IAAmC,CAAC,CAAjE,EAAoE;EAClEhB,UAAAA,IAAI,CAACpF,SAAL,CAAegG,GAAf,CAAmB,QAAnB;EACAxG,UAAAA,EAAE,CAACe,aAAH,CAAiB,OAAjB,EAA0BoQ,WAA1B,GAAwCvL,IAAI,CAACgG,SAA7C;EACD,SAHD,MAGO;EACLhG,UAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,QAAtB;EACD;EACF,OAPD;EASAQ,MAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM+J,OAAN,CAAc,sBAAd;EACD;;EAED,QAAIvF,GAAG,CAACiE,MAAR,EAAgB;EACd,UAAIA,MAAM,GAAGjE,GAAG,CAACiE,MAAjB;;EAEA,UAAIA,MAAM,KAAK,IAAf,EAAqB;EACnBzI,QAAAA,EAAE,CAACe,aAAH,CAAiB,OAAjB,EAA0B2H,eAA1B,CAA0C,UAA1C;EACD,OAFD,MAEO;EACL1I,QAAAA,EAAE,CAACE,gBAAH,CAAoB,gBAApB,EAAsCC,OAAtC,CAA8C,UAAAyF,IAAI,EAAI;EACpD,cAAI6C,MAAM,CAACrB,OAAP,CAAexB,IAAI,CAACgB,KAApB,IAA6B,CAAC,CAAlC,EAAqC;EACnChB,YAAAA,IAAI,CAACpF,SAAL,CAAeC,MAAf,CAAsB,UAAtB;EACD;EACF,SAJD;EAKD;EACF;;EAED,QAAI+D,GAAG,CAAC6D,OAAR,EAAiB;EACf,UAAIA,OAAO,GAAG7D,GAAG,CAAC6D,OAAlB;;EAEA,UAAIA,OAAO,KAAK,IAAhB,EAAsB;EACpBrI,QAAAA,EAAE,CAACe,aAAH,CAAiB,OAAjB,EAA0ByH,YAA1B,CAAuC,UAAvC,EAAmD,EAAnD;EACD,OAFD,MAEO;EACLxI,QAAAA,EAAE,CAACE,gBAAH,CAAoB,gBAApB,EAAsCC,OAAtC,CAA8C,UAAAyF,IAAI,EAAI;EACpD,cAAIyC,OAAO,CAACjB,OAAR,CAAgBxB,IAAI,CAACgB,KAArB,IAA8B,CAAC,CAAnC,EAAsC;EACpChB,YAAAA,IAAI,CAACpF,SAAL,CAAegG,GAAf,CAAmB,UAAnB;EACD;EACF,SAJD;EAKD;EACF;;EAED,QAAIhC,GAAG,CAAC0F,KAAR,EAAe;EACblK,MAAAA,EAAE,CAACe,aAAH,CAAiB,OAAjB,EAA0BP,SAA1B,CAAoCgG,GAApC,CAAwC,UAAxC;EACAxG,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgDa,GAAG,CAAC0F,KAApD;EACD;;EAED,QAAI1F,GAAG,CAAC2F,OAAR,EAAiB;EACfnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,OAAjB,EAA0BP,SAA1B,CAAoCgG,GAApC,CAAwC,YAAxC;EACAxG,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkDa,GAAG,CAAC2F,OAAtD;EACD;;EAED,QAAI,CAAC3F,GAAG,CAAC0F,KAAL,IAAc,CAAC1F,GAAG,CAAC2F,OAAvB,EAAgC;EAC9B,UAAIrG,KAAK,GAAG9D,EAAE,CAACe,aAAH,CAAiB,OAAjB,CAAZ;EACA+C,MAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;EACAqD,MAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,YAAvB;EAEAT,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgD,EAAhD;EACA3D,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkD,EAAlD;EACD;EACF;EA1H0B,CAA7B;EA6HAqF,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6BgI,kBAA7B,EAAiD,oBAAjD;AAEA,EAAO,IAAIM,uBAAuB,GAAG,IAAIxI,KAAK,CAACM,YAAV,EAA9B;EAEPrI,CAAC,CAACsI,MAAF,CAASiI,uBAAT,EAAkC;EAChCzN,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,0BAAvB,CAAX;EAAA,GAD0B;EAEhCiE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAIyR,MAAM,GAAGzR,EAAE,CAACE,gBAAH,CAAoB,uFAApB,CAAb;EAEA,WAAOgG,KAAK,CAAClB,SAAN,CAAgBmB,KAAhB,CAAsBN,IAAtB,CAA2B4L,MAA3B,EACJ3K,GADI,CACA,UAAApB,CAAC;EAAA,aAAI,eAAegM,IAAf,CAAoBhM,CAAC,CAACxE,OAAtB,IAAiCwE,CAAC,CAACkG,SAAnC,GAAgDlG,CAAC,CAACkB,KAAF,IAAW,IAA/D;EAAA,KADD,EAEJ2E,MAFI,CAEG,UAAA3E,KAAK;EAAA,aAAIA,KAAK,KAAK,IAAd;EAAA,KAFR,CAAP;EAGD,GAR+B;EAShC1C,EAAAA,OAAO,EAAE;EAAA,WAAM,qBAAN;EAAA,GATuB;EAUhCE,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;;EAEA,QAAIA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4ByF,MAA5B,GAAqC,CAAzC,EAA4C;EAC1C+D,MAAAA,GAAG,CAAClI,EAAJ,CAAO,OAAP,EAAgB,gBAAhB,EAAkC,UAACC,CAAD;EAAA,eAAO4C,QAAQ,EAAf;EAAA,OAAlC;EACD,KAFD,MAEO;EACLqF,MAAAA,GAAG,CAAClI,EAAJ,CAAO,QAAP,EAAiB,UAACC,CAAD;EAAA,eAAO4C,QAAQ,EAAf;EAAA,OAAjB;EACAqF,MAAAA,GAAG,CAAClI,EAAJ,CAAO,2BAAP,EAAoC,UAACC,CAAD;EAAA,eAAO4C,QAAQ,EAAf;EAAA,OAApC;EACD;EACF,GAnB+B;EAoBhCE,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIuK,MAAM,GAAG/O,EAAE,CAACe,aAAH,CAAiB,+BAAjB,CAAb;;EAEA,QAAIyD,GAAG,CAACf,OAAR,EAAiB;EACfsL,MAAAA,MAAM,CAACpL,SAAP,GAAmBa,GAAG,CAACf,OAAvB;EACD;;EAED,QAAIe,GAAG,CAACsF,QAAR,EAAkB;EAChBiF,MAAAA,MAAM,CAAC7O,gBAAP,CAAwB,QAAxB,EAAkCC,OAAlC,CAA0C,UAAAwR,MAAM,EAAI;EAClD,YAAInN,GAAG,CAACsF,QAAJ,CAAa1C,OAAb,CAAqBuK,MAAM,CAAC/K,KAA5B,IAAqC,CAAC,CAA1C,EAA6C;EAC3C+K,UAAAA,MAAM,CAACnJ,YAAP,CAAoB,UAApB,EAAgC,EAAhC;EACD,SAFD,MAEO;EACLmJ,UAAAA,MAAM,CAACjJ,eAAP,CAAuB,UAAvB;EACD;EACF,OAND;EAQAzH,MAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM+J,OAAN,CAAc,2BAAd;EACD;;EAED,QAAIvF,GAAG,CAACiE,MAAR,EAAgB;EACd,UAAIA,MAAM,GAAGjE,GAAG,CAACiE,MAAjB;;EAEA,UAAIA,MAAM,KAAK,IAAf,EAAqB;EACnBsG,QAAAA,MAAM,CAACrG,eAAP,CAAuB,UAAvB;EACD,OAFD,MAEO;EACLqG,QAAAA,MAAM,CAAC7O,gBAAP,CAAwB,QAAxB,EAAkCC,OAAlC,CAA0C,UAAAwR,MAAM,EAAI;EAClDA,UAAAA,MAAM,CAACjJ,eAAP,CAAuB,UAAvB;EACD,SAFD;EAGD;EACF;;EAED,QAAIlE,GAAG,CAAC6D,OAAR,EAAiB;EACf,UAAIA,OAAO,GAAG7D,GAAG,CAAC6D,OAAlB;;EAEA,UAAIA,OAAJ,EAAa;EACX0G,QAAAA,MAAM,CAACvG,YAAP,CAAoB,UAApB,EAAgC,EAAhC;EACD,OAFD,MAEO;EACLuG,QAAAA,MAAM,CAAC7O,gBAAP,CAAwB,QAAxB,EAAkCC,OAAlC,CAA0C,UAAAwR,MAAM,EAAI;EAClDA,UAAAA,MAAM,CAACnJ,YAAP,CAAoB,UAApB,EAAgC,EAAhC;EACD,SAFD;EAGD;EACF;;EAED,QAAIhE,GAAG,CAAC0F,KAAR,EAAe;EACblK,MAAAA,EAAE,CAACe,aAAH,CAAiB,gBAAjB,EAAmC4C,SAAnC,GAA+Ca,GAAG,CAAC0F,KAAnD;EAEA6E,MAAAA,MAAM,CAACvO,SAAP,CAAiBC,MAAjB,CAAwB,YAAxB;EACAsO,MAAAA,MAAM,CAACvO,SAAP,CAAiBgG,GAAjB,CAAqB,UAArB;EACD;;EAED,QAAIhC,GAAG,CAAC2F,OAAR,EAAiB;EACfnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,kBAAjB,EAAqC4C,SAArC,GAAiDa,GAAG,CAAC2F,OAArD;EAEA4E,MAAAA,MAAM,CAACvO,SAAP,CAAiBC,MAAjB,CAAwB,UAAxB;EACAsO,MAAAA,MAAM,CAACvO,SAAP,CAAiBgG,GAAjB,CAAqB,YAArB;EACD;;EAED,QAAI,CAAChC,GAAG,CAAC0F,KAAL,IAAc,CAAC1F,GAAG,CAAC2F,OAAvB,EAAgC;EAC9B4E,MAAAA,MAAM,CAACvO,SAAP,CAAiBC,MAAjB,CAAwB,UAAxB;EACAsO,MAAAA,MAAM,CAACvO,SAAP,CAAiBC,MAAjB,CAAwB,YAAxB;EAEAT,MAAAA,EAAE,CAACe,aAAH,CAAiB,kBAAjB,EAAqC4C,SAArC,GAAiD,EAAjD;EACA3D,MAAAA,EAAE,CAACe,aAAH,CAAiB,gBAAjB,EAAmC4C,SAAnC,GAA+C,EAA/C;EACD;EAEF;EArF+B,CAAlC;EAwFAqF,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6BsI,uBAA7B,EAAsD,gCAAtD;;EC3NO,IAAII,mBAAmB,GAAG,IAAI5I,KAAK,CAACM,YAAV,EAA1B;EAEPrI,CAAC,CAACsI,MAAF,CAASqI,mBAAT,EAA8B;EAC5B7N,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,qBAAvB,CAAX;EAAA,GADsB;EAE5BiE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAI8D,KAAK,GAAG9D,EAAE,CAACsI,QAAH,CAAY,CAAZ,CAAZ;;EAEA,QAAIxE,KAAK,CAAC8C,KAAN,KAAgB,EAApB,EAAwB;EACtB,aAAO,IAAP;EACD;;EAED,WAAO9C,KAAK,CAACZ,IAAN,KAAe,QAAf,GAA0B2O,MAAM,CAAC/N,KAAK,CAAC8C,KAAP,CAAhC,GAAgD9C,KAAK,CAAC8C,KAA7D;EACD,GAV2B;EAW5BxC,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;EAEA0J,IAAAA,GAAG,CAAClI,EAAJ,CAAO,eAAP,EAAwB,UAACC,CAAD;EAAA,aAAO4C,QAAQ,CAAC,IAAD,CAAf;EAAA,KAAxB;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,UAACC,CAAD;EAAA,aAAO4C,QAAQ,CAAC,IAAD,CAAf;EAAA,KAAvB;EACAqF,IAAAA,GAAG,CAAClI,EAAJ,CAAO,sBAAP,EAA+B,UAACC,CAAD;EAAA,aAAO4C,QAAQ,CAAC,IAAD,CAAf;EAAA,KAA/B;EACD,GAjB2B;EAkB5BC,EAAAA,WAAW,EAAE,qBAACtE,EAAD;EAAA,WAAQiB,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV,CAAR;EAAA,GAlBe;EAmB5B7E,EAAAA,aAAa,EAAE;EAAA,WAAO;EAAEgN,MAAAA,MAAM,EAAE,UAAV;EAAsBC,MAAAA,KAAK,EAAE;EAA7B,KAAP;EAAA,GAnBa;EAoB5BxN,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIA,GAAG,CAACoC,KAAJ,KAAc,IAAlB,EAAwB;EACtB5G,MAAAA,EAAE,CAACe,aAAH,CAAiB,OAAjB,EAA0B6F,KAA1B,GAAkCpC,GAAG,CAACoC,KAAtC;EACA3F,MAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM+J,OAAN,CAAc,sBAAd;EACD;;EAED,QAAIvF,GAAG,CAACiE,MAAR,EAAgB;EACdzI,MAAAA,EAAE,CAACsI,QAAH,CAAY,CAAZ,EAAe0J,gBAAf,CAAgC,UAAhC;EACD;;EAED,QAAIxN,GAAG,CAAC6D,OAAR,EAAiB;EACfrI,MAAAA,EAAE,CAACsI,QAAH,CAAY,CAAZ,EAAeE,YAAf,CAA4B,UAA5B,EAAwC,EAAxC;EACD;;EAED,QAAIhE,GAAG,CAAC0F,KAAR,EAAe;EACblK,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgDa,GAAG,CAAC0F,KAApD;EACAlK,MAAAA,EAAE,CAACQ,SAAH,CAAaC,MAAb,CAAoB,YAApB;EACAT,MAAAA,EAAE,CAACQ,SAAH,CAAagG,GAAb,CAAiB,UAAjB;EACD;;EAED,QAAIhC,GAAG,CAAC2F,OAAR,EAAiB;EACfnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkDa,GAAG,CAAC2F,OAAtD;EACAnK,MAAAA,EAAE,CAACQ,SAAH,CAAaC,MAAb,CAAoB,UAApB;EACAT,MAAAA,EAAE,CAACQ,SAAH,CAAagG,GAAb,CAAiB,YAAjB;EACD;;EAED,QAAI,CAAChC,GAAG,CAAC0F,KAAL,IAAc,CAAC1F,GAAG,CAAC2F,OAAvB,EAAgC;EAC9BnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,iBAAjB,EAAoC4C,SAApC,GAAgD,EAAhD;EACA3D,MAAAA,EAAE,CAACe,aAAH,CAAiB,mBAAjB,EAAsC4C,SAAtC,GAAkD,EAAlD;EACA3D,MAAAA,EAAE,CAACsI,QAAH,CAAY,CAAZ,EAAe9H,SAAf,CAAyBC,MAAzB,CAAgC,UAAhC;EACAT,MAAAA,EAAE,CAACsI,QAAH,CAAY,CAAZ,EAAe9H,SAAf,CAAyBC,MAAzB,CAAgC,YAAhC;EACD;EACF;EApD2B,CAA9B;EAuDAuI,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6B0I,mBAA7B,EAAkD,qBAAlD;AAEA,EAAO,IAAIK,qBAAqB,GAAG,IAAIjJ,KAAK,CAACM,YAAV,EAA5B;EAEPrI,CAAC,CAACsI,MAAF,CAAS0I,qBAAT,EAAgC;EAC9BlO,EAAAA,IAAI,EAAE,cAACC,KAAD;EAAA,WAAWA,KAAK,CAAC9D,gBAAN,CAAuB,wBAAvB,CAAX;EAAA,GADwB;EAE9BiE,EAAAA,QAAQ,EAAE,kBAACnE,EAAD,EAAQ;EAChB,QAAIyR,MAAM,GAAGzR,EAAE,CAACE,gBAAH,CAAoB,sFAApB,CAAb;EAEA,WAAOgG,KAAK,CAAClB,SAAN,CAAgBmB,KAAhB,CAAsBN,IAAtB,CAA2B4L,MAA3B,EACJ3K,GADI,CACA,UAAApB,CAAC;EAAA,aAAI,eAAegM,IAAf,CAAoBhM,CAAC,CAACxE,OAAtB,IAAiCwE,CAAC,CAACkG,SAAnC,GAAgDlG,CAAC,CAACkB,KAAF,IAAW,IAA/D;EAAA,KADD,EAEJ2E,MAFI,CAEG,UAAA3E,KAAK;EAAA,aAAIA,KAAK,KAAK,IAAd;EAAA,KAFR,CAAP;EAGD,GAR6B;EAS9B1C,EAAAA,OAAO,EAAE;EAAA,WAAM,mBAAN;EAAA,GATqB;EAU9BY,EAAAA,aAAa,EAAE,uBAAC9E,EAAD;EAAA,WAAS;EAAE8R,MAAAA,MAAM,EAAE,UAAV;EAAsBC,MAAAA,KAAK,EAAE;EAA7B,KAAT;EAAA,GAVe;EAW9B3N,EAAAA,SAAS,EAAE,mBAACpE,EAAD,EAAKqE,QAAL,EAAkB;EAC3B,QAAIqF,GAAG,GAAGzI,CAAC,CAACjB,EAAD,CAAX;;EAEA,QAAIA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4ByF,MAA5B,GAAqC,CAAzC,EAA4C;EAC1C+D,MAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,gBAAvB,EAAyC,UAACC,CAAD;EAAA,eAAO4C,QAAQ,EAAf;EAAA,OAAzC;EACAqF,MAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,2BAAvB,EAAoD,UAACC,CAAD;EAAA,eAAO4C,QAAQ,EAAf;EAAA,OAApD;EACD,KAHD,MAGO;EACLqF,MAAAA,GAAG,CAAClI,EAAJ,CAAO,cAAP,EAAuB,UAACC,CAAD;EAAA,eAAO4C,QAAQ,CAAC,IAAD,CAAf;EAAA,OAAvB;EACAqF,MAAAA,GAAG,CAAClI,EAAJ,CAAO,eAAP,EAAwB,UAACC,CAAD;EAAA,eAAO4C,QAAQ,CAAC,IAAD,CAAf;EAAA,OAAxB;EACAqF,MAAAA,GAAG,CAAClI,EAAJ,CAAO,sBAAP,EAA+B,UAACC,CAAD;EAAA,eAAO4C,QAAQ,EAAf;EAAA,OAA/B;EACD;EACF,GAtB6B;EAuB9BC,EAAAA,WAAW,EAAE,qBAACtE,EAAD;EAAA,WAAQiB,CAAC,CAACjB,EAAD,CAAD,CAAM2J,GAAN,CAAU,SAAV,CAAR;EAAA,GAvBiB;EAwB9BpF,EAAAA,cAAc,EAAE,wBAACvE,EAAD,EAAKwE,GAAL,EAAa;EAC3B,QAAIV,KAAK,GAAG9D,EAAE,CAACe,aAAH,CAAiB,OAAjB,CAAZ;;EAEA,QAAIyD,GAAG,CAACoC,KAAR,EAAe;EACb9C,MAAAA,KAAK,CAAC8C,KAAN,GAAcpC,GAAG,CAACoC,KAAlB;EACA3F,MAAAA,CAAC,CAACjB,EAAD,CAAD,CAAM+J,OAAN,CAAc,sBAAd;EACD;;EAED,QAAIvF,GAAG,CAACiE,MAAR,EAAgB;EACd3E,MAAAA,KAAK,CAAC4E,eAAN,CAAsB,UAAtB;EACD;;EAED,QAAIlE,GAAG,CAAC6D,OAAR,EAAiB;EACfvE,MAAAA,KAAK,CAAC0E,YAAN,CAAmB,UAAnB,EAA+B,EAA/B;EACD;;EAED,QAAIhE,GAAG,CAAC0F,KAAR,EAAe;EACblK,MAAAA,EAAE,CAACe,aAAH,CAAiB,gBAAjB,EAAmC4C,SAAnC,GAA+Ca,GAAG,CAAC0F,KAAnD;EAEApG,MAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,YAAvB;EACAqD,MAAAA,KAAK,CAACtD,SAAN,CAAgBgG,GAAhB,CAAoB,UAApB;EACD;;EAED,QAAIhC,GAAG,CAAC2F,OAAR,EAAiB;EACfnK,MAAAA,EAAE,CAACe,aAAH,CAAiB,kBAAjB,EAAqC4C,SAArC,GAAiDa,GAAG,CAAC2F,OAArD;EAEArG,MAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;EACAqD,MAAAA,KAAK,CAACtD,SAAN,CAAgBgG,GAAhB,CAAoB,YAApB;EACD;;EAED,QAAI,CAAChC,GAAG,CAAC0F,KAAL,IAAc,CAAC1F,GAAG,CAAC2F,OAAvB,EAAgC;EAC9BrG,MAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;EACAqD,MAAAA,KAAK,CAACtD,SAAN,CAAgBC,MAAhB,CAAuB,YAAvB;EAEAT,MAAAA,EAAE,CAACe,aAAH,CAAiB,kBAAjB,EAAqC4C,SAArC,GAAiD,EAAjD;EACA3D,MAAAA,EAAE,CAACe,aAAH,CAAiB,gBAAjB,EAAmC4C,SAAnC,GAA+C,EAA/C;EACD;EACF;EA7D6B,CAAhC;EAgEAqF,KAAK,CAACC,aAAN,CAAoBC,QAApB,CAA6B+I,qBAA7B,EAAoD,uBAApD;;EC7HAjJ,KAAK,CAAC6G,uBAAN,CAA8B,iBAA9B,EAAiD,UAACrL,GAAD,EAAS;EACxD,MAAIA,GAAG,CAACtB,IAAJ,KAAamE,SAAb,IACA7C,GAAG,CAACjC,IAAJ,KAAa8E,SADb,IAEA7C,GAAG,CAACjC,IAAJ,CAASzB,MAAT,KAAoBuG,SAFxB,EAEmC;EACjC,WAAO,KAAP;EACD;;EAED,MAAI7C,GAAG,CAACtB,IAAJ,KAAa,MAAb,IAAuBsB,GAAG,CAACtB,IAAJ,KAAa,MAApC,IAA8CsB,GAAG,CAACtB,IAAJ,KAAa,QAA/D,EAAyE;EACvE,QAAIpC,MAAM,GAAGT,QAAQ,CAACsQ,cAAT,CAAwBnM,GAAG,CAACjC,IAAJ,CAASzB,MAAjC,CAAb;;EAEA,QAAIA,MAAM,KAAK,IAAf,EAAqB;EACnB,aAAO,KAAP;EACD;;EAEDG,IAAAA,CAAC,CAACH,MAAD,CAAD,CAAUoR,QAAV,CAAmB1N,GAAG,CAACtB,IAAvB;EACA,WAAO,IAAP;EACD;;EAED,SAAO,KAAP;EACD,CAnBD;;ECAA8F,KAAK,CAAC6G,uBAAN,CAA8B,iBAA9B,EAAiD,UAACrL,GAAD,EAAS;EACxD,MAAI,EAAEA,GAAG,CAAC2N,QAAJ,IAAgB3N,GAAG,CAAC4N,KAApB,IAA6B5N,GAAG,CAAClC,GAAnC,CAAJ,EAA6C;EAC3C,UAAM,wBAAN;EACD;;EAED,MAAMgK,GAAG,iBAAgB9H,GAAG,CAAC4N,KAApB,kBAAwC5N,GAAG,CAAClC,GAArD;EAEA,MAAI+P,KAAK,GAAGlR,MAAM,CAACmR,SAAP,CAAiBC,SAA7B;EACA,MAAIC,EAAE,GAAG,OAAOd,IAAP,CAAYW,KAAZ,CAAT;;EAEA,MAAIG,EAAE,KAAK,IAAX,EAAiB;EACf,QAAI9F,GAAG,GAAG,IAAIC,cAAJ,EAAV;EACAD,IAAAA,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgBN,GAAhB;EACAI,IAAAA,GAAG,CAAC+F,YAAJ,GAAmB,MAAnB;;EACA/F,IAAAA,GAAG,CAACgG,MAAJ,GAAa;EAAA,aAAMC,MAAM,CAACjG,GAAG,CAACkG,QAAL,EAAepO,GAAG,CAAC2N,QAAnB,CAAZ;EAAA,KAAb;;EACAzF,IAAAA,GAAG,CAACa,IAAJ;EACD,GAND,MAMO;EACLsF,IAAAA,KAAK,CAACvG,GAAD,CAAL,CACGwG,IADH,CACQ,UAAA1F,GAAG;EAAA,aAAIA,GAAG,CAAC2F,IAAJ,EAAJ;EAAA,KADX,EAEGD,IAFH,CAEQ,UAAAC,IAAI,EAAI;EACZJ,MAAAA,MAAM,CAACI,IAAD,EAAOvO,GAAG,CAAC2N,QAAX,CAAN;EACD,KAJH;EAKD;EACF,CAvBD;;ECAAnJ,KAAK,CAAC6G,uBAAN,CAA8B,gBAA9B,EAAgD,UAACrL,GAAD,EAAS;EACvD,MAAIwO,QAAQ,GAAG,SAAXA,QAAW,CAACzQ,IAAD,EAAU;EACvB,QAAI,CAACA,IAAI,CAACjC,EAAV,EAAc;EACZ;EACD;;EAED,QAAIQ,MAAM,GAAGT,QAAQ,CAACsQ,cAAT,CAAwBpO,IAAI,CAACjC,EAA7B,CAAb;;EAEA,QAAI,CAACQ,MAAL,EAAa;EACX;EACD;;EAED,QAAIyB,IAAI,CAAC0Q,YAAT,EAAuB;EACrBjK,MAAAA,KAAK,CAACkK,kBAAN,CAAyB3Q,IAAI,CAAC0Q,YAA9B;EACD;;EAED,QAAI1Q,IAAI,CAACkB,OAAT,EAAkB;EAChBuF,MAAAA,KAAK,CAACmK,SAAN,CAAgBrS,MAAhB;EACAA,MAAAA,MAAM,CAAC6C,SAAP,GAAmBpB,IAAI,CAACkB,OAAxB;EACAuF,MAAAA,KAAK,CAACoK,gBAAN,CAAuBtS,MAAvB;EACAkI,MAAAA,KAAK,CAACqK,OAAN,CAAcvS,MAAd;EACD;;EAED,QAAIyB,IAAI,CAAC+Q,KAAT,EAAgB;EACdhF,MAAAA,MAAM,CAACC,IAAP,CAAYhM,IAAI,CAAC+Q,KAAjB,EAAwBnT,OAAxB,CAAgC,UAAAmC,GAAG,EAAI;EACrCxB,QAAAA,MAAM,CAAC0H,YAAP,CAAoBlG,GAApB,EAAyBC,IAAI,CAAC+Q,KAAL,CAAWhR,GAAX,CAAzB;EACD,OAFD;EAGD;EACF,GA3BD;;EA6BA,MAAIwI,OAAO,GAAG,SAAVA,OAAU,CAACvI,IAAD,EAAU;EACtB,QAAI,CAACA,IAAI,CAACjC,EAAV,EAAc;EACZ;EACD;;EAED,QAAIQ,MAAM,GAAGT,QAAQ,CAACsQ,cAAT,CAAwBpO,IAAI,CAACjC,EAA7B,CAAb;;EAEA,QAAI,CAACQ,MAAL,EAAa;EACX;EACD;;EAEDkI,IAAAA,KAAK,CAACmK,SAAN,CAAgBrS,MAAhB;EACAA,IAAAA,MAAM,CAAC6C,SAAP,GAAmB,EAAnB;EACD,GAbD;;EAeA,MAAI,CAACa,GAAG,CAACtB,IAAT,EAAe;EACb;EACD;;EAED,MAAIsB,GAAG,CAACtB,IAAJ,KAAa,SAAjB,EAA4B;EAC1B8P,IAAAA,QAAQ,CAACxO,GAAG,CAACjC,IAAL,CAAR;EACD,GAFD,MAEO,IAAIiC,GAAG,CAACtB,IAAJ,KAAa,QAAjB,EAA2B;EAChC4H,IAAAA,OAAO,CAACtG,GAAG,CAACjC,IAAL,CAAP;EACD,GAFM,MAEA;EACLkC,IAAAA,OAAO,CAACsL,IAAR,mBAA6BvL,GAAG,CAACtB,IAAjC;EACD;EACF,CAxDD;;ECAAjC,CAAC,CAAC,YAAM;EACNZ,EAAAA,QAAQ,CAACkT,IAAT,CAAc1J,kBAAd,CAAiC,WAAjC,EAA8C,mCAA9C;EACD,CAFA,CAAD;EAIAb,KAAK,CAAC6G,uBAAN,CAA8B,cAA9B,EAA8C,UAASrL,GAAT,EAAc;EAC1D,MAAIA,GAAG,CAACtB,IAAJ,KAAamE,SAAjB,EAA4B;EAC1B,WAAO,KAAP;EACD;;EAED,MAAImM,MAAM,GAAG,SAATA,MAAS,CAASjR,IAAT,EAAe;EAC1B,QAAIkR,MAAM,GAAGpT,QAAQ,CAACU,aAAT,CAAuB,gBAAvB,EAAyC2S,UAAtD;;EAEA,QAAID,MAAM,CAAC9N,MAAP,KAAkB,CAAtB,EAAyB;EACvB;EACD;;EAED,QAAIpD,IAAI,CAACjC,EAAT,EAAa;EACXmT,MAAAA,MAAM,GAAGvN,KAAK,CAAClB,SAAN,CAAgBuG,MAAhB,CAAuB1F,IAAvB,CAA4B4N,MAA5B,EAAoC,UAAAE,CAAC;EAAA,eAAIA,CAAC,CAACrT,EAAF,KAASiC,IAAI,CAACjC,EAAlB;EAAA,OAArC,CAAT;EACD;;EAEDmT,IAAAA,MAAM,CAACtT,OAAP,CAAe,UAACyT,KAAD,EAAW;EACxB,UAAI,CAACA,KAAK,CAACpT,SAAN,CAAgBQ,QAAhB,CAAyB,cAAzB,CAAL,EAA+C;EAC7C;EACD;;EAEDC,MAAAA,CAAC,CAAC2S,KAAD,CAAD,CAASA,KAAT,CAAe,MAAf;EACD,KAND;EAOD,GAlBD;;EAoBA,MAAI9D,KAAK,GAAG,SAARA,KAAQ,CAASvN,IAAT,EAAe;EACzB,QAAIA,IAAI,CAACjC,EAAT,EAAa;EACX,UAAIuT,QAAQ,GAAGxT,QAAQ,CAACsQ,cAAT,CAAwBpO,IAAI,CAACjC,EAA7B,CAAf;;EAEA,UAAIuT,QAAQ,IAAIA,QAAQ,CAACrT,SAAT,CAAmBQ,QAAnB,CAA4B,cAA5B,CAAhB,EAA6D;EAC3DyD,QAAAA,OAAO,CAACsL,IAAR,CAAa,kCAAb;EACA;EACD;EACF;;EAED,QAAIxN,IAAI,CAAC0Q,YAAT,EAAuB;EACrBjK,MAAAA,KAAK,CAACkK,kBAAN,CAAyB3Q,IAAI,CAAC0Q,YAA9B;EACD;;EAED,QAAIa,SAAS,GAAGzT,QAAQ,CAACU,aAAT,CAAuB,gBAAvB,CAAhB;EAEA+S,IAAAA,SAAS,CAACjK,kBAAV,CAA6B,WAA7B,EAA0CtH,IAAI,CAACkB,OAA/C;EACA,QAAImQ,KAAK,GAAGE,SAAS,CAAC/S,aAAV,CAAwB,0BAAxB,CAAZ;EAEAiI,IAAAA,KAAK,CAACoK,gBAAN,CAAuBQ,KAAvB;EACA5K,IAAAA,KAAK,CAACqK,OAAN,CAAcO,KAAd;EAEA,QAAIG,MAAM,GAAG9S,CAAC,CAAC2S,KAAD,CAAd;EAEAG,IAAAA,MAAM,CAAChL,GAAP,CAAW,iBAAX,EAA8B,UAACtH,CAAD,EAAO;EACnC,UAAImS,KAAK,CAACtT,EAAV,EAAc;EACZ0I,QAAAA,KAAK,CAACqF,aAAN,CAAoBuF,KAAK,CAACtT,EAA1B,EAA8B,IAA9B;EACAc,QAAAA,UAAU,CAAC;EAAA,iBAAM4H,KAAK,CAACqF,aAAN,CAAoBuF,KAAK,CAACtT,EAA1B,EAA8B,IAA9B,CAAN;EAAA,SAAD,EAA4C,GAA5C,CAAV;EACD;;EAEDwT,MAAAA,SAAS,CAAClK,WAAV,CAAsBgK,KAAtB;EACD,KAPD;EASA3S,IAAAA,CAAC,CAAC2S,KAAD,CAAD,CAASA,KAAT,CAAe,MAAf;EACD,GAlCD;;EAoCA,MAAIpP,GAAG,CAACtB,IAAJ,KAAa,OAAjB,EAA0B;EACxBsQ,IAAAA,MAAM,CAAChP,GAAG,CAACjC,IAAL,CAAN;EACD,GAFD,MAEO,IAAIiC,GAAG,CAACtB,IAAJ,KAAa,MAAjB,EAAyB;EAC9B4M,IAAAA,KAAK,CAACtL,GAAG,CAACjC,IAAL,CAAL;EACD,GAFM,MAEA;EACLkC,IAAAA,OAAO,CAACsL,IAAR,eAA0BvL,GAAG,CAACtB,IAA9B;EACD;EACF,CApED;;ECJA8F,KAAK,CAAC6G,uBAAN,CAA8B,gBAA9B,EAAgD,UAACrL,GAAD,EAAS;EACvD,MAAI,CAACA,GAAG,CAACjC,IAAJ,CAASjC,EAAV,IAAgB,CAACD,QAAQ,CAACsQ,cAAT,CAAwBnM,GAAG,CAACjC,IAAJ,CAASjC,EAAjC,CAArB,EAA2D;EACzD;EACD;;EAED,MAAIwP,KAAK,GAAG,SAARA,KAAQ,CAACvN,IAAD,EAAU;EACpB,QAAIyR,OAAO,GAAG/S,CAAC,CAACZ,QAAQ,CAACsQ,cAAT,CAAwBpO,IAAI,CAACjC,EAA7B,CAAD,CAAf;EAEA0T,IAAAA,OAAO,CAACC,OAAR,CAAgB;EACdxQ,MAAAA,OAAO,EAAE;EAAA,eAAM4D,SAAN;EAAA,OADK;EAEd6M,MAAAA,SAAS,EAAE3R,IAAI,CAAC2R,SAFF;EAGdC,MAAAA,QAAQ,EAAE5R,IAAI,CAACkB,OAHD;EAId2Q,MAAAA,KAAK,EAAE;EAAA,eAAM/M,SAAN;EAAA,OAJO;EAKd0C,MAAAA,OAAO,EAAE;EALK,KAAhB;;EAQA,QAAIxH,IAAI,CAAC8R,QAAT,EAAmB;EACjBjT,MAAAA,UAAU,CAAC;EAAA,eAAM4S,OAAO,CAACC,OAAR,CAAgB,MAAhB,CAAN;EAAA,OAAD,EAAgC1R,IAAI,CAAC8R,QAArC,CAAV;EACD;;EAEDL,IAAAA,OAAO,CAACC,OAAR,CAAgB,MAAhB;EACD,GAhBD;;EAkBA,MAAIT,MAAM,GAAG,SAATA,MAAS,CAACjR,IAAD,EAAU;EACrB,QAAIzB,MAAM,GAAGT,QAAQ,CAACsQ,cAAT,CAAwBpO,IAAI,CAACjC,EAA7B,CAAb;;EAEA,QAAI,CAACQ,MAAL,EAAa;EACX;EACD;;EAEDG,IAAAA,CAAC,CAACH,MAAD,CAAD,CAAUmT,OAAV,CAAkB,MAAlB;EACD,GARD;;EAUA,MAAIzP,GAAG,CAACtB,IAAJ,KAAa,MAAjB,EAAyB;EACvB4M,IAAAA,KAAK,CAACtL,GAAG,CAACjC,IAAL,CAAL;EACD,GAFD,MAEO,IAAIiC,GAAG,CAACtB,IAAJ,KAAa,OAAjB,EAA0B;EAC/BsQ,IAAAA,MAAM,CAAChP,GAAG,CAACjC,IAAL,CAAN;EACD,GAFM,MAEA;EACLkC,IAAAA,OAAO,CAACsL,IAAR,WAAqBvL,GAAG,CAACtB,IAAzB;EACD;EACF,CAxCD;;ECAAjC,CAAC,CAAC,YAAM;EACNA,EAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+BqT,OAA/B;EACD,CAFA,CAAD;;ECAArT,CAAC,CAAC,YAAM;EACNZ,EAAAA,QAAQ,CAACkT,IAAT,CAAc1J,kBAAd,CAAiC,WAAjC,EAA8C,mCAA9C;EAEA5I,EAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBO,EAApB,CAAuB,iBAAvB,EAA0C,QAA1C,EAAoD,UAACC,CAAD,EAAO;EACzD,QAAIA,CAAC,CAACE,aAAF,CAAgB6L,YAAhB,CAA6B,aAA7B,CAAJ,EAAiD;EAC/C,UAAI3M,MAAM,GAAGY,CAAC,CAACE,aAAF,CAAgBf,YAAhB,CAA6B,aAA7B,CAAb;EACAoI,MAAAA,KAAK,CAACqF,aAAN,CAAoBxN,MAApB,EAA4B,IAA5B;EACAO,MAAAA,UAAU,CAAC;EAAA,eAAM4H,KAAK,CAACqF,aAAN,CAAoBxN,MAApB,EAA4B,IAA5B,CAAN;EAAA,OAAD,EAA0C,GAA1C,CAAV;EACD;;EAEDY,IAAAA,CAAC,CAAC8S,cAAF,CAAiB3K,WAAjB,CAA6BnI,CAAC,CAACE,aAA/B;EACD,GARD;EASD,CAZA,CAAD;EAcAqH,KAAK,CAAC6G,uBAAN,CAA8B,cAA9B,EAA8C,UAACrL,GAAD,EAAS;EACrD,MAAIsL,KAAK,GAAG,SAARA,KAAQ,CAASvN,IAAT,EAAe;EACzBlC,IAAAA,QAAQ,CAACU,aAAT,CAAuB,gBAAvB,EACG8I,kBADH,CACsB,WADtB,EACmCtH,IAAI,CAACkB,OADxC;EAGAxC,IAAAA,CAAC,CAAC,oCAAD,CAAD,CAAwCuT,KAAxC,CAA8C,MAA9C;EACD,GALD;;EAOA,MAAIhB,MAAM,GAAG,SAATA,MAAS,CAASjR,IAAT,EAAe;EAC1B,QAAIkS,MAAM,GAAGpU,QAAQ,CAACH,gBAAT,CAA0B,uBAA1B,CAAb;;EAEA,QAAIuU,MAAM,CAAC9O,MAAX,EAAmB;EACjB1E,MAAAA,CAAC,CAACwT,MAAD,CAAD,CAAUD,KAAV,CAAgB,MAAhB;EACD;EACF,GAND;;EAQA,MAAI,CAAChQ,GAAG,CAACtB,IAAT,EAAe;EACb;EACD;;EAED,MAAIsB,GAAG,CAACtB,IAAJ,KAAa,MAAjB,EAAyB;EACvB4M,IAAAA,KAAK,CAACtL,GAAG,CAACjC,IAAL,CAAL;EACD,GAFD,MAEO,IAAIiC,GAAG,CAACtB,IAAJ,KAAa,OAAjB,EAA0B;EAC/BsQ,IAAAA,MAAM,CAAChP,GAAG,CAACjC,IAAL,CAAN;EACD,GAFM,MAEA;EACLkC,IAAAA,OAAO,CAACsL,IAAR,eAA0BvL,GAAG,CAACtB,IAA9B;EACD;EACF,CA3BD;;ACaA,eAAe;EACbiF,EAAAA,gBAAgB,EAAhBA,gBADa;EAEbgB,EAAAA,WAAW,EAAXA,WAFa;EAGb2F,EAAAA,SAAS,EAATA,SAHa;EAIbU,EAAAA,QAAQ,EAARA;EAJa,CAAf;;;;;;;;"}