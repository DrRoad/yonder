!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jQuery"),require("Shiny")):"function"==typeof define&&define.amd?define(["jQuery","Shiny"],t):e.yonder=t(e.$,e.Shiny)}(this,function(o,e){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(i){for(var e=1;e<arguments.length;e++){var u=null!=arguments[e]?arguments[e]:{};e%2?t(u,!0).forEach(function(e){var t,n,r;t=i,r=u[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):t(u).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(u,e))})}return i}function c(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i}).apply(null,arguments)}function f(e){var n="function"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return s(e,arguments,a(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),l(t,e)})(e)}o=o&&o.hasOwnProperty("default")?o.default:o,e=e&&e.hasOwnProperty("default")?e.default:e;var d,v,p=function(i){function e(e,t){var n,r=t?e+": "+t:e;return(n=i.call(this,r)||this).name=e,n.message=r,n}return c(e,i),e}(f(Error)),h=(d={},v=1,{set:function(e,t,n){void 0===e.key&&(e.key={key:t,id:v},v++),d[e.key.id]=n},get:function(e,t){if(!e||void 0===e.key)return null;var n=e.key;return n.key===t?d[n.id]:null},delete:function(e,t){if(void 0!==e.key){var n=e.key;n.key===t&&(delete d[n.id],delete e.key)}}}),b=function(e,t,n){h.set(e,t,n)},y=function(e,t){return h.get(e,t)},n=function(e,t){h.delete(e,t)},g=function(){function e(e,t,n){if("object"==typeof e&&1!==e.nodeType&&"string"!=typeof e)throw new p("Invalid Argument","`element` must be a node or string");if("string"==typeof e&&!(e=document.querySelector(e)))throw new p("Element Not Found","could not find element for give `element` selector");this._element=e,this._type=t,this._value=null,this._callback=function(){},b(e,t,this)}var t=e.prototype;return t.content=function(e){this._element.innerHTML=e},t.dispose=function(){n(this._element,this._type),this._element=null},e.initialize=function(e,t,n){var r=y(e,t);r=r||new n(e)},e.find=function(e,t){return e.querySelectorAll(t)},e.getId=function(e){return e.id},e.getType=function(e){return null},e.getValue=function(e,t){var n=y(e,t);return n?n.value():null},e.subscribe=function(e,t,n){var r=y(e,n);r&&(r._callback=t)},e.unsubscribe=function(e,t){var n=y(e,t);n&&(n._callback=function(){})},e.receiveMessage=function(e,t,n){var r=y(e,n);r&&t.forEach(function(e){var t=e[0],n=e[1];n?r[t].apply(r,n):r[t]()})},e.getState=function(e,t){throw new p("Unimplemented Method")},e.getRatePolicy=function(){return null},i(e,null,[{key:"VERSION",get:function(){return"0.1.2"}}]),e}(),I=Element.prototype,m=I.matches,_=I.closest;m=m||(Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),_=_||function(e){var t=this;do{if(m.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};function L(e,t){return _.call(e,t)}function E(e,t){return m.call(e,t)}function T(e){return e?"object"==typeof e&&e.length?Array.prototype.slice.call(e):[e]:[]}function P(e){return[e.getAttribute("data-plugin"),e.getAttribute("data-action"),e.getAttribute("data-target")]}function C(e){return e&&1===e.nodeType}function N(e){e&&(e.length?T(e).forEach(function(e){return N(e)}):e.classList&&(E(e,"input[type='radio'], input[type='checkbox']")?e.checked=!0:e.classList.add("active")))}function S(e){e&&(e.length?T(e).forEach(function(e){return S(e)}):e.classList&&(E(e,"input[type='radio'], input[type='checkbox']")?e.checked=!1:e.classList.remove("active")))}function O(e,t,n){void 0===n&&(n=function(e){return e.value});for(var r=T(t).map(function(e){return C(e)?e:e.toString()}),i=(e=T(e)).map(n),u=[],o=0;o<r.length;o++){var c=r[o],a=e[C(c)?e.indexOf(c):i.indexOf(c)];void 0!==a&&u.push(a)}return u}function k(){for(var e=0;e++;)if(!(e<0||arguments.length<=e?void 0:arguments[e]))return!1;return!0}var w="yonder.buttongroup",U="yonder-button-group",D="btn",M="disabled",A={INPUT:"."+U,CHILD:"."+D,PARENT_CHILD:"."+U+" ."+D,PLUGIN:"[data-plugin]"},H={CLICK:"click."+w},j=function(n){function t(e){var t;return(t=n.call(this,e,w)||this)._counter=0,t}c(t,n),i(t,null,[{key:"TYPE",get:function(){return w}}]);var e=t.prototype;return e.value=function(e){return void 0===e?this._value:(this._value=e,this._callback(),this)},e.content=function(e){this._element.innerHTML=e},e.disable=function(t){var e=this._element.querySelectorAll(A.CHILD);T(e).forEach(function(e){(void 0===t||-1<t.indexOf(e.value))&&(e.setAttribute(M,""),e.setAttribute("aria-disabled","true"))})},e.enable=function(t){var e=this._element.querySelectorAll(A.CHILD);T(e).forEach(function(e){(void 0===t||-1<t.indexOf(e.value))&&(e.removeAttribute(M),e.setAttribute("aria-disabled","false"))})},t.find=function(e){return n.find.call(this,e,"."+U)},t.initialize=function(e){n.initialize.call(this,e,w,t)},t.getType=function(e){return w},t.getValue=function(e){var t=y(e,w);return t?{value:t.value(),counter:t._counter++}:null},t.subscribe=function(e,t){n.subscribe.call(this,e,t,w)},t.unsubscribe=function(e){n.unsubscribe.call(this,e,w)},t.receiveMessage=function(e,t){n.receiveMessage.call(this,e,t,w)},t.ShinyInterface=function(){return u({},g,{},t)},t}(g);o(document).on(H.CLICK,A.PARENT_CHILD,function(e){var t=e.currentTarget,n=L(t,A.INPUT),r=y(n,w);r&&r.value(t.value)}),o(document).on(H.CLICK,""+A.PARENT_CHILD+A.PLUGIN,function(e){var t=e.currentTarget,n=P(t),r=n[0],i=n[1],u=n[2];r&&i&&u&&("tab"===r&&o(t).one("shown.bs.tab",function(e){return t.classList.remove("active")}),o(t)[r](i))}),e&&e.inputBindings.register(j.ShinyInterface(),w);var G="yonder.button",R={INPUT:".yonder-button",PLUGIN:"[data-plugin]"},q={CLICK:"click."+G},x=function(n){function t(e){var t;return(t=n.call(this,e,G)||this)._value=0,t._isLink="A"===e.tagName,t}c(t,n),i(t,null,[{key:"TYPE",get:function(){return G}}]);var e=t.prototype;return e.value=function(e){return void 0===e?this._value:(this._value=e,this._callback(),this)},e.content=function(e){this._element.innerHTML=e},e.disable=function(e){this._isLink?this._element.classList.add("disabled"):this._element.setAttribute("disabled","")},e.enable=function(){this._isLink?this._element.classList.remove("disabled"):this._element.removeAttribute("disabled")},t.initialize=function(e){n.initialize.call(this,e,G,t)},t.find=function(e){return n.find.call(this,e,R.INPUT)},t.getValue=function(e){var t=y(e,G);return t?0===t.value()?null:t.value():null},t.subscribe=function(e,t){n.subscribe.call(this,e,t,G)},t.unsubscribe=function(e){n.unsubscribe.call(this,e,G)},t.receiveMessage=function(e,t){n.receiveMessage.call(this,e,t,G)},t.ShinyInterface=function(){return u({},g,{},t)},t}(g);o(document).on(q.CLICK,R.INPUT,function(e){var t=L(e.target,R.INPUT),n=y(t,G);n&&n.value(n.value()+1)}),o(document).on(q.CLICK,""+R.INPUT+R.PLUGIN,function(e){var t=L(e.target,R.INPUT),n=P(t),r=n[0],i=n[1],u=n[2];r&&i&&u&&("tab"===r&&o(t).one("shown.bs.tab",function(e){return t.classList.remove("active")}),o(t)[r](i))}),e&&e.inputBindings.register(x.ShinyInterface(),G);var K="yonder.menu",V="yonder-menu",z="dropdown-item",B={INPUT:"."+V,CHILD:"."+z,PARENT_CHILD:"."+V+" ."+z,TOGGLE:"[data-toggle='dropdown']"},Y={CLICK:"click."+K,CLOSE:"hide.bs.dropdown",CLOSED:"hidden.bs.dropdown"},F=function(n){function r(e){var t;return(t=n.call(this,e,K)||this)._counter=0,t}c(r,n),i(r,null,[{key:"TYPE",get:function(){return K}},{key:"Selector",get:function(){return B}},{key:"Event",get:function(){return Y}}]);var e=r.prototype;return e.value=function(e){return void 0===e?this._value:(this._value=e,this._callback(),this)},e.select=function(e){var t=this._element.querySelectorAll(B.CHILD),n=O(t,e);S(t),n.length&&(N(n[0]),this.value(n[0].value))},r.initialize=function(e){var t=y(e,K);t=t||new r(e)},r.find=function(e){return n.find.call(this,e,B.INPUT)},r.getType=function(e){return K},r.getValue=function(e){var t=y(e,K);return t?{value:t.value(),counter:t._counter++}:null},r.subscribe=function(e,t){n.subscribe.call(this,e,t,K)},r.unsubscribe=function(e){n.unsubscribe.call(this,e,K)},r.receiveMessage=function(e,t){n.receiveMessage.call(this,e,t,K)},r.ShinyInterface=function(){return u({},g,{},r)},r}(g);o(document).on(Y.CLICK,B.PARENT_CHILD,function(e){var t=L(e.target,B.CHILD);if(t){var n=L(t,B.INPUT),r=y(n,K);r&&r.select(t)}}),e&&e.inputBindings.register(F.ShinyInterface(),K);var Q="yonder.nav",$="yonder-nav",J="nav-link",W={INPUT:"."+$,CHILD:"."+J,PARENT_CHILD:"."+$+" ."+J,ACTIVE:".active",DISABLED:".disabled",PLUGIN:"[data-plugin]",NAV_ITEM:"."+"nav-item",MENU:F.Selector.INPUT,MENU_TOGGLE:F.Selector.TOGGLE,MENU_ITEM:F.Selector.CHILD},X={CLICK:"click."+Q},Z=function(n){function r(e){return n.call(this,e,Q)||this}c(r,n);var e=r.prototype;return e.value=function(e){return void 0===e?this._value:(this._value=e,this._callback(),this)},e.select=function(e){var t=this._element.querySelectorAll(W.CHILD),n=O(t,e);S(t),T(t).forEach(function(e){if(!(-1<n.indexOf(e))){var t=y(e.parentNode,F.TYPE);t&&t.select(null)}}),n.length&&(N(n[0]),this.value(n[0].value))},e.disable=function(e){},e.enable=function(e){},r.initialize=function(e){var t=y(e,Q);t=t||new r(e)},r.find=function(e){return n.find.call(this,e,W.INPUT)},r.getValue=function(e){return n.getValue.call(this,e,Q)},r.subscribe=function(e,t){n.subscribe.call(this,e,t,Q)},r.unsubscribe=function(e){n.unsubscribe.call(this,e,Q)},r.receiveMessage=function(e,t){n.receiveMessage.call(this,e,t,Q)},r.ShinyInterface=function(){return u({},g,{},r)},r}(g);o(document).on(X.CLICK,W.PARENT_CHILD+":not("+W.MENU_TOGGLE+")",function(e){var t=L(e.target,W.INPUT),n=y(t,Q);if(n){var r=L(e.target,W.CHILD);n.select(r)}}),o(document).on(X.CLICK,""+W.PARENT_CHILD+W.PLUGIN,function(e){var t=L(e.target,W.CHILD),n=P(t),r=n[0],i=n[1],u=n[2];k(r,i,u)&&(S(t),o(t)[r](i))}),o(document).on(X.CLICK,W.INPUT+" "+W.MENU_ITEM,function(e){var t=L(e.target,W.INPUT),n=y(t,Q);if(n){var r=L(e.target,W.NAV_ITEM).querySelector(W.CHILD);if(n.select(r),!L(e.target,W.MENU).id){var i=L(e.target,W.MENU_ITEM);n.value(i.value)}}}),e&&e.inputBindings.register(Z.ShinyInterface(),Q),e&&e.addCustomMessageHandler("yonder:pane",function(e){if(void 0!==e.type&&void 0!==e.data&&void 0!==e.data.target){var t=document.getElementById(e.data.target);null!==t&&("show"===e.type?function(n){if(null!==n&&!n.classList.contains("show"))if(n.parentElement.classList.contains("tab-content")){var r=n.parentElement.querySelector(".active");bootstrap.Tab.prototype._activate(n,n.parentElement,function(){var e=o.Event("hidden.bs.tab",{relatedTarget:n}),t=o.Event("shown.bs.tab",{relatedTarget:r});o(r).trigger(e),o(n).trigger(t)})}else console.warn("nav pane "+n.id+" is missing a nav content parent element")}(t):"hide"===e.type&&function(t){if(null!==t&&t.classList.contains("show"))if(t.parentElement.classList.contains("tab-content")){var e=document.createElement("div");bootstrap.Tab.prototype._activate(e,t.parentElement,function(){var e=o.Event("hidden.bs.tab",{relatedTarget:t});o(t).trigger(e)})}else console.warn("nav pane "+t.id+" is missing a nav content parent element")}(t))}});var ee="yonder.radio",te="yonder-radio",ne="custom-control-input",re={INPUT:"."+te,CHILD:"."+ne,INPUT_CHILD:"."+te+" ."+ne,PLUGIN:"[data-plugin]"},ie={CHANGE:"change."+ee},ue=function(n){function r(e){return n.call(this,e,ee)||this}c(r,n);var e=r.prototype;return e.value=function(e){return void 0===e?this._value:(this._value=e,this._callback(),this)},e.select=function(e){var t=this._element.querySelectorAll(re.CHILD),n=O(t,e);S(n),n.length&&(N(n[0]),this.value(n[0].value))},r.initialize=function(e){var t=y(e,ee);t=t||new r(e)},r.find=function(e){return n.find.call(this,e,re.INPUT)},r.getValue=function(e){return n.getValue.call(this,e,ee)},r.subscribe=function(e,t){n.subscribe.call(this,e,t,ee)},r.unsubscribe=function(e){n.unsubscribe.call(this,e,ee)},r.receiveMessage=function(e,t){n.receiveMessage.call(this,e,t,ee)},r.ShinyInterface=function(){return u({},g,{},r)},r}(g);return o(document).on(ie.CHANGE,re.INPUT_CHILD,function(e){var t=L(e.target,re.INPUT),n=y(t,ee);if(n){var r=L(e.target,re.CHILD);n.value(r.value)}}),o(document).on(ie.CHANGE,""+re.INPUT_CHILD+re.PLUGIN,function(e){var t=L(e.target,re.CHILD),n=P(t),r=n[0],i=n[1],u=n[2];k(r,i,u)&&o(t)[r](i)}),e&&e.inputBindings.register(ue.ShinyInterface(),ee),{ButtonGroupInput:j,ButtonInput:x,MenuInput:F,NavInput:Z,RadioInput:ue}});