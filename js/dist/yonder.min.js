!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jQuery"),require("Shiny")):"function"==typeof define&&define.amd?define(["jQuery","Shiny"],t):e.yonder=t(e.$,e.Shiny)}(this,(function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&l(r,n.prototype),r}).apply(null,arguments)}function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return s(e,arguments,a(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l(i,e)})(e)}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var h,d,v=function(e){function t(t,n){var i,r=n?t+": "+n:t;return(i=e.call(this,r)||this).name=t,i.message=r,i}return o(t,e),t}(f(Error)),p=(h={},d=1,{set:function(e,t,n){"undefined"==typeof e.key&&(e.key={key:t,id:d},d++),h[e.key.id]=n},get:function(e,t){if(!e||"undefined"==typeof e.key)return null;var n=e.key;return n.key===t?h[n.id]:null},delete:function(e,t){if("undefined"!=typeof e.key){var n=e.key;n.key===t&&(delete h[n.id],delete e.key)}}}),g={setData:function(e,t,n){p.set(e,t,n)},getData:function(e,t){return p.get(e,t)},removeData:function(e,t){p.delete(e,t)}},b=function(){function e(e,t,n){if("object"==typeof e&&1!==e.nodeType&&"string"!=typeof e)throw new v("Invalid Argument","`element` must be a node or string");if("string"==typeof e&&!(e=document.querySelector(e)))throw new v("Element Not Found","could not find element for give `element` selector");this._element=e,this._type=t,this._value=null,this._callback=function(){},g.setData(e,t,this)}var t=e.prototype;return t.content=function(e){this._element.innerHTML=e},t.dispose=function(){g.removeData(this._element,this._type),this._element=null},e.initialize=function(e,t,n){var i=g.getData(e,t);i||(i=new n(e))},e.find=function(e,t){return e.querySelectorAll(t)},e.getId=function(e){return e.id},e.getType=function(e){return null},e.getValue=function(e,t){var n=g.getData(e,t);return n?n.value():null},e.subscribe=function(e,t,n){var i=g.getData(e,n);i&&(i._callback=t)},e.unsubscribe=function(e,t){var n=g.getData(e,t);n&&(n._callback=function(){})},e.receiveMessage=function(e,t,n){var i=g.getData(e,n);i&&t.forEach((function(e){var t=e[0],n=e[1];n?i[t].apply(i,n):i[t]()}))},e.getState=function(e,t){throw new v("Method Not Implemented")},e.getRatePolicy=function(){return null},i(e,null,[{key:"VERSION",get:function(){return"0.1.2"}}]),e}(),y=Element.prototype,I=y.matches,m=y.closest;I||(I=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),m||(m=function(e){var t=this;do{if(I.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var _=function(e,t){return m.call(e,t)},L=function(e){return e?"object"==typeof e&&e.length?Array.prototype.slice.call(e):[e]:[]},C=function(e){return[e.getAttribute("data-plugin"),e.getAttribute("data-action"),e.getAttribute("data-target")]},N=function(e){return e&&1===e.nodeType},T=function(e){return e.classList&&e.classList.contains("active")},D=function e(t,n){t&&(t.length?L(t).forEach((function(t){return e(t,n)})):t.classList&&(t.classList.add("active"),"function"==typeof n&&n(t)))},E=function e(t,n){t&&(t.length?L(t).forEach((function(t){return e(t,n)})):t.classList&&(t.classList.remove("active"),"function"==typeof n&&n(t)))},P=function e(t,n){if(t)if(t.length)L(t).forEach((function(t){return e(t,n)}));else if(t.classList){var i=t.classList.toggle("active");"function"==typeof n&&n(t,i)}},k=function(e,t,n){void 0===n&&(n=function(e){return e.value});for(var i=L(t).map((function(e){return N(e)?e:e.toString()})),r=(e=L(e)).map(n),u=[],c=[],o=0;o<i.length;o++){var a=i[o],l=e[N(a)?e.indexOf(a):r.indexOf(a)];void 0!==l&&(u.push(l),c.push(r[o]))}return[u,c]},S=function(){for(var e=0;e++;e<arguments.length)if(!(e<0||arguments.length<=e?void 0:arguments[e]))return!1;return!0},H="yonder.buttongroup",U="yonder-button-group",A="btn",O="disabled",M={INPUT:"."+U,CHILD:"."+A,PARENT_CHILD:"."+U+" ."+A,PLUGIN:"[data-plugin]"},w={CLICK:"click."+H},G=function(e){function t(t){var n;return(n=e.call(this,t,H)||this)._counter=0,n}o(t,e),i(t,null,[{key:"TYPE",get:function(){return H}}]);var n=t.prototype;return n.value=function(e){return"undefined"==typeof e?this._value:(this._value=e,this._callback(),this)},n.content=function(e){this._element.innerHTML=e},n.disable=function(e){var t=this._element.querySelectorAll(M.CHILD);L(t).forEach((function(t){("undefined"==typeof e||e.indexOf(t.value)>-1)&&(t.setAttribute(O,""),t.setAttribute("aria-disabled","true"))}))},n.enable=function(e){var t=this._element.querySelectorAll(M.CHILD);L(t).forEach((function(t){("undefined"==typeof e||e.indexOf(t.value)>-1)&&(t.removeAttribute(O),t.setAttribute("aria-disabled","false"))}))},t.find=function(t){return e.find.call(this,t,"."+U)},t.initialize=function(n){e.initialize.call(this,n,H,t)},t.getType=function(e){return H},t.getValue=function(e){var t=g.getData(e,H);return t?{value:t.value(),counter:t._counter++}:null},t.subscribe=function(t,n){e.subscribe.call(this,t,n,H)},t.unsubscribe=function(t){e.unsubscribe.call(this,t,H)},t.receiveMessage=function(t,n){e.receiveMessage.call(this,t,n,H)},t.ShinyInterface=function(){return c({},b,{},t)},t}(b);e(document).on(w.CLICK,M.PARENT_CHILD,(function(e){var t=e.currentTarget,n=_(t,M.INPUT),i=g.getData(n,H);i&&i.value(t.value)})),e(document).on(w.CLICK,""+M.PARENT_CHILD+M.PLUGIN,(function(t){var n=t.currentTarget,i=C(n),r=i[0],u=i[1],c=i[2];r&&u&&c&&("tab"===r&&e(n).one("shown.bs.tab",(function(e){return n.classList.remove("active")})),e(n)[r](u))})),t&&t.inputBindings.register(G.ShinyInterface(),H);var j="yonder.button",R={INPUT:".yonder-button",PLUGIN:"[data-plugin]"},q={CLICK:"click."+j},z=function(e){function t(t){var n;return(n=e.call(this,t,j)||this)._value=0,n._isLink="A"===t.tagName,n}o(t,e),i(t,null,[{key:"TYPE",get:function(){return j}}]);var n=t.prototype;return n.value=function(e){return"undefined"==typeof e?this._value:(this._value=e,this._callback(),this)},n.content=function(e){this._element.innerHTML=e},n.disable=function(e){this._isLink?this._element.classList.add("disabled"):this._element.setAttribute("disabled","")},n.enable=function(){this._isLink?this._element.classList.remove("disabled"):this._element.removeAttribute("disabled")},t.initialize=function(n){e.initialize.call(this,n,j,t)},t.find=function(t){return e.find.call(this,t,R.INPUT)},t.getValue=function(e){var t=g.getData(e,j);return t?0===t.value()?null:t.value():null},t.subscribe=function(t,n){e.subscribe.call(this,t,n,j)},t.unsubscribe=function(t){e.unsubscribe.call(this,t,j)},t.receiveMessage=function(t,n){e.receiveMessage.call(this,t,n,j)},t.ShinyInterface=function(){return c({},b,{},t)},t}(b);e(document).on(q.CLICK,R.INPUT,(function(e){var t=_(e.target,R.INPUT),n=g.getData(t,j);n&&n.value(n.value()+1)})),e(document).on(q.CLICK,""+R.INPUT+R.PLUGIN,(function(t){var n=_(t.target,R.INPUT),i=C(n),r=i[0],u=i[1],c=i[2];r&&u&&c&&("tab"===r&&e(n).one("shown.bs.tab",(function(e){return n.classList.remove("active")})),e(n)[r](u))})),t&&t.inputBindings.register(z.ShinyInterface(),j);var V="yonder."+V,x="yonder-checkbar",K="btn",B={INPUT:"."+x,CHILD:"."+K,PARENT_CHILD:"."+x+" ."+K},Y={CHANGE:"change."+V},F=function(e){function t(t){return e.call(this,t,V)||this}o(t,e);var n=t.prototype;return n.value=function(e){return"undefined"==typeof e?this._value:(this._value=e,this._callback(),this)},n.select=function(e){var t=this._element.querySelectorAll(B.CHILD),n=k(t,e,(function(e){return e.children[0].value})),i=n[0],r=n[1];E(i,(function(e){e.children[0].checked=!1})),i.length&&(D(i,(function(e){e.children[0].checked=!0})),this.value(r))},n.toggle=function(e){var t=this._element.querySelectorAll(B.CHILD),n=k(t,e,(function(e){return e.children[0].value}))[0];if(n.length){P(n,(function(e,t){e.children[0].checked=t}));var i=L(t).filter(T).map((function(e){return e.children[0].value}));this.value(i)}},t.find=function(t){return e.find.call(this,t,B.INPUT)},t.initialize=function(n){e.initialize.call(this,n,V,t)},t.getValue=function(t){return e.getValue.call(this,t,V)},t.subscribe=function(t,n){e.subscribe.call(this,t,n,V)},t.unsubscribe=function(t){e.unsubscribe.call(this,t,V)},t.receiveMessage=function(t,n){e.receiveMessage.call(this,t,n,V)},t.ShinyInterface=function(){return c({},b,{},t)},t}(b);e(document).on(Y.CHANGE,B.PARENT_CHILD,(function(e){var t=_(e.target,B.INPUT),n=g.getData(t,V);if(n){var i=_(e.target,B.CHILD);n.toggle(i)}})),t&&t.inputBindings.register(F.ShinyInterface(),V);var Q="yonder.checkbox",$="yonder-checkbox",J="custom-checkbox",W={INPUT:"."+$,CHILD:"."+J,INPUT_CHILD:"."+$+" ."+J},X={CHANGE:"change."+Q},Z=function(e){function t(t){return e.call(this,t,Q)||this}o(t,e);var n=t.prototype;return n.value=function(e){return"undefined"==typeof e?this._value:(this._value=e,this._callback(),this)},n.select=function(e){var t=this._element.querySelectorAll(W.CHILD),n=k(t,e,(function(e){return e.children[0].value})),i=n[0],r=n[1];E(t,(function(e){e.children[0].checked=!1})),i.length&&(D(i,(function(e){e.children[0].checked=!0})),this.value(r))},n.toggle=function(e){var t=this._element.querySelectorAll(W.CHILD),n=k(t,e,(function(e){return e.children[0].value}))[0];if(n.length){P(n,(function(e,t){e.children[0].checked=t}));var i=L(t).filter(T).map((function(e){return e.children[0].value}));this.value(i)}},t.find=function(t){return e.find.call(this,t,W.INPUT)},t.initialize=function(n){e.initialize.call(this,n,Q,t)},t.getValue=function(t){return e.getValue.call(this,t,Q)},t.subscribe=function(t,n){e.subscribe.call(this,t,n,Q)},t.unsubscribe=function(t){e.unsubscribe.call(this,t,Q)},t.receiveMessage=function(t,n){e.receiveMessage.call(this,t,n,Q)},t.ShinyInterface=function(){return c({},b,{},t)},t}(b);e(document).on(X.CHANGE,W.INPUT_CHILD,(function(e){var t=_(e.target,W.INPUT),n=g.getData(t,Q);if(n){var i=_(e.target,W.CHILD);n.toggle(i)}})),t&&t.inputBindings.register(Z.ShinyInterface(),Q);var ee="yonder.menu",te="yonder-menu",ne="dropdown-item",ie={INPUT:"."+te,CHILD:"."+ne,PARENT_CHILD:"."+te+" ."+ne,TOGGLE:"[data-toggle='dropdown']"},re={CLICK:"click."+ee,CLOSE:"hide.bs.dropdown",CLOSED:"hidden.bs.dropdown"},ue=function(e){function t(t){var n;return(n=e.call(this,t,ee)||this)._counter=0,n}o(t,e),i(t,null,[{key:"TYPE",get:function(){return ee}},{key:"Selector",get:function(){return ie}},{key:"Event",get:function(){return re}}]);var n=t.prototype;return n.value=function(e){return"undefined"==typeof e?this._value:(this._value=e,this._callback(),this)},n.select=function(e){var t=this._element.querySelectorAll(ie.CHILD),n=k(t,e),i=n[0],r=n[1];E(t),i.length&&(D(i[0]),this.value(r[0]))},t.initialize=function(n){e.initialize.call(this,n,ee,t)},t.find=function(t){return e.find.call(this,t,ie.INPUT)},t.getType=function(e){return ee},t.getValue=function(e){var t=g.getData(e,ee);return t?{value:t.value(),counter:t._counter++}:null},t.subscribe=function(t,n){e.subscribe.call(this,t,n,ee)},t.unsubscribe=function(t){e.unsubscribe.call(this,t,ee)},t.receiveMessage=function(t,n){e.receiveMessage.call(this,t,n,ee)},t.ShinyInterface=function(){return c({},b,{},t)},t}(b);e(document).on(re.CLICK,ie.PARENT_CHILD,(function(e){var t=_(e.target,ie.CHILD);if(t){var n=_(t,ie.INPUT),i=g.getData(n,ee);i&&i.select(t)}})),t&&t.inputBindings.register(ue.ShinyInterface(),ee);var ce="yonder.nav",oe="yonder-nav",ae="nav-link",le={INPUT:"."+oe,CHILD:"."+ae,PARENT_CHILD:"."+oe+" ."+ae,ACTIVE:".active",DISABLED:".disabled",PLUGIN:"[data-plugin]",NAV_ITEM:"."+"nav-item",MENU:ue.Selector.INPUT,MENU_TOGGLE:ue.Selector.TOGGLE,MENU_ITEM:ue.Selector.CHILD},se={CLICK:"click."+ce},fe=function(e){function t(t){return e.call(this,t,ce)||this}o(t,e);var n=t.prototype;return n.value=function(e){return"undefined"==typeof e?this._value:(this._value=e,this._callback(),this)},n.select=function(e){var t=this._element.querySelectorAll(le.CHILD),n=k(t,e),i=n[0],r=n[1];E(t,(function(e){if(!(i.indexOf(e)>-1)){var t=g.getData(e.parentNode,ue.TYPE);t&&t.select(null)}})),i.length&&(D(i[0]),this.value(r[0]))},n.disable=function(e){},n.enable=function(e){},t.initialize=function(n){e.initialize.call(this,n,ce,t)},t.find=function(t){return e.find.call(this,t,le.INPUT)},t.getValue=function(t){return e.getValue.call(this,t,ce)},t.subscribe=function(t,n){e.subscribe.call(this,t,n,ce)},t.unsubscribe=function(t){e.unsubscribe.call(this,t,ce)},t.receiveMessage=function(t,n){e.receiveMessage.call(this,t,n,ce)},t.ShinyInterface=function(){return c({},b,{},t)},t}(b);e(document).on(se.CLICK,le.PARENT_CHILD+":not("+le.MENU_TOGGLE+")",(function(e){var t=_(e.target,le.INPUT),n=g.getData(t,ce);if(n){var i=_(e.target,le.CHILD);n.select(i)}})),e(document).on(se.CLICK,""+le.PARENT_CHILD+le.PLUGIN,(function(t){var n=_(t.target,le.CHILD),i=C(n),r=i[0],u=i[1],c=i[2];S(r,u,c)&&(E(n),e(n)[r](u))})),e(document).on(se.CLICK,le.INPUT+" "+le.MENU_ITEM,(function(e){var t=_(e.target,le.INPUT),n=g.getData(t,ce);if(n){var i=_(e.target,le.NAV_ITEM).querySelector(le.CHILD);if(n.select(i),!_(e.target,le.MENU).id){var r=_(e.target,le.MENU_ITEM);n.value(r.value)}}})),t&&t.inputBindings.register(fe.ShinyInterface(),ce),t&&t.addCustomMessageHandler("yonder:pane",(function(t){if(void 0!==t.type&&void 0!==t.data&&void 0!==t.data.target){var n=document.getElementById(t.data.target);null!==n&&("show"===t.type?function(t){if(null!==t&&!t.classList.contains("show"))if(t.parentElement.classList.contains("tab-content")){var n=t.parentElement.querySelector(".active");bootstrap.Tab.prototype._activate(t,t.parentElement,(function(){var i=e.Event("hidden.bs.tab",{relatedTarget:t}),r=e.Event("shown.bs.tab",{relatedTarget:n});e(n).trigger(i),e(t).trigger(r)}))}else console.warn("nav pane "+t.id+" is missing a nav content parent element")}(n):"hide"===t.type&&function(t){if(null!==t&&t.classList.contains("show"))if(t.parentElement.classList.contains("tab-content")){var n=document.createElement("div");bootstrap.Tab.prototype._activate(n,t.parentElement,(function(){var n=e.Event("hidden.bs.tab",{relatedTarget:t});e(t).trigger(n)}))}else console.warn("nav pane "+t.id+" is missing a nav content parent element")}(n))}}));var he="yonder.radio",de="yonder-radio",ve="custom-radio",pe={INPUT:"."+de,CHILD:"."+ve,INPUT_CHILD:"."+de+" ."+ve,PLUGIN:"[data-plugin]"},ge={CHANGE:"change."+he},be=function(e){function t(t){return e.call(this,t,he)||this}o(t,e);var n=t.prototype;return n.value=function(e){return"undefined"==typeof e?this._value:(this._value=e,this._callback(),this)},n.select=function(e){var t=this._element.querySelectorAll(pe.CHILD),n=k(t,e),i=n[0],r=n[1];E(t,(function(e){e.children[0].checked=!1})),i.length&&(D(i[0],(function(e){e.children[0].checked=!0})),this.value(r[0]))},t.initialize=function(n){e.initialize.call(this,n,he,t)},t.find=function(t){return e.find.call(this,t,pe.INPUT)},t.getValue=function(t){return e.getValue.call(this,t,he)},t.subscribe=function(t,n){e.subscribe.call(this,t,n,he)},t.unsubscribe=function(t){e.unsubscribe.call(this,t,he)},t.receiveMessage=function(t,n){e.receiveMessage.call(this,t,n,he)},t.ShinyInterface=function(){return c({},b,{},t)},t}(b);return e(document).on(ge.CHANGE,pe.INPUT_CHILD,(function(e){var t=_(e.target,pe.INPUT),n=g.getData(t,he);if(n){var i=_(e.target,pe.CHILD);n.value(i.value)}})),e(document).on(ge.CHANGE,""+pe.INPUT_CHILD+pe.PLUGIN,(function(t){var n=_(t.target,pe.CHILD),i=C(n),r=i[0],u=i[1],c=i[2];S(r,u,c)&&e(n)[r](u)})),t&&t.inputBindings.register(be.ShinyInterface(),he),{ButtonGroupInput:G,ButtonInput:z,CheckbarInput:F,CheckboxInput:Z,MenuInput:ue,NavInput:fe,RadioInput:be}}));
//# sourceMappingURL=yonder.min.js.map