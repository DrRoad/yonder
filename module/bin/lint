#!/usr/bin/env node

/*!
 *
 */

'use strict';

let path = require('path');
let fs = require('fs');
let glob = require('glob');
let parser = require('commander');
let eslint = require('eslint');
let esengine = eslint.CLIEngine;
let stylelint = require('stylelint');

parser.version('0.0.1');

parser
  .command('scss')
  .description('lint scss files')
  .action((options) => {
    stylelint.lint({
      files: 'src/scss/**/*.scss',
      formatter: 'verbose'
    })
      .then((data) => {
        console.log(data.output);
      })
      .catch((err) => {
        console.log(err.stack);
      });
  });

parser
  .command('js')
  .description('lint js files')
  .action((options) => {
    let linter = new esengine();
    let formatter = linter.getFormatter('codeframe');

    let report = linter.executeOnFiles(['src/js/**/*.js']);

    console.log(formatter(report.results) || "All good!");
  });


parser.parse(process.argv);
