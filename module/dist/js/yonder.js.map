{"version":3,"file":"yonder.js","sources":["../../src/js/yonder-input-binding.js","../../src/js/input-binding-button-group.js","../../src/js/input-binding-button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-group-input.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/input-binding-menu.js","../../src/js/input-binding-nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/output-binding-badge.js","../../src/js/output-binding-progress.js","../../src/js/thruput-binding-table.js","../../src/js/alert.js","../../src/js/collapsible.js","../../src/js/element.js","../../src/js/modal.js","../../src/js/yonder.js"],"sourcesContent":["export function yonderInputBinding() {\n  this.Selector = {};\n  this.Events = [];\n\n  this.find = function(scope) {\n    return scope.querySelectorAll(`${ this.Selector.SELF }[id]`);\n  };\n\n  this.getId = function(el) {\n    return el.id;\n  };\n\n  this.getType = function(el) {\n    return this.Type || false;\n  };\n\n  this.getValue = function(el) {\n    if (!this.Selector.hasOwnProperty(\"SELECTED\")) {\n      return null;\n    }\n\n    let selected = Array.prototype.slice.call(el.querySelectorAll(this.Selector.SELECTED));\n\n    if (!selected.length) {\n      return null;\n    }\n\n    return selected.map(s => {\n      let value = s.getAttribute(\"data-value\") || s.value;\n      return value === undefined ? null : value;\n    });\n  };\n\n  this.getState = function(el, data) {\n    return { value: this.getValue(el) };\n  };\n\n  this.attachHandler = function(el, type, selector, handler, callback, debounce) {\n    $(el).on(`${ type }.yonder`, (selector || null), (e) => {\n      if (handler) {\n        handler(el, e, this);\n      }\n\n      if (callback) {\n        callback(debounce || false);\n      }\n    });\n  };\n\n  this.subscribe = function(el, callback) {\n    let $el = $(el);\n\n    let formElement = false;\n    if ($el.parent().closest(\".yonder-form[id]\").length) {\n      $el.on(\"submission.yonder\", e => callback());\n      formElement = true;\n    }\n\n    this.Events.forEach(event => {\n      this.attachHandler(\n        el,\n        event.type, event.selector, event.callback,\n        formElement ? null : callback, event.debounce\n      );\n    });\n  };\n\n  this.unsubscribe = function(el) {\n    $(el).off(\"yonder\");\n  };\n\n  this._update = (el, data) => {\n    console.warn(\"no _update method\");\n  };\n\n  this._enable = (el, data) => {\n    console.warn(\"no _enable method\");\n  };\n\n  this._disable = (el, data) => {\n    console.warn(\"no _disable method\");\n  };\n\n  this._invalidate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support invalidation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-valid\");\n    input.classList.add(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = data.message;\n    }\n  };\n\n  this._validate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support validation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = \"\";\n    }\n  };\n\n  this.receiveMessage = function(el, msg) {\n    if (!msg.type || msg.data === undefined) {\n      return false;\n    }\n\n    switch (msg.type) {\n    case \"update\":\n      let values = msg.data.values;\n      let choices = msg.data.choices;\n      let selected = msg.data.selected;\n\n      if (values || choices || selected) {\n        this._clear(el);\n      }\n\n      if (values) {\n        values.forEach(([value, current], i) => {\n          this._value(el, value, current, i);\n        });\n      }\n\n      if (choices) {\n        choices.forEach(([value, current], i) => {\n          this._choice(el, value, current, i);\n        });\n      }\n\n      if (selected) {\n        selected.forEach(value => {\n          this._select(el, value);\n        });\n      }\n\n      break;\n\n    case \"enable\":\n      this._enable(el, msg.data);\n      break;\n\n    case \"disable\":\n      this._disable(el, msg.data);\n      break;\n\n    case \"invalidate\":\n      this._invalidate(el, msg.data);\n      break;\n\n    case \"validate\":\n      this._validate(el, msg.data);\n      break;\n    }\n\n    return false;\n  };\n}\n\nif (Shiny) {\n  yonderInputBinding.call(Shiny.InputBinding.prototype);\n}\n","export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  Selector: {\n    SELF: \".yonder-button-group\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"button\",\n      callback: (el, e, self) => {\n        self._VALUES[el.id] = e.target.value;\n      }\n    }\n  ],\n  _VALUES: {},\n  getType: (el) => \"yonder.buttonGroup\",\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`button[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        target.innerHTML = newLabel;\n      }\n    } else {\n      let buttons = el.querySelectorAll(\"button\");\n\n      if (index < buttons.length) {\n        buttons[index].innerHTML = newLabel;\n      }\n    }\n  },\n  _value: (el, newValue, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`button[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        target.value = newValue;\n      }\n    } else {\n      let buttons = el.querySelectorAll(\"button\");\n\n      if (index < buttons.length) {\n        buttons[index].value = newValue;\n      }\n    }\n  },\n  _select: () => null,\n  _clear: () => null,\n  _enable: function(el, data) {\n    let values = data.values;\n\n    el.querySelectorAll(\"button\").forEach(button => {\n      let enable = !values.length || values.indexOf(button.value) > -1;\n\n      if (enable && !data.invert) {\n        button.classList.remove(\"disabled\");\n        button.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let values = data.values;\n\n    el.querySelectorAll(\"button\").forEach(button => {\n      let disable = !values.length || values.indexOf(button.value) > -1;\n\n      if (disable && !data.invert) {\n        button.classList.add(\"disabled\");\n        button.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        button.classList.remove(\"disabled\");\n        button.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  Selector: {\n    SELF: \".yonder-button\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      callback: el => el.value = +el.value + 1\n    }\n  ],\n  initialize: (el) => {\n    el.value = 0;\n  },\n  getValue: (el) => {\n    return +el.value > 0 ? +el.value : null;\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    el.innerHTML = newLabel;\n  },\n  _value: (el, newValue, currentValue, index) => {\n    if (+newValue === +newValue) {\n      el.value = newValue;\n    }\n  },\n  _select: (el, currentValue, index) => {\n    // cannot select\n  },\n  _clear: (el) => {\n    // no need to do anything\n  },\n  _enable: (el, data) => {\n    if (!data.invert) {\n      el.classList.remove(\"disabled\");\n    }\n  },\n  _disable: (el, data) => {\n    if (!data.invert) {\n      el.classList.add(\"disabled\");\n    }\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbar\",\n    SELECTED: \"input:checked\"\n  },\n  Events: [\n    { type: \"change\", selector: \".btn\" }\n  ],\n  _value: (el, newValue, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`input[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.value = newValue;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\"input\");\n      if (index < possibles.length) {\n        possibles[index].value = newValue;\n      }\n    }\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`input[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        let btn = target.parentNode;\n        let input = target.cloneNode();\n\n        btn.innerHTML = \"\";\n        btn.appendChild(input);\n        btn.insertAdjacentText(\"beforeend\", newLabel);\n      }\n    } else {\n      let possibles = el.querySelectorAll(\"input\");\n\n      if (index < possibles.length) {\n        let btn = possibles[index].parentNode;\n        let input = possibles[index].cloneNode();\n\n        btn.innerHTML = \"\";\n        btn.appendChild(input);\n        btn.insertAdjacentText(\"beforeend\", newLabel);\n      }\n    }\n  },\n  _select: (el, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`input[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        target.parentNode.classList.add(\"active\");\n        target.setAttribute(\"selected\", \"\");\n      }\n    } else {\n      let possibles = el.querySelectorAll(\"input\");\n\n      if (index < possibles.length) {\n        possibles[index].parentNode.classList.add(\"active\");\n        possibles[index].setAttribute(\"selected\", \"\");\n      }\n    }\n  },\n  _clear: (el) => {\n    el.querySelectorAll(\".btn\").forEach(btn => {\n      btn.classList.remove(\"active\");\n      btn.children[0].setAttribute(\"selected\", \"\");\n    });\n  },\n  _enable: function(el, data) {\n    let values = data.values;\n    el.querySelectorAll(\".btn\").forEach(btn => {\n      let enable = !values.length || values.indexOf(btn.children[0].value) > -1;\n\n      if (enable && !data.invert) {\n        btn.classList.remove(\"disabled\");\n        btn.children[0].removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let values = data.values;\n    el.querySelectorAll(\".btn\").forEach(btn => {\n      let disable = !values.length || values.indexOf(btn.children[0].value) > -1;\n\n      if (disable && !data.invert) {\n        btn.classList.add(\"disabled\");\n        btn.children[0].setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        btn.classList.remove(\"disabled\");\n        btn.children[0].removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbox\",\n    SELECTED: \".custom-control-input:checked:not(:disabled)\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  _value: (el, newValue, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`input[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        target.value = newValue;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\"input\");\n\n      if (index < possibles.length) {\n        possibles[index].value = newValue;\n      }\n    }\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`input[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        target.parentNode.children[1].innerHTML = newLabel;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\"input\");\n\n      if (index < possibles.length) {\n        possibles[index].parentNode.children[1].innerHTML = newLabel;\n      }\n    }\n  },\n  _select: (el, currentValue) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`input[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        target.checked = true;\n      }\n    }\n  },\n  _clear: (el) => {\n    el.querySelectorAll(\"input\").forEach(input => {\n      input.checked = false;\n    });\n  },\n  _enable: function(el, data) {\n    el.querySelectorAll(\"input\").forEach(input => {\n      let enable = !data.values.length && data.values.indexOf(input.value) > -1;\n\n      if (enable && !data.invert) {\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    el.querySelectorAll(\"input\").forEach(input => {\n      let disable = !data.values.length && data.values.indexOf(input.value) > -1;\n\n      if (disable && !data.invert) {\n        input.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$.extend(fileInputBinding, {\n  Selector: {\n    SELF: \".yonder-file\",\n    VALIDATE: \"input[type='file']\"\n  },\n  Events: [\n    {\n      type: \"change\",\n      callback: (el, _, self) => {\n        if (el.querySelector(\"button\") !== null) return;\n\n        self._doUpload(el);\n      }\n    },\n    {\n      type: \"click\",\n      selector: \"button\",\n      callback: (el, _, self) => self._doUpload(el)\n    },\n    {\n      type: \"dragover\",\n      callback: (_, e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    },\n    {\n      type: \"dragcenter\",\n      callback: (_, e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    },\n    {\n      type: \"drop\",\n      callback: (el, e, self) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        self._doUpload(el, e.originalEvent.dataTransfer.files);\n      }\n    }\n  ],\n  getValue: el => null,\n  _value: () => null,\n  _choice: () => null,\n  _select: () => null,\n  _clear: () => null,\n  _enable: function(el, data) {\n    el.querySelector(\"input[type='file']\").removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input[type='file']\").setAttribute(\"disabled\", \"\");\n  },\n  _sendFile: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            el.querySelector(\"input[type='file']\").value = \"\";\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _doUpload: function(el, files) {\n    let input = el.querySelector(\"input[type='file']\");\n\n    if (files === undefined) {\n      files = input.files;\n    }\n\n    if (!files) {\n      return;\n    }\n\n    if (!input.hasAttribute(\"multiple\")) {\n      files = Array.prototype.slice.call(files, 0, 1);\n    } else {\n      files = Array.prototype.slice.call(files);\n    }\n\n    let info = files.map(f => {\n      return { name: f.name, size: f.size, type: f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._sendFile(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  }\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  Events: [\n    {\n      type: \"click\",\n      selector: \".yonder-submit\",\n      callback: (el, e, self) => {\n        self._VALUES[el.id] = e.target.value;\n        $(el.querySelectorAll(\".shiny-bound-input\")).trigger(\"submission.yonder\");\n      }\n    }\n  ],\n  Type: \"yonder.form\",\n  _VALUES: {},\n  find: function(scope) {\n    let forms = Array.prototype.slice.call(scope.querySelectorAll(\".yonder-form[id]\"));\n\n    return forms.filter(f => f.querySelector(\".yonder-submit\") !== null);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _value: () => null,\n  _choice: () => null,\n  _select: () => null,\n  _clear: () => null,\n  _enable: () => null,\n  _disable: () => null\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let groupInputBinding = new Shiny.InputBinding();\n\n$.extend(groupInputBinding, {\n  Selector: {\n    SELF: \".yonder-group[id]\",\n    SELECTED: \".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\",\n    VALIDATE: \"input\"\n  },\n  Events: [\n    { type: \"input\", debounce: true },\n    { type: \"change\", debounce: true }\n  ],\n  Type: \"yonder.group\",\n  getValue: function(el) {\n    return Array.prototype.slice.call(el.querySelectorAll(this.Selector.SELECTED))\n      .map(s => /^(DIV|SPAN)$/.test(s.tagName) ? s.innerText : (s.value || null))\n      .filter(value => value !== null);\n  },\n  _value: (el, newValue, currentValue, index) => {\n    el.querySelector(\"input\").value = newValue;\n  },\n  _choice: () => null,\n  _select: () => null,\n  _clear: () => null,\n  _enable: function(el, data) {\n    el.querySelector(\"input\").removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n  }\n});\n\nShiny.inputBindings.register(groupInputBinding, \"yonder.groupInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  Selector: {\n    SELF: \".yonder-link[id]\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      callback: (el) => el.value = +el.value + 1\n    }\n  ],\n  Type: \"yonder.link\",\n  initialize: function(el) {\n    el.value = 0;\n  },\n  getValue: (el) => {\n    return +el.value > 0 ? +el.value : null;\n  },\n  _value: (el, newValue, currentValue, index) => {\n    el.value = newValue;\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    el.innerHTML = newLabel;\n  },\n  _select: () => null,\n  _clear: () => null,\n  _disable: function(el, data) {\n    el.classList.add(\"disabled\");\n    el.setAttribute(\"disabled\", \"\");\n  },\n  _enable: function(el, data) {\n    el.classList.remove(\"disabled\");\n    el.removeAttribute(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","export let listGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(listGroupInputBinding, {\n  Selector: {\n    SELF: \".yonder-list-group\",\n    SELECTED: \".list-group-item-action.active:not(.disabled)\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \".list-group-item-action:not(.disabled)\",\n      callback: (el, e, self) => {\n        if (el.getAttribute(\"data-multiple\") === \"false\") {\n          el.querySelectorAll(\".list-group-item-action:not(.disabled)\")\n            .forEach(li => li.classList.remove(\"active\"));\n        }\n\n        e.target.classList.toggle(\"active\");\n      }\n    }\n  ],\n  _value: (el, newValue, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.list-group-item[data-value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.setAttribute(\"data-value\", newValue);\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".list-group-item\");\n\n      if (index < possibles.length) {\n        possibles[index].setAttribute(\"data-value\", newValue);\n      }\n    }\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.list-group-item[data-value\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.innerHTML = newLabel;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".list-group-item\");\n\n      if (index < possibles.length) {\n        possibles[index].innerHTML = newLabel;\n      }\n    }\n  },\n  _select: (el, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.list-group-item[data-value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.classList.add(\"active\");\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".list-group-item\");\n      if (index < possibles.length) {\n        possibles[index].classList.add(\"active\");\n      }\n    }\n  },\n  _clear: (el) => {\n    el.querySelectorAll(\".list-group-item\").forEach(li => li.classList.remove(\"active\"));\n  },\n  _enable: (el, data) => {\n    let values = data.values;\n    el.querySelectorAll(\".list-group-item\").forEach(li => {\n      let enable = !values.length || values.indexOf(li.getAttribute(\"data-value\")) > -1;\n\n      if (enable && !data.invert) {\n        li.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _disable: (el, data) => {\n    let values = data.values;\n    el.querySelectorAll(\".list-group-item\").forEach(li => {\n      let disable = !values.length || values.indexOf(li.getAttribute(\"data-value\")) > -1;\n\n      if (disable && !data.invert) {\n        li.classList.add(\"disabled\");\n      } else if (data.reset) {\n        li.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","export let menuInputBinding = new Shiny.InputBinding();\n\n$.extend(menuInputBinding, {\n  Selector: {\n    SELF: \".yonder-menu\",\n    SELECTED: \".dropdown-item.active\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, e) => {\n        let active = el.querySelector(\".dropdown-item.active\");\n        if (active !== null) {\n          active.classList.remove(\"active\");\n        }\n        e.target.classList.add(\"active\");\n      }\n    },\n    {\n      type: \"nav.reset\",\n      callback: (el) => {\n        let active = el.querySelector(\".dropdown-item.active\");\n        if (active !== null) {\n          active.classList.remove(\"active\");\n        }\n      }\n    }\n  ],\n  _value: (el, newValue, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.dropdown-item[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.value = newValue;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".dropdown-item\");\n      if (index < possibles.length) {\n        possibles[index].value = newValue;\n      }\n    }\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.dropdown-item[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.innerHTML = newLabel;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".dropdown-item\");\n      if (index < possibles.length) {\n        possibles[index].innerHTML = newLabel;\n      }\n    }\n  },\n  _select: (el, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.dropdown-item[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.classList.add(\"active\");\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".dropdown-item\");\n      if (index < possibles.length) {\n        possibles[index].classList.add(\"active\");\n      }\n    }\n  },\n  _clear: (el) => {\n    el.querySelectorAll(\".dropdown-item.active\")\n      .forEach(di => di.classList.remove(\"active\"));\n  },\n  _enable: function(el, data) {\n    el.querySelectorAll(\".dropdown-item\").forEach(di => {\n      let enable = !data.values.length || data.values.indexOf(di.value) > -1;\n\n      if (enable && !data.invert) {\n        di.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    el.querySelectorAll(\".dropdown-item\").forEach(di => {\n      let disable = !data.values.length || data.values.indexOf(di.value) > -1;\n\n      if (disable && !data.invert) {\n        di.classList.add(\"disabled\");\n      } else if (data.reset) {\n        di.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(menuInputBinding, \"yonder.menuInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$.extend(navInputBinding, {\n  Selector: {\n    SELF: \".yonder-nav\",\n    SELECTED: \".nav-link.active:not(.disabled)\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \".nav-link:not(.dropdown-toggle):not(.disabled)\",\n      callback: (el, e) => {\n        let activeItem = el.querySelector(\".dropdown-item.active\");\n        if (activeItem !== null) {\n          // trigger reset on menu input\n          $(activeItem.parentNode.parentNode).trigger(\"nav.reset\");\n        }\n\n        el.querySelectorAll(\".nav-link.active\").forEach(a => {\n          a.classList.remove(\"active\");\n        });\n\n        e.target.classList.add(\"active\");\n      }\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, e) => {\n        el.querySelectorAll(\".active\").forEach(a => {\n          a.classList.remove(\"active\");\n        });\n\n        e.target.parentNode.parentNode.children[0].classList.add(\"active\");\n        e.target.classList.add(\"active\");\n      }\n    }\n  ],\n  _value: function(el, newValue, currentValue, index) {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.nav-link[data-value=\"${ currentValue  }\"]`);\n\n      if (target !== null) {\n        target.setAttribute(\"data-value\", newValue);\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".nav-link\");\n\n      if (index < possibles.length) {\n        possibles[index].setAttribute(\"data-value\", newValue);\n      }\n    }\n  },\n  _choice: function(el, newLabel, currentValue, index) {\n    if (currentValue !== null) {\n      let child = el.querySelector(`.nav-link[data-value=\"${ currentValue }\"]`);\n\n      if (child !== null) {\n        child.innerHTML = newLabel;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".nav-link\");\n\n      if (index < possibles.length) {\n        possibles[index].innerHTML = newLabel;\n      }\n    }\n  },\n  _select: (el, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.nav-link[data-value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.classList.add(\"active\");\n      }\n    } else {\n      let children = el.querySelectorAll(\".nav-link\");\n      if (index < children.length) {\n        children[index].classList.add(\"active\");\n      }\n    }\n  },\n  _clear: (el) => {\n    el.querySelectorAll(\".nav-link.active\")\n      .forEach(nl => nl.classList.remove(\"active\"));\n  },\n  _disable: function(el, data) {\n    el.querySelectorAll(\".nav-link\").forEach(nl => {\n      let disabled = !data.values.length || data.values.indexOf(nl.value) > -1;\n\n      if (disabled && !data.invert) {\n        nl.classList.add(\"disabled\");\n      } else if (data.reset) {\n        nl.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _enable: function(el, data) {\n    el.querySelectorAll(\".nav-link\").forEach(nl => {\n      let enable = !data.values.length || data.values.indexOf(nl.value) > -1;\n\n      if (enable && !data.invert) {\n        nl.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\")) {\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  // let _hide = function(pane) {\n  //   let current = pane.parent\n  // };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(document.getElementById(msg.data.target));\n  }\n});\n","export let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  Selector: {\n    SELF: \".yonder-radio[id]\",\n    SELECTED: \".custom-control-input:checked:not(:disabled)\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  _value: (el, newValue, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.custom-control-input[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.value = newValue;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".custom-control-input\");\n      if (index < possibles.length) {\n        possibles[index].value = newValue;\n      }\n    }\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.custom-control-input[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.nextElementSibling.innerHTML = newLabel;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".custom-control-label\");\n      if (index < possibles.length) {\n        possibles[index].innerHTML = newLabel;\n      }\n    }\n  },\n  _select: (el, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`.custom-control-input[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.setAttribute(\"checked\", \"\");\n      }\n    } else {\n      let possibles = el.querySelectorAll(\".custom-control-input\");\n      if (index < possibles.length) {\n        possibles[index].setAttribute(\"checked\", \"\");\n      }\n    }\n  },\n  _clear: function(el) {\n    el.querySelector(this.Selector.SELECTED).removeAttribute(\"checked\");\n  },\n  _enable: (el, data) => {\n    el.querySelectorAll(\".custom-control-input\").forEach(input => {\n      let enable = !data.values.length || data.values.indexOf(input.value) > -1;\n\n      if (enable && !data.invert) {\n        input.classList.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: (el, data) => {\n    el.querySelectorAll(\".custom-control-input\").forEach(input => {\n      let disable = !data.values.length || data.values.indexOf(input.value) > -1;\n\n      if (disable && !data.invert) {\n        input.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    SELECTED: \"input:checked:not(:disabled)\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  _value: (el, newValue, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`input[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        target.value = newValue;\n      }\n    } else {\n      let inputs = el.querySelectorAll(\"input\");\n\n      if (index < inputs.length) {\n        inputs[index].value = newValue;\n      }\n    }\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    if (currentValue !== null)  {\n      let target = el.querySelector(`input[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        target.parentNode.children[1].innerHTML = newLabel;\n      }\n    } else {\n      let inputs = el.querySelectorAll(\"input\");\n\n      if (index < inputs.length) {\n        inputs[index].parentNode.children[1].innerHTML = newLabel;\n      }\n    }\n  },\n  _select: (el, currentValue) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`input[value=\"${ currentValue }\"]`);\n\n      if (target !== null) {\n        target.checked = true;\n      }\n    }\n  },\n  _clear: (el) => {\n    el.querySelectorAll(\"input:checked\").forEach(i => i.checked = false);\n  },\n  _enable: function(el, data) {\n    let values = data.values;\n    el.querySelectorAll(\"input\").forEach(input => {\n      let enable = !values.length || values.indexOf(input.value) > -1;\n\n      if (enable && !data.invert) {\n        input.parentNode.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let values = data.values;\n    el.querySelectorAll(\"input\").forEach(input => {\n      let disable = !values.length || values.indexOf(input.value) > -1;\n\n      if (disable && !data.invert) {\n        input.parentNode.classList.add(\"disabled\");\n        input.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        input.parentNode.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  Selector: {\n    SELF: \".yonder-range[id]\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  initialize: (el) => {\n    let $el = $(el);\n    let $input = $el.find(\"input[type='text']\");\n\n    $input.ionRangeSlider();\n\n    let bgclasses = $el.attr(\"class\")\n        .split(/\\s+/)\n        .filter(c => /^bg-[a-z-]+$/.test(c))\n        .join(\" \");\n\n    if (bgclasses) {\n      $el.find(\".irs-slider,.irs-bar,.irs-bar-edge,.irs-to,.irs-from,.irs-single,.irs-slider\")\n        .addClass(bgclasses);\n      $el.removeClass(bgclasses);\n    }\n\n    if ($input.data(\"no-fill\")) {\n      $el.find(\".irs-bar,.irs-bar-edge\").addClass(\"no-fill\");\n    }\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  getValue: function(el) {\n    var $input = $(\"input[type='text']\", el);\n    var data = $input.data(\"ionRangeSlider\");\n\n    if ($input.data(\"type\") == \"double\") {\n      return [data.result.from, data.result.to];\n    } else if ($input.data(\"type\") == \"single\") {\n      if (data.result.from_value !== null) {\n        return data.result.from_value.replace(\"&#44;\", \",\");\n      } else {\n        return data.result.from;\n      }\n    }\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  receiveMessage: function(el, msg) {\n    console.error(\"receiveMessage: not implemented for range input\");\n    return;\n  },\n  dispose: function(el) {\n    var $input = $(\"input[type='text']\", el);\n\n    $input.data(\"ionRangeSlider\").destroy();\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  Selector: {\n    SELF: \".yonder-select\",\n    SELECTED: \"option:checked:not(:disabled)\",\n    VALIDATE: \"select\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  _value: (el, newValue, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`option[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.value = newValue;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\"option\");\n\n      if (index < possibles.length) {\n        possibles[index].value = newValue;\n      }\n    }\n  },\n  _choice: (el, newLabel, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`option[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.innerHTML = newLabel;\n      }\n    } else {\n      let possibles = el.querySelectorAll(\"option\");\n\n      if (index < possibles.length) {\n        possibles[index].innerHTML = newLabel;\n      }\n    }\n  },\n  _select: (el, currentValue, index) => {\n    if (currentValue !== null) {\n      let target = el.querySelector(`option[value=\"${ currentValue }\"]`);\n      if (target !== null) {\n        target.setAttribute(\"selected\", \"\");\n      }\n    } else {\n      let possibles = el.querySelectorAll(\"option\");\n      if (index < possibles.length) {\n        possibles[index].setAttribute(\"selected\", \"\");\n      }\n    }\n  },\n  _clear: (el) => {\n    el.querySelectorAll(\"option\").forEach(op => op.removeAttribute(\"selected\"));\n  },\n  _enable: (el, data) => {\n    el.querySelectorAll(\"option\").forEach(opt => {\n      let enable = !data.values.length || data.values.indexOf(opt.value);\n\n      if (enable && !data.invert) {\n        opt.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: (el, data) => {\n    el.querySelectorAll(\"option\").forEach(opt => {\n      let disable = !data.values.length || data.values.indexOf(opt.value);\n\n      if (disable && !data.invert) {\n        opt.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        opt.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  Selector: {\n    SELF: \".yonder-textual\",\n    VALIDATE: \"input\"\n  },\n  Events: [\n    { type: \"change\", debounce: true },\n    { type: \"input\", debounce: true }\n  ],\n  getValue: (el) => {\n    let input = el.children[0];\n    return input.type === \"number\" ? parseInput(input.value, 10) : input.value;\n  },\n  getRatePolicy: function() {\n    return {\n      policy: \"debounce\",\n      delay: 250\n    };\n  },\n  _value: (el, newValue, currentValue, index) => {\n    el.children[0].value = newValue;\n  },\n  _choice: () => null,\n  _select: () => null,\n  _clear: () => null,\n  _disable: (el, data) => {\n    el.children[0].setAttribute(\"disabled\", \"\");\n  },\n  _enable: (el, data) => {\n    el.children[0].removeAttribute(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n","export let badgeOutputBinding = new Shiny.OutputBinding();\n\n$.extend(badgeOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-badge[id]\");\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  renderValue: function(el, msg) {\n    if (msg.data !== undefined) {\n      el.innerHTML = msg.data;\n    }\n  },\n  renderError: function(el, data) {\n\n  },\n  clearError: function(el) {\n\n  }\n});\n\nShiny.outputBindings.register(badgeOutputBinding, \"yonder.badgeOutput\");\n","$.extend(Shiny.progressHandlers, {\n  \"yonder-progress\": (msg) => {\n    if (!msg.type || !msg.data.outlet) {\n      return false;\n    }\n\n    let $outlet = $(`#${ msg.data.outlet }`);\n\n    if (msg.type === \"show\") {\n      let $bar = $(msg.data.content);\n\n      if ($bar[0].id && $outlet.find(`#${ $bar[0].id }`).length) {\n        $outlet.find(`#${ $bar[0].id }`).replaceWith($bar);\n      } else {\n        $outlet.append($bar);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n});\n","export let tableInputBinding = new Shiny.InputBinding();\n\n$.extend(tableInputBinding, {\n  Selector: {\n    SELF: \".yonder-table[id]\"\n  },\n  Type: \"yonder.table\",\n  Events: [\n    { type: \"chabudai:select\" },\n    { type: \"chabudai:edited\" }\n  ],\n  getValue: function(el) {\n    return JSON.stringify($(el).table(\"selected\"));\n  },\n  receiveMessage: function(el, msg) {\n    return;\n  }\n});\n\nexport let tableOutputBinding = new Shiny.OutputBinding();\n\n$.extend(tableOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-table[id]\");\n  },\n  renderValue: function(el, msg) {\n    if (msg.data) {\n      $(el).table({ \"data\": msg.data });\n    }\n  }\n});\n\nShiny.inputBindings.register(tableInputBinding, \"yonder.tableInput\");\nShiny.outputBindings.register(tableOutputBinding, \"yonder.tableOutput\");\n","export let alertInputBinding = new Shiny.InputBinding();\n\n$(() => {\n  $(document.body).append(\n    $(\"<div class='yonder-alert-container' id='alert-container'></div>\")\n  );\n});\n\n$.extend(alertInputBinding, {\n  Selector: {\n    SELF: \".yonder-alert-container\"\n  },\n  Alerts: [],\n  getValue: function(el) {\n    return null;\n  },\n  receiveMessage: function(el, msg) {\n    if (msg.type === undefined) {\n      return;\n    }\n\n    if (msg.type === \"show\") {\n      let data = msg.data;\n\n      let $alert = $(data.content);\n\n      if (data.action) {\n        $alert.append($(`<button class=\"btn btn-link alert-link alert-action\">${ data.action }</button>`));\n        $alert.on(\"click\", \".alert-action\", (e) => {\n          Shiny.onInputChange(data.action, true);\n        });\n      }\n\n      this.Alerts.push({ el: $alert, action: data.action });\n\n      $alert.appendTo($(this.Selector.SELF))\n        .velocity(\n          { top: 0, opacity: 1 },\n          { duration: 300, easing: \"easeOutCubic\", queue: false }\n        );\n\n      if (data.duration !== null) {\n        setTimeout(\n          () => {\n            if (this.Alerts.length === 0) {\n              return;\n            }\n\n            let item = this.Alerts.shift();\n\n            if (item.action) {\n              Shiny.onInputChange(item.action, null);\n            }\n\n            item.el.remove();\n          },\n          data.duration\n        );\n      }\n\n      return;\n    }\n\n    if (msg.type === \"close\") {\n      if (this.Alerts.length === 0) {\n        return;\n      }\n\n      let data = msg.data;\n\n      let indeces = typeof data.index === \"number\" ? [data.index] : data.index;\n      let text = typeof data.text === \"string\" ? [data.text] : data.text;\n\n      let selector = Object.entries(data.attrs)\n          .map(item => {\n            return `[${ item[0] }${ item[1] ? (item[0] === \"class\" ? \"*=\" : \"=\") + item[1] : \"\" }]`;\n          })\n          .join(\"\");\n\n      this.Alerts = this.Alerts.filter((alert, index) => {\n        let $el = $(alert.el);\n\n        if (indeces.includes(index) || text.includes($el.text()) || $el.is(selector)) {\n          if (alert.action) {\n            Shiny.onInputChange(alert.action, null);\n          }\n\n          $el.remove();\n\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(alertInputBinding, \"yonder.alertInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:element\", (msg) => {\n  let _render = (data) => {\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    container.innerHTML = data.content;\n\n    Shiny.initializeInputs(container);\n    Shiny.bindAll(container);\n  };\n\n  let _remove = (data) => {\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n\n    container.innerHTML = \"\";\n  };\n\n  console.log(msg);\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"render\") {\n    _render(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no element method _${ msg.type }`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"close\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal === null) {\n      return false;\n    }\n\n    Shiny.unbindAll(modal);\n\n    $(modal).modal(\"hide\");\n\n    return true;\n  }\n\n  if (msg.type === \"show\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal !== null) {\n      modal.innerHTML = msg.data.content;\n    } else {\n      $(document.body).append(\n        $(`<div class=\"modal fade\" tabindex=-1 role=\"dialog\">${ msg.data.content }</div>`)\n      );\n      modal = document.body.querySelector(\".modal\");\n    }\n\n    if (msg.data.dependencies !== undefined) {\n      Shiny.renderDependencies(msg.data.dependencies);\n    }\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n\n    $(modal).modal(\"show\");\n\n    return true;\n  }\n\n  return false;\n});\n","import \"./yonder-input-binding.js\";\n\nimport \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-group-input.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport \"./input-binding-menu.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./output-binding-badge.js\";\nimport \"./output-binding-progress.js\";\n\nimport \"./thruput-binding-table.js\";\n\nimport \"./alert.js\";\nimport \"./collapsible.js\";\nimport \"./element.js\";\nimport \"./modal.js\";\n\n$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n  $(\"[data-toggle=\\\"popover\\\"]\").popover();\n\n  $(document).on(\"shiny:connected\", function() {\n    $(\".yonder-submit[data-type=\\\"submit\\\"]\").attr(\"type\", \"submit\");\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n    if (msg.data.target === undefined) {\n      return;\n    }\n\n    if (msg.type == \"show\") {\n      let data = msg.data;\n      let target = `#${ data.target }`;\n\n      $(target).popover({\n        title: () => undefined,\n        content: () => undefined,\n        template: data.content,\n        placement: data.placement,\n        trigger: \"manual\"\n      });\n\n      if (data.duration) {\n        setTimeout(\n          () => $(target).popover(\"hide\"),\n          data.duration\n        );\n      }\n\n      $(target).popover(\"show\");\n\n      return;\n    }\n\n    if (msg.type == \"close\") {\n      $(`#${ msg.data.id }`).popover(\"hide\");\n\n      return;\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:download\", function(msg) {\n    if (!(msg.filename && msg.token && msg.key)) {\n      throw \"invalid download event\";\n    }\n\n    const uri = \"/session/\" + msg.token + \"/download/\" + msg.key;\n\n    let agent = window.navigator.userAgent;\n    let ie = ua.indexOf(\"MSIE \");\n\n    if (ie > 0) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", uri);\n      xhr.responseType = \"blob\";\n      xhr.onload = () => saveAs(xhr.response, msg.filename);\n      xhr.send();\n    } else {\n      fetch(uri)\n        .then(res => res.blob())\n        .then(blob => {\n          saveAs(blob, msg.filename);\n        });\n    }\n  });\n\n});\n"],"names":["yonderInputBinding","Selector","Events","find","scope","querySelectorAll","SELF","getId","el","id","getType","Type","getValue","hasOwnProperty","selected","Array","prototype","slice","call","SELECTED","length","map","s","value","getAttribute","undefined","getState","data","attachHandler","type","selector","handler","callback","debounce","$","on","e","subscribe","$el","formElement","parent","closest","forEach","event","unsubscribe","off","_update","console","warn","_enable","_disable","_invalidate","input","querySelector","VALIDATE","classList","remove","add","feedback","innerHTML","message","_validate","receiveMessage","msg","values","choices","_clear","i","current","_value","_choice","_select","Shiny","InputBinding","buttonGroupInputBinding","extend","self","_VALUES","target","initialize","force","Date","now","newLabel","currentValue","index","buttons","newValue","button","enable","indexOf","invert","removeAttribute","disable","setAttribute","reset","inputBindings","register","buttonInputBinding","checkbarInputBinding","possibles","btn","parentNode","cloneNode","appendChild","insertAdjacentText","children","checkboxInputBinding","checked","fileInputBinding","_","_doUpload","stopPropagation","preventDefault","originalEvent","dataTransfer","files","_sendFile","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","err","error","send","hasAttribute","info","f","name","size","jobId","uploadUrl","formInputBinding","trigger","forms","filter","groupInputBinding","test","tagName","innerText","linkInputBinding","listGroupInputBinding","li","toggle","menuInputBinding","active","di","navInputBinding","activeItem","a","child","nl","disabled","addCustomMessageHandler","_show","pane","parentElement","contains","previous","complete","hiddenEvent","Event","relatedTarget","shownEvent","bootstrap","Tab","_activate","document","getElementById","radioInputBinding","nextElementSibling","radiobarInputBinding","inputs","rangeInputBinding","$input","ionRangeSlider","bgclasses","attr","split","c","join","addClass","removeClass","result","from","to","from_value","replace","dispose","destroy","selectInputBinding","op","opt","textualInputBinding","parseInput","getRatePolicy","policy","delay","badgeOutputBinding","OutputBinding","renderValue","renderError","clearError","outputBindings","progressHandlers","outlet","$outlet","$bar","content","replaceWith","append","tableInputBinding","JSON","stringify","table","tableOutputBinding","alertInputBinding","body","Alerts","$alert","action","onInputChange","push","appendTo","velocity","top","opacity","duration","easing","queue","setTimeout","item","shift","indeces","text","Object","entries","attrs","alert","includes","is","collapse","_render","dependencies","renderDependencies","container","initializeInputs","bindAll","_remove","unbindAll","log","modal","tooltip","popover","title","template","placement","filename","token","key","agent","window","navigator","userAgent","ie","ua","responseType","onload","saveAs","response","fetch","then","blob"],"mappings":"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"}