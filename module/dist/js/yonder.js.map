{"version":3,"file":"yonder.js","sources":["../../src/js/yonder-input-binding.js","../../src/js/input-binding-button-group.js","../../src/js/input-binding-button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-chip.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-group-input.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/input-binding-menu.js","../../src/js/input-binding-nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/output-binding-badge.js","../../src/js/output-binding-progress.js","../../src/js/thruput-binding-table.js","../../src/js/collapsible.js","../../src/js/element.js","../../src/js/modal.js","../../src/js/toast.js","../../src/js/yonder.js"],"sourcesContent":["export function yonderInputBinding() {\n  this.Selector = {};\n  this.Events = [];\n\n  this.find = function(scope) {\n    return scope.querySelectorAll(`${ this.Selector.SELF }[id]`);\n  };\n\n  this.getId = function(el) {\n    return el.id;\n  };\n\n  this.getType = function(el) {\n    return this.Type || false;\n  };\n\n  this.getValue = function(el) {\n    if (!this.Selector.hasOwnProperty(\"SELECTED\")) {\n      return null;\n    }\n\n    let selected = Array.prototype.slice.call(el.querySelectorAll(this.Selector.SELECTED));\n\n    if (!selected.length) {\n      return null;\n    }\n\n    return selected.map(s => {\n      let value = s.getAttribute(\"data-value\") || s.value;\n      return value === undefined ? null : value;\n    });\n  };\n\n  this.getState = function(el, data) {\n    return { value: this.getValue(el) };\n  };\n\n  this.attachHandler = function(el, type, selector, handler, callback, debounce) {\n    $(el).on(`${ type }.yonder`, (selector || null), (e) => {\n      if (handler) {\n        handler(el, e, this);\n      }\n\n      if (callback) {\n        callback(debounce || false);\n      }\n    });\n  };\n\n  this.subscribe = function(el, callback) {\n    let $el = $(el);\n\n    let formElement = false;\n    if ($el.parent().closest(\".yonder-form[id]\").length) {\n      $el.on(\"submission.yonder\", e => callback());\n      formElement = true;\n    }\n\n    // default events\n    this.Events.push({ type: \"change.yonder\" });\n    this.Events.push({ type: \"update.yonder\" });\n\n    this.Events.forEach(event => {\n      this.attachHandler(\n        el,\n        event.type, event.selector, event.callback,\n        formElement ? null : callback, event.debounce\n      );\n    });\n  };\n\n  this.unsubscribe = function(el) {\n    $(el).off(\"yonder\");\n  };\n\n  this._update = (el, data) => {\n    console.warn(\"no _update method\");\n  };\n\n  this._enable = (el, data) => {\n    console.warn(\"no _enable method\");\n  };\n\n  this._disable = (el, data) => {\n    console.warn(\"no _disable method\");\n  };\n\n  this._invalidate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support invalidation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-valid\");\n    input.classList.add(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = data.message;\n    }\n  };\n\n  this._validate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support validation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = \"\";\n    }\n  };\n\n  this.receiveMessage = function(el, msg) {\n    if (!msg.type || msg.data === undefined) {\n      return false;\n    }\n\n    switch (msg.type) {\n    case \"update\":\n      this._update(el, msg.data);\n      break;\n\n    case \"change\":\n      this._select(el, msg.data);\n      break;\n\n    case \"enable\":\n      this._enable(el, msg.data);\n      break;\n\n    case \"disable\":\n      this._disable(el, msg.data);\n      break;\n\n    case \"invalidate\":\n      this._invalidate(el, msg.data);\n      break;\n\n    case \"validate\":\n      this._validate(el, msg.data);\n      break;\n    }\n\n    if (msg.type === \"change\" && msg.data.propagate === false) {\n      return false;\n    }\n\n    $(el).trigger(`${ msg.type }.yonder`);\n\n    return false;\n  };\n}\n\nif (typeof Shiny !== \"undefined\") {\n  yonderInputBinding.call(Shiny.InputBinding.prototype);\n}\n","export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  Selector: {\n    SELF: \".yonder-button-group\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"button\",\n      callback: (el, e, self) => {\n        self._VALUES[el.id] = e.currentTarget.value;\n      }\n    }\n  ],\n  _VALUES: {},\n  getType: (el) => \"yonder.buttonGroup\",\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _update: (el, data) => {\n    let template = el.querySelector(\"button\").cloneNode();\n    template.removeAttribute(\"disabled\");\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let child = template.cloneNode();\n      child.innerHTML = choice;\n      child.value = data.values[i];\n\n      el.appendChild(child);\n    });\n  },\n  _enable: function(el, data) {\n    let values = data.values;\n\n    el.querySelectorAll(\"button\").forEach(button => {\n      let enable = !values.length || values.indexOf(button.value) > -1;\n\n      if (enable !== data.invert) {\n        button.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let values = data.values;\n\n    el.querySelectorAll(\"button\").forEach(button => {\n      let disable = !values.length || values.indexOf(button.value) > -1;\n\n      if (data.reset) {\n        button.removeAttribute(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        button.setAttribute(\"disabled\", \"\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  Selector: {\n    SELF: \".yonder-button\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      callback: el => el.value = +el.value + 1\n    }\n  ],\n  initialize: (el) => {\n    el.value = 0;\n  },\n  getValue: (el) => {\n    return +el.value > 0 ? +el.value : null;\n  },\n  _update: (el, data) => {\n    el.innerHTML = data.choices[0];\n\n    if (data.choices !== data.values) {\n      el.value = parseInt(data.values[0], 10) || 0;\n    }\n  },\n  _enable: (el, data) => {\n    if (!data.invert) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n  },\n  _disable: (el, data) => {\n    if (!data.invert) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbar\",\n    SELECTED: \"input:checked\"\n  },\n  Events: [\n    { type: \"change\", selector: \".btn\" }\n  ],\n  _update: (el, data) => {\n    let template = el.querySelector(\".btn\").cloneNode(true);\n    template.classList.remove(\"active\");\n    template.classList.remove(\"disabled\");\n    template.children[0].removeAttribute(\"disabled\");\n\n    let input = template.children[0].cloneNode();\n    template.innerHTML = \"\";\n    template.appendChild(input);\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let child = template.cloneNode(true);\n      child.insertAdjacentHTML(\"beforeend\", choice);\n      child.children[0].value = data.values[i];\n\n      if (data.selected.indexOf(data.values[i]) > -1) {\n        child.classList.add(\"active\");\n        child.children[0].checked = true;\n      }\n\n      el.appendChild(child);\n    });\n  },\n  _select: function(el, data) {\n    el.querySelectorAll(\".btn\").forEach(child => {\n      let value = child.children[0].value;\n\n      if (data.reset) {\n        child.classList.remove(\"active\");\n        child.children[0].checked = false;\n      }\n\n      let match = data.fixed ? data.pattern.indexOf(value) > -1 :\n          RegExp(data.pattern, \"i\").test(value);\n\n      if (match !== data.invert) {\n        child.classList.add(\"active\");\n        child.children[0].checked = true;\n      }\n    });\n  },\n  _enable: function(el, data) {\n    let values = data.values;\n    el.querySelectorAll(\".btn\").forEach(btn => {\n      let enable = !values.length || values.indexOf(btn.children[0].value) > -1;\n\n      if (enable !== data.invert) {\n        btn.classList.remove(\"disabled\");\n        btn.children[0].removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let values = data.values;\n    el.querySelectorAll(\".btn\").forEach(btn => {\n      let disable = !values.length || values.indexOf(btn.children[0].value) > -1;\n\n      if (data.reset) {\n        btn.classList.remove(\"disabled\");\n        btn.children[0].removeAttribute(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        btn.classList.add(\"disabled\");\n        btn.children[0].setAttribute(\"disabled\", \"\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbox\",\n    SELECTED: \".custom-control-input:checked:not(:disabled)\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  _update: (el, data) => {\n    let template = el.querySelector(\".custom-checkbox\").cloneNode(true);\n    template.children[0].checked = false;\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let child = template.cloneNode(true);\n      child.children[0].value = data.values[i];\n      child.children[1].innerHTML = choice;\n\n      if (data.selected.indexOf(data.values[i]) > -1) {\n        child.children[0].checked = true;\n      }\n\n      el.appendChild(child);\n    });\n  },\n  _select: function(el, data) {\n    el.querySelectorAll(\".custom-checkbox\").forEach(child => {\n      let value = child.children[0].value;\n\n      if (data.reset) {\n        child.children[0].checked = false;\n      }\n\n      let match = data.fixed ? data.pattern.indexOf(value) > -1 :\n          RegExp(data.pattern, \"i\").test(value);\n\n      if (match !== data.invert) {\n        child.children[0].checked = true;\n      }\n    });\n  },\n  _enable: function(el, data) {\n    el.querySelectorAll(\"input\").forEach(input => {\n      let enable = !data.values.length && data.values.indexOf(input.value) > -1;\n\n      if (enable !== data.invert) {\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    el.querySelectorAll(\"input\").forEach(input => {\n      let disable = !data.values.length && data.values.indexOf(input.value) > -1;\n\n      if (data.reset) {\n        input.removeAttribute(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        input.setAttribute(\"disabled\", \"\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let chipInputBinding = new Shiny.InputBinding();\n\n$.extend(chipInputBinding, {\n  Selector: {\n    SELF: \".yonder-chip\",\n    SELECTED: \".active\",\n    TOGGLE: \"input[data-toggle='dropdown']\"\n  },\n  Events: [\n    {\n      type: \"input\",\n      callback: (el, event, self) => {\n        let value = el.querySelector(self.Selector.TOGGLE).value;\n        self.filterItems(el, value);\n\n        if (self.visibleItems(el) === 0) {\n          $(el.querySelector(self.Selector.TOGGLE)).dropdown(\"hide\");\n        } else {\n          $(el.querySelector(self.Selector.TOGGLE)).dropdown(\"show\");\n        }\n      }\n    },\n    {\n      type: \"input change\",\n      callback: (el, event, self) => {\n        $(el.querySelector(self.Selector.TOGGLE)).dropdown(\"update\");\n      }\n    },\n    {\n      type: \"hide.bs.dropdown\",\n      callback: (el, event, self) => {\n        if (el.querySelector(\"input:focus\") === null) {\n          el.querySelector(\"input\").value = \"\";\n          self.filterItems(el, \"\");\n        }\n      }\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item\",\n      callback: (el, event, self) => {\n        event.stopPropagation();\n\n        self.addChip(el, event.currentTarget.value);\n\n        el.querySelector(self.Selector.TOGGLE).focus();\n      }\n    },\n    {\n      type: \"click\",\n      selector: \".chip\",\n      callback: (el, event, self) => {\n        self.removeChip(el, event.currentTarget.value);\n      }\n    }\n  ],\n\n  enableToggle: (el) => {\n    let input = el.querySelector(\"input\");\n    input.removeAttribute(\"disabled\");\n    input.classList.remove(\"disabled\");\n  },\n  disableToggle: (el) => {\n    let input = el.querySelector(\"input\");\n    input.setAttribute(\"disabled\", \"\");\n    input.classList.add(\"disabled\");\n  },\n\n  filterItems: (el, value) => {\n    el.querySelectorAll(\".dropdown-item\").forEach(item => {\n      let match = item.innerText.toLowerCase().indexOf(value) !== -1;\n\n      if (match) {\n        item.classList.remove(\"filtered\");\n      } else {\n        item.classList.add(\"filtered\");\n      }\n    });\n  },\n  visibleItems: (el) => {\n    return el.querySelectorAll(\":not(.selected), :not(.filtered)\").length;\n  },\n  selectedItems: (el) => {\n    return el.querySelectorAll(\".selected\").length;\n  },\n  getItem: function(el, value) {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".dropdown-item\"),\n      chip => chip.value === value\n    );\n  },\n\n  addChip: function(el, value) {\n    this.getItem(el, value).forEach(item => item.classList.add(\"selected\"));\n\n    this.getChip(el, value).forEach(chip => chip.classList.add(\"active\"));\n\n    if (this.visibleItems(el) === 0) {\n      $(el.querySelector(this.Selector.TOGGLE)).dropdown(\"hide\");\n    }\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max === -1 || this.selectedItems(el) < max) {\n      $(el.querySelector(this.Selector.TOGGLE)).dropdown(\"update\");\n    } else {\n      $(el.querySelector(this.Selector.TOGGLE)).dropdown(\"hide\");\n      this.disableToggle(el);\n    }\n  },\n  removeChip: function(el, value) {\n    let max = +el.getAttribute(\"data-max\");\n\n    this.getChip(el, value).forEach(chip => chip.classList.remove(\"active\"));\n\n    this.getItem(el, value).forEach(item => item.classList.remove(\"selected\"));\n\n    if (max === -1 || this.selectedItems(el) < max) {\n      this.enableToggle(el);\n    }\n  },\n  getChip: function(el, value) {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".chip\"),\n      chip => chip.value === value\n    );\n  },\n\n  initialize: function(el) {\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max !== -1 && this.selectedItems(el) >= max) {\n      this.disableToggle(el);\n    }\n  },\n  _update: function(el, data) {\n    let itemTemplate = el.querySelector(\".dropdown-item\").cloneNode();\n    itemTemplate.value = \"\";\n    itemTemplate.innerText = \"\";\n    itemTemplate.classList.remove(\"selected\");\n    itemTemplate.classList.remove(\"filtered\");\n\n    let chipTemplate = el.querySelector(\".chip\").cloneNode(true);\n    chipTemplate.value = \"\";\n    chipTemplate.children[0].innerHTML = \"\";\n    chipTemplate.classList.remove(\"active\");\n\n    let menu = el.querySelector(\".dropdown-menu\");\n    let chips = el.querySelector(\".chips\");\n\n    menu.innerHTML = \"\";\n    chips.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let item = itemTemplate.cloneNode();\n      item.value = data.values[i];\n      item.innerHTML = choice;\n\n      let chip = chipTemplate.cloneNode(true);\n      chip.value = data.values[i];\n      chip.children[0].innerHTML = choice;\n\n      if (data.selected.indexOf(data.values[i]) > -1) {\n        item.classList.add(\"selected\");\n        chip.classList.add(\"active\");\n      }\n\n      menu.appendChild(item);\n      chips.appendChild(chip);\n    });\n  },\n  _select: function(el, data) {\n    el.querySelectorAll(\".chip\").forEach(item => {\n      let value = item.value;\n\n      if (data.reset) {\n        this.removeChip(el, value);\n      }\n\n      let match = data.fixed ? data.pattern.indexOf(value) > -1 :\n        RegExp(data.pattern, \"i\").test(value);\n\n      if (match != data.invert) {\n        this.addChip(el, value);\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(chipInputBinding, \"yonder.chipInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  bsCustomFileInput.init(\".yonder-file[id] input[type='file']\");\n});\n\n$.extend(fileInputBinding, {\n  Selector: {\n    SELF: \".yonder-file\",\n    VALIDATE: \"input[type='file']\"\n  },\n  Events: [\n    {\n      type: \"change\",\n      callback: (el, _, self) => {\n        if (el.querySelector(\"button\") !== null) return;\n\n        self._doUpload(el);\n      }\n    },\n    {\n      type: \"click\",\n      selector: \"button\",\n      callback: (el, _, self) => self._doUpload(el)\n    },\n    {\n      type: \"dragover\",\n      callback: (_, e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    },\n    {\n      type: \"dragcenter\",\n      callback: (_, e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    },\n    {\n      type: \"drop\",\n      callback: (el, e, self) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        self._doUpload(el, e.originalEvent.dataTransfer.files);\n      }\n    }\n  ],\n  getValue: el => null,\n  _value: () => null,\n  _choice: () => null,\n  _select: () => null,\n  _clear: () => null,\n  _enable: function(el, data) {\n    el.querySelector(\"input[type='file']\").removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input[type='file']\").setAttribute(\"disabled\", \"\");\n  },\n  _sendFile: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            el.querySelector(\"input[type='file']\").value = \"\";\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _doUpload: function(el, files) {\n    let input = el.querySelector(\"input[type='file']\");\n\n    if (files === undefined) {\n      files = input.files;\n    }\n\n    if (!files) {\n      return;\n    }\n\n    if (!input.hasAttribute(\"multiple\")) {\n      files = Array.prototype.slice.call(files, 0, 1);\n    } else {\n      files = Array.prototype.slice.call(files);\n    }\n\n    let info = files.map(f => {\n      return { name: f.name, size: f.size, type: f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._sendFile(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  }\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  Events: [\n    {\n      type: \"click\",\n      selector: \".yonder-submit\",\n      callback: (el, e, self) => {\n        self._VALUES[el.id] = e.currentTarget.value;\n        $(el.querySelectorAll(\".shiny-bound-input\")).trigger(\"submission.yonder\");\n      }\n    }\n  ],\n  Type: \"yonder.form\",\n  _VALUES: {},\n  find: function(scope) {\n    let forms = Array.prototype.slice.call(scope.querySelectorAll(\".yonder-form[id]\"));\n\n    return forms.filter(f => f.querySelector(\".yonder-submit\") !== null);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _value: () => null,\n  _choice: () => null,\n  _select: () => null,\n  _clear: () => null,\n  _enable: () => null,\n  _disable: () => null\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let groupInputBinding = new Shiny.InputBinding();\n\n$.extend(groupInputBinding, {\n  Selector: {\n    SELF: \".yonder-group[id]\",\n    SELECTED: \".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\",\n    VALIDATE: \"input\"\n  },\n  Events: [\n    { type: \"input\", debounce: true },\n    { type: \"change\", debounce: true }\n  ],\n  Type: \"yonder.group\",\n  getValue: function(el) {\n    return Array.prototype.slice.call(el.querySelectorAll(this.Selector.SELECTED))\n      .map(s => /^(DIV|SPAN)$/.test(s.tagName) ? s.innerText : (s.value || null))\n      .filter(value => value !== null);\n  },\n  _update: (el, data) => {\n    el.querySelector(\"input\").value = data.values[0];\n  },\n  _enable: function(el, data) {\n    el.querySelector(\"input\").removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n  }\n});\n\nShiny.inputBindings.register(groupInputBinding, \"yonder.groupInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  Selector: {\n    SELF: \".yonder-link[id]\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      callback: (el) => el.value = +el.value + 1\n    }\n  ],\n  initialize: function(el) {\n    el.value = 0;\n  },\n  getValue: (el) => {\n    return +el.value > 0 ? +el.value : null;\n  },\n  _update: (el, data) => {\n    el.value = data.values[0];\n    el.innerText = data.choices[0];\n  },\n  _disable: function(el, data) {\n    el.classList.add(\"disabled\");\n    el.setAttribute(\"disabled\", \"\");\n  },\n  _enable: function(el, data) {\n    el.classList.remove(\"disabled\");\n    el.removeAttribute(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","export let listGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(listGroupInputBinding, {\n  Selector: {\n    SELF: \".yonder-list-group\",\n    SELECTED: \".active:not(.disabled)\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \".list-group-item-action:not(.active):not(.disabled)\",\n      callback: (el, event, _) => {\n        el.querySelectorAll(\".active\")\n          .forEach(item => item.classList.remove(\"active\"));\n\n        event.currentTarget.classList.add(\"active\");\n      }\n    },\n    {\n      type: \"click\",\n      selector: \".active:not(.disabled)\",\n      callback: (el, event, _) => {\n        event.currentTarget.classList.remove(\"active\");\n      }\n    }\n  ],\n  _update: (el, data) => {\n    let template = el.querySelector(\".list-group-item\").cloneNode();\n    template.classList.remove(\"active\");\n    template.classList.remove(\"disabled\");\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let item = template.cloneNode();\n      item.innerHTML = choice;\n      item.value = data.values[i];\n\n      if (data.selected.indexOf(data.values[i]) > -1) {\n        item.classList.add(\"active\");\n      }\n\n      el.appendChild(item);\n    });\n  },\n  _select: function(el, data) {\n    el.querySelectorAll(\".list-group-item\").forEach(item => {\n      let value = item.value;\n\n      if (data.reset) {\n        item.classList.remove(\"active\");\n      }\n\n      let match = data.fixed ? data.pattern.indexOf(value) > -1 :\n          RegExp(data.pattern, \"i\").test(value);\n\n      if (match !== data.invert) {\n        item.classList.add(\"active\");\n      }\n    });\n  },\n  _enable: (el, data) => {\n    let values = data.values;\n    el.querySelectorAll(\".list-group-item\").forEach(item => {\n      let enable = !values.length || values.indexOf(item.value) > -1;\n\n      if (enable !== data.invert) {\n        item.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _disable: (el, data) => {\n    let values = data.values;\n    el.querySelectorAll(\".list-group-item\").forEach(item => {\n      let disable = !values.length || values.indexOf(item.value) > -1;\n\n      if (data.reset) {\n        item.classList.remove(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        item.classList.add(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","export let menuInputBinding = new Shiny.InputBinding();\n\n$.extend(menuInputBinding, {\n  Selector: {\n    SELF: \".yonder-menu\",\n    SELECTED: \".dropdown-item.active\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, e) => {\n        let active = el.querySelector(\".dropdown-item.active\");\n        if (active !== null) {\n          active.classList.remove(\"active\");\n        }\n        e.currentTarget.classList.add(\"active\");\n      }\n    },\n    {\n      type: \"nav.reset\",\n      callback: (el) => {\n        let active = el.querySelector(\".dropdown-item.active\");\n        if (active !== null) {\n          active.classList.remove(\"active\");\n        }\n      }\n    }\n  ],\n  _update: (el, data) => {\n    let template = el.querySelector(\".dropdown-item\").cloneNode();\n    template.removeClass(\"disabled\");\n    template.removeClass(\"active\");\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let child = template.cloneNode();\n      child.innerHTML = choice;\n      child.value = data.values[i];\n\n      if (data.selected.indexOf(data.values[i]) > -1) {\n        child.classList.add(\"active\");\n      }\n\n      el.appendChild(child);\n    });\n  },\n  _select: (el, data) => {\n    el.querySelectorAll(\".dropdown-item\").forEach(child => {\n      let value = child.value;\n\n      if (data.reset) {\n        child.classList.remove(\"active\");\n      }\n\n      let match = data.fixed ? data.pattern.indexOf(value) > -1 :\n          RegExp(data.pattern, \"i\").test(value);\n\n      if (match !== data.inverted) {\n        child.classList.add(\"active\");\n      }\n    });\n  },\n  _enable: function(el, data) {\n    el.querySelectorAll(\".dropdown-item\").forEach(di => {\n      let enable = !data.values.length || data.values.indexOf(di.value) > -1;\n\n      if (enable !== data.invert) {\n        di.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    el.querySelectorAll(\".dropdown-item\").forEach(di => {\n      let disable = !data.values.length || data.values.indexOf(di.value) > -1;\n\n      if (data.reset) {\n        di.classList.remove(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        di.classList.add(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(menuInputBinding, \"yonder.menuInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$.extend(navInputBinding, {\n  Selector: {\n    SELF: \".yonder-nav\",\n    SELECTED: \".nav-link.active:not(.disabled)\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \".nav-link:not(.dropdown-toggle):not(.disabled)\",\n      callback: (el, e) => {\n        let activeItem = el.querySelector(\".dropdown-item.active\");\n        if (activeItem !== null) {\n          // trigger reset on menu input\n          $(activeItem.parentNode.parentNode).trigger(\"nav.reset\");\n        }\n\n        el.querySelectorAll(\".nav-link.active\").forEach(a => {\n          a.classList.remove(\"active\");\n        });\n\n        e.currentTarget.classList.add(\"active\");\n      }\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, e) => {\n        el.querySelectorAll(\".active\").forEach(a => {\n          a.classList.remove(\"active\");\n        });\n\n        e.currentTarget.parentNode.parentNode.children[0].classList.add(\"active\");\n        e.currentTarget.classList.add(\"active\");\n      }\n    }\n  ],\n  _update: (el, data) => {\n    let template = el.querySelector(\".nav-item\").cloneNode(true);\n    template.children[0].classList.remove(\"active\");\n    template.children[0].classList.remove(\"disabled\");\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let child = template.cloneNode(true);\n      child.children[0].innerHTML = choice;\n      child.children[0].value = data.values[i];\n\n      if (data.selected.indexOf(data.values[i]) > -1) {\n        child.children[0].classList.add(\"active\");\n      }\n\n      el.appendChild(child);\n    });\n  },\n  _select: (el, data) => {\n    el.querySelectorAll(\".nav-link\").forEach(child => {\n      let value = child.value;\n\n      if (data.reset) {\n        child.classList.remove(\"active\");\n      }\n\n      let match = data.fixed ? data.pattern.indexOf(value) > -1 :\n          RegExp(data.pattern, \"i\").test(value);\n\n      if (match !== data.invert) {\n        child.classList.add(\"active\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    el.querySelectorAll(\".nav-link\").forEach(nl => {\n      let disabled = !data.values.length || data.values.indexOf(nl.value) > -1;\n\n      if (data.reset) {\n        nl.classList.remove(\"disabled\");\n      }\n\n      if (disabled !== data.invert) {\n        nl.classList.add(\"disabled\");\n      }\n    });\n  },\n  _enable: function(el, data) {\n    el.querySelectorAll(\".nav-link\").forEach(nl => {\n      let enable = !data.values.length || data.values.indexOf(nl.value) > -1;\n\n      if (enable !== data.invert) {\n        nl.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\")) {\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  // let _hide = function(pane) {\n  //   let current = pane.parent\n  // };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(document.getElementById(msg.data.target));\n  }\n});\n","export let radioInputBinding = new Shiny.InputBinding();\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min; // The maximum is exclusive and the minimum is inclusive\n}\n\n$.extend(radioInputBinding, {\n  Selector: {\n    SELF: \".yonder-radio[id]\",\n    SELECTED: \".custom-control-input:checked:not(:disabled)\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  _update: (el, data) => {\n    let template = el.querySelector(\".custom-radio\").cloneNode(true);\n    template.children[0].removeAttribute(\"id\");\n    template.children[0].removeAttribute(\"checked\");\n    template.children[1].removeAttribute(\"for\");\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let id = `radio-${ getRandomInt(100, 1000) }-${ getRandomInt(100, 1000) }`;\n      let child = template.cloneNode(true);\n\n      child.children[1].innerHTML = choice;\n      child.children[1].setAttribute(\"for\", id);\n\n      child.children[0].value = data.values[i];\n      child.children[0].setAttribute(\"id\", id);\n\n      if (data.selected.indexOf(data.values[i]) > -1) {\n        child.children[0].setAttribute(\"checked\", \"\");\n      }\n\n      el.appendChild(child);\n    });\n  },\n  _select: (el, data) => {\n    el.querySelectorAll(\".custom-control-input\").forEach(child => {\n      let value = child.value;\n\n      if (data.reset) {\n        child.removeAttribute(\"checked\");\n      }\n\n      let match = data.fixed ? data.pattern.indexOf(value) > -1 :\n          RegExp(data.pattern, \"i\").test(value);\n\n      if (match !== data.invert) {\n        child.setAttribute(\"checked\", \"\");\n      }\n    });\n  },\n  _enable: (el, data) => {\n    el.querySelectorAll(\".custom-control-input\").forEach(input => {\n      let enable = !data.values.length || data.values.indexOf(input.value) > -1;\n\n      if (enable !== data.invert) {\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: (el, data) => {\n    el.querySelectorAll(\".custom-control-input\").forEach(input => {\n      let disable = !data.values.length || data.values.indexOf(input.value) > -1;\n\n      if (data.reset) {\n        input.removeAttribute(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        input.setAttribute(\"disabled\", \"\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    SELECTED: \"input:checked:not(:disabled)\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  _update: (el, data) => {\n    let template = el.querySelector(\".btn\").cloneNode(true);\n    template.classList.remove(\"active\");\n    template.classList.remove(\"disabled\");\n\n    let input = template.children[0].cloneNode();\n    input.removeAttribute(\"checked\");\n\n    template.innerHTML = \"\";\n    template.appendNode(input);\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let child = template.cloneNode(true);\n      child.insertAdjacentHTML(\"beforeend\", choice);\n      child.children[0].value = data.values[i];\n\n      if (data.selected.indexOf(data.values[i]) > -1) {\n        child.classList.add(\"active\");\n        child.children[0].setAttribute(\"checked\", \"\");\n      }\n\n      el.appendChild(child);\n    });\n  },\n  _select: function(el, data) {\n    el.querySelectorAll(\".btn\").forEach(child => {\n      let value = child.children[0].value;\n\n      if (data.reset) {\n        child.classList.remove(\"active\");\n        child.children[0].removeAttribute(\"checked\");\n      }\n\n      let match = data.fixed ? data.pattern.indexOf(value) > -1 :\n          RegExp(data.pattern, \"i\").test(value);\n\n      if (match !== data.invert) {\n        child.classList.add(\"active\");\n        child.children[0].setAttribute(\"checked\", \"\");\n      }\n    });\n  },\n  _enable: function(el, data) {\n    let values = data.values;\n    el.querySelectorAll(\"input\").forEach(input => {\n      let enable = !values.length || values.indexOf(input.value) > -1;\n\n      if (enable !== data.invert) {\n        input.parentNode.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let values = data.values;\n    el.querySelectorAll(\"input\").forEach(input => {\n      let disable = !values.length || values.indexOf(input.value) > -1;\n\n      if (data.reset) {\n        input.parentNode.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        input.parentNode.classList.add(\"disabled\");\n        input.setAttribute(\"disabled\", \"\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  Selector: {\n    SELF: \".yonder-range[id]\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  initialize: (el) => {\n    $(el.querySelector(\"input\")).ionRangeSlider();\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  getValue: function(el) {\n    var $input = $(\"input[type='text']\", el);\n    var data = $input.data(\"ionRangeSlider\");\n\n    if ($input.data(\"type\") === \"double\") {\n      return [data.result.from, data.result.to];\n    } else if ($input.data(\"type\") === \"single\") {\n      if (data.result.from_value !== null) {\n        return data.result.from_value.replace(\"&#44;\", \",\");\n      } else {\n        return data.result.from;\n      }\n    } else {\n      return null;\n    }\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: (el, data) => {\n    $(el.querySelector(\".irs-hidden-input\")).data(\"ionRangeSlider\").update({\n      values: data.values\n    });\n  },\n  _select: (el, data) => {\n    $(el.querySelector(\".irs-hidden-input\")).data(\"ionRangeSlider\");\n    // need to check if input is a numeric range input or choices slider\n  },\n  dispose: function(el) {\n    $(el.querySelector(\".irs-hidden-input\")).data(\"ionRangeSlider\").destroy();\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  Selector: {\n    SELF: \".yonder-select\",\n    SELECTED: \"option:checked:not(:disabled)\",\n    VALIDATE: \"select\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  _update: (el, data) => {\n    let select = el.children[0];\n    let template = el.querySelector(\"option\").cloneNode();\n    template.removeAttribute(\"selected\");\n    template.removeAttribute(\"disabled\");\n\n    select.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let child = template.cloneNode();\n      child.innerText = choice;\n      child.value = data.values[i];\n\n      if (data.selected.indexOf(data.values[i]) > -1) {\n        child.selected = true;\n      }\n\n      select.appendChild(child);\n    });\n  },\n  _select: (el, data) => {\n    el.querySelectorAll(\"option\").forEach(child => {\n      let value = child.value;\n\n      if (data.reset === true) {\n        child.removeAttribute(\"selected\");\n      }\n\n      let match = data.fixed ? data.pattern.indexOf(value) > -1 :\n          RegExp(data.pattern, \"i\").test(value);\n\n      if (match !== data.invert) {\n        el.querySelector(\"select\").value = value;\n      }\n    });\n  },\n  _enable: (el, data) => {\n    el.querySelectorAll(\"option\").forEach(opt => {\n      let enable = !data.values.length || data.values.indexOf(opt.value);\n\n      if (enable !== data.invert) {\n        opt.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: (el, data) => {\n    el.querySelectorAll(\"option\").forEach(opt => {\n      let disable = !data.values.length || data.values.indexOf(opt.value);\n\n      if (data.reset) {\n        opt.removeAttribute(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        opt.setAttribute(\"disabled\", \"\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  Selector: {\n    SELF: \".yonder-textual\",\n    VALIDATE: \"input\"\n  },\n  Events: [\n    { type: \"change\", debounce: true },\n    { type: \"input\", debounce: true }\n  ],\n  getValue: (el) => {\n    let input = el.children[0];\n    return input.type === \"number\" ? parseInt(input.value, 10) : input.value;\n  },\n  getRatePolicy: function() {\n    return {\n      policy: \"debounce\",\n      delay: 250\n    };\n  },\n  _update: (el, data) => {\n    el.children[0].value = data.values[0];\n  },\n  _disable: (el, data) => {\n    el.children[0].setAttribute(\"disabled\", \"\");\n  },\n  _enable: (el, data) => {\n    el.children[0].removeAttribute(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n","export let badgeOutputBinding = new Shiny.OutputBinding();\n\n$.extend(badgeOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-badge[id]\");\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  renderValue: function(el, msg) {\n    if (msg.data !== undefined) {\n      el.innerHTML = msg.data;\n    }\n  },\n  renderError: function(el, data) {\n\n  },\n  clearError: function(el) {\n\n  }\n});\n\nShiny.outputBindings.register(badgeOutputBinding, \"yonder.badgeOutput\");\n","$.extend(Shiny.progressHandlers, {\n  \"yonder-progress\": (msg) => {\n    if (!msg.type || !msg.data.outlet) {\n      return false;\n    }\n\n    let $outlet = $(`#${ msg.data.outlet }`);\n\n    if (msg.type === \"show\") {\n      let $bar = $(msg.data.content);\n\n      if ($bar[0].id && $outlet.find(`#${ $bar[0].id }`).length) {\n        $outlet.find(`#${ $bar[0].id }`).replaceWith($bar);\n      } else {\n        $outlet.append($bar);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n});\n","export let tableInputBinding = new Shiny.InputBinding();\n\n$.extend(tableInputBinding, {\n  Selector: {\n    SELF: \".yonder-table[id]\"\n  },\n  Type: \"yonder.table\",\n  Events: [\n    { type: \"chabudai:select\" },\n    { type: \"chabudai:edited\" }\n  ],\n  getValue: function(el) {\n    return JSON.stringify($(el).table(\"selected\"));\n  },\n  receiveMessage: function(el, msg) {\n    return;\n  }\n});\n\nexport let tableOutputBinding = new Shiny.OutputBinding();\n\n$.extend(tableOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-table[id]\");\n  },\n  renderValue: function(el, msg) {\n    if (msg.data) {\n      $(el).table({ \"data\": msg.data });\n    }\n  }\n});\n\nShiny.inputBindings.register(tableInputBinding, \"yonder.tableInput\");\nShiny.outputBindings.register(tableOutputBinding, \"yonder.tableOutput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:element\", (msg) => {\n  let _render = (data) => {\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n    container.innerHTML = data.content;\n\n    Shiny.initializeInputs(container);\n    Shiny.bindAll(container);\n  };\n\n  let _remove = (data) => {\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n\n    container.innerHTML = \"\";\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"render\") {\n    _render(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no element ${ msg.type } method`);\n  }\n});\n","$(() => {\n  $(document).on(\"hidden.bs.modal\", \".modal\", (e) => {\n    Shiny.unbindAll(e.currentTarget);\n  });\n});\n\nShiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  let _hide = function(data) {\n    $(document.getElementById(data.id)).modal(\"hide\");\n  };\n\n  let _show = function(data) {\n    let modal = document.getElementById(data.id);\n\n    if (data.exprs) {\n      Object.keys(data.exprs).forEach(key => {\n        let outlet = modal.querySelector(`span[data-target='${ data.id }__${ key }']`);\n\n        if (outlet) {\n          outlet.innerHTML = data.exprs[key];\n        }\n      });\n    }\n\n    $(modal).modal(\"show\");\n  };\n\n  let _register = function(data) {\n    let modal = document.createElement(\"div\");\n    modal.classList.add(\"modal\");\n    modal.classList.add(\"fade\");\n    modal.setAttribute(\"tabindex\", -1);\n    modal.setAttribute(\"role\", \"dialog\");\n    modal.setAttribute(\"id\", data.id);\n\n    if (data.dependencies !== undefined) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    document.body.appendChild(modal);\n\n    let content = data.content.replace(/[{]\\s*([a-z0-9_.]+)\\s*[}]/g, (m, id) => {\n      return `<span data-target='${ data.id }__${ id }'></span>`;\n    });\n    modal.insertAdjacentHTML(\"afterbegin\", content);\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n  };\n\n  if (msg.type === \"hide\") {\n    _hide(msg.data);\n  } else if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"register\") {\n    _register(msg.data);\n  } else {\n    console.warn(`no modal ${ msg.type } method`);\n  }\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\n    \"beforeend\",\n    \"<div class='toasts'></div>\"\n  );\n\n  $(\".toasts\").on(\"hidden.bs.toast\", \".toast\", (e) => {\n    if (e.currentTarget.hasAttribute(\"data-action\")) {\n      let action = e.currentTarget.getAttribute(\"data-action\");\n      Shiny.onInputChange(action, true);\n      setTimeout(() => Shiny.onInputChange(action, null), 100);\n    }\n\n    e.delegateTarget.removeChild(e.currentTarget);\n  });\n});\n\nShiny.addCustomMessageHandler(\"yonder:toast\", (msg) => {\n  let _show = function(data) {\n    document\n      .querySelector(\".toasts\")\n      .insertAdjacentHTML(\"beforeend\", data.content);\n\n    $(\".toasts > .toast:last-child\").toast(\"show\");\n  };\n\n  let _close = function(data) {\n    let toasts = document.querySelectorAll(\".toasts .toast\");\n\n    if (toasts.length) {\n      $(toasts).toast(\"hide\");\n    }\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no toast ${ msg.type } method`);\n  }\n});\n","import \"./yonder-input-binding.js\";\n\nimport \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-chip.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-group-input.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport \"./input-binding-menu.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./output-binding-badge.js\";\nimport \"./output-binding-progress.js\";\n\nimport \"./thruput-binding-table.js\";\n\nimport \"./collapsible.js\";\nimport \"./element.js\";\nimport \"./modal.js\";\nimport \"./toast.js\";\n\n$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n  $(\"[data-toggle=\\\"popover\\\"]\").popover();\n\n  $(document).on(\"shiny:connected\", function() {\n    $(\".yonder-submit[data-type=\\\"submit\\\"]\").attr(\"type\", \"submit\");\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n    if (msg.data.target === undefined) {\n      return;\n    }\n\n    if (msg.type == \"show\") {\n      let data = msg.data;\n      let target = `#${ data.target }`;\n\n      $(target).popover({\n        title: () => undefined,\n        content: () => undefined,\n        template: data.content,\n        placement: data.placement,\n        trigger: \"manual\"\n      });\n\n      if (data.duration) {\n        setTimeout(\n          () => $(target).popover(\"hide\"),\n          data.duration\n        );\n      }\n\n      $(target).popover(\"show\");\n\n      return;\n    }\n\n    if (msg.type == \"close\") {\n      $(`#${ msg.data.id }`).popover(\"hide\");\n\n      return;\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:download\", function(msg) {\n    if (!(msg.filename && msg.token && msg.key)) {\n      throw \"invalid download event\";\n    }\n\n    const uri = \"/session/\" + msg.token + \"/download/\" + msg.key;\n\n    let agent = window.navigator.userAgent;\n    let ie = ua.indexOf(\"MSIE \");\n\n    if (ie > 0) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", uri);\n      xhr.responseType = \"blob\";\n      xhr.onload = () => saveAs(xhr.response, msg.filename);\n      xhr.send();\n    } else {\n      fetch(uri)\n        .then(res => res.blob())\n        .then(blob => {\n          saveAs(blob, msg.filename);\n        });\n    }\n  });\n\n});\n"],"names":["yonderInputBinding","Selector","Events","find","scope","querySelectorAll","SELF","getId","el","id","getType","Type","getValue","hasOwnProperty","selected","Array","prototype","slice","call","SELECTED","length","map","s","value","getAttribute","undefined","getState","data","attachHandler","type","selector","handler","callback","debounce","$","on","e","subscribe","$el","formElement","parent","closest","push","forEach","event","unsubscribe","off","_update","console","warn","_enable","_disable","_invalidate","input","querySelector","VALIDATE","classList","remove","add","feedback","innerHTML","message","_validate","receiveMessage","msg","_select","propagate","trigger","Shiny","InputBinding","buttonGroupInputBinding","extend","self","_VALUES","currentTarget","initialize","force","Date","now","template","cloneNode","removeAttribute","choices","choice","i","child","values","appendChild","button","enable","indexOf","invert","disable","reset","setAttribute","inputBindings","register","buttonInputBinding","parseInt","checkbarInputBinding","children","insertAdjacentHTML","checked","match","fixed","pattern","RegExp","test","btn","checkboxInputBinding","chipInputBinding","TOGGLE","filterItems","visibleItems","dropdown","stopPropagation","addChip","focus","removeChip","enableToggle","disableToggle","item","innerText","toLowerCase","selectedItems","getItem","filter","chip","getChip","max","itemTemplate","chipTemplate","menu","chips","fileInputBinding","document","addEventListener","bsCustomFileInput","init","_","_doUpload","preventDefault","originalEvent","dataTransfer","files","_value","_choice","_clear","_sendFile","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","err","error","send","hasAttribute","info","f","name","size","jobId","uploadUrl","formInputBinding","forms","groupInputBinding","tagName","linkInputBinding","listGroupInputBinding","menuInputBinding","active","removeClass","inverted","di","navInputBinding","activeItem","parentNode","a","nl","disabled","addCustomMessageHandler","_show","pane","parentElement","contains","previous","complete","hiddenEvent","Event","relatedTarget","shownEvent","bootstrap","Tab","_activate","target","getElementById","radioInputBinding","getRandomInt","min","Math","ceil","floor","random","radiobarInputBinding","appendNode","rangeInputBinding","ionRangeSlider","$input","result","from","to","from_value","replace","update","dispose","destroy","selectInputBinding","select","opt","textualInputBinding","getRatePolicy","policy","delay","badgeOutputBinding","OutputBinding","renderValue","renderError","clearError","outputBindings","progressHandlers","outlet","$outlet","$bar","content","replaceWith","append","tableInputBinding","JSON","stringify","table","tableOutputBinding","collapse","_render","dependencies","renderDependencies","container","unbindAll","initializeInputs","bindAll","_remove","_hide","modal","exprs","Object","keys","key","_register","createElement","body","m","action","onInputChange","setTimeout","delegateTarget","removeChild","toast","_close","toasts","tooltip","popover","attr","title","placement","duration","filename","token","agent","window","navigator","userAgent","ie","ua","responseType","onload","saveAs","response","fetch","then","blob"],"mappings":"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"}