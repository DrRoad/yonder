{"version":3,"file":"yonder.js","sources":["../../src/js/yonder-input-binding.js","../../src/js/input-binding-button-group.js","../../src/js/input-binding-button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-chip.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/input-binding-menu.js","../../src/js/input-binding-nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/collapsible.js","../../src/js/element.js","../../src/js/modal.js","../../src/js/toast.js","../../src/js/yonder.js"],"sourcesContent":["export function yonderInputBinding() {\n  this.Selector = {};\n  this.Events = [];\n\n  this.find = function(scope) {\n    return scope.querySelectorAll(`${ this.Selector.SELF }[id]`);\n  };\n\n  this.getId = function(el) {\n    return el.id;\n  };\n\n  this.getType = function(el) {\n    return this.Type || false;\n  };\n\n  this.getValue = function(el) {\n    if (!this.Selector.hasOwnProperty(\"SELECTED\")) {\n      return null;\n    }\n\n    let selected = Array.prototype.slice.call(el.querySelectorAll(this.Selector.SELECTED));\n\n    if (!selected.length) {\n      return null;\n    }\n\n    return selected.map(s => {\n      let value = s.getAttribute(\"data-value\") || s.value;\n      return value === undefined ? null : value;\n    });\n  };\n\n  this.getState = function(el, data) {\n    return { value: this.getValue(el) };\n  };\n\n  this.attachHandler = function(el, type, selector, handler, callback, debounce) {\n    $(el).on(`${ type }.yonder`, (selector || null), (e) => {\n      if (handler) {\n        handler(el, e, this);\n      }\n\n      if (callback) {\n        callback(debounce || false);\n      }\n    });\n  };\n\n  this.subscribe = function(el, callback) {\n    let $el = $(el);\n\n    let formElement = false;\n    if ($el.parent().closest(\".yonder-form[id]\").length) {\n      $el.on(\"submission.yonder\", e => callback());\n      formElement = true;\n    }\n\n    // default events\n    this.Events.push({ type: \"change.yonder\" });\n    this.Events.push({ type: \"update.yonder\" });\n\n    this.Events.forEach(event => {\n      this.attachHandler(\n        el,\n        event.type, event.selector, event.callback,\n        formElement ? null : callback, event.debounce\n      );\n    });\n  };\n\n  this.unsubscribe = function(el) {\n    $(el).off(\"yonder\");\n  };\n\n  this._update = (el, data) => {\n    console.warn(\"no _update method\");\n  };\n\n  this._enable = (el, data) => {\n    console.warn(\"no _enable method\");\n  };\n\n  this._disable = (el, data) => {\n    console.warn(\"no _disable method\");\n  };\n\n  this._invalidate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support invalidation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-valid\");\n    input.classList.add(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = data.message;\n    }\n  };\n\n  this._validate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support validation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = \"\";\n    }\n  };\n\n  this.receiveMessage = function(el, msg) {\n    if (!msg.type || msg.data === undefined) {\n      return false;\n    }\n\n    switch (msg.type) {\n    case \"update\":\n      this._update(el, msg.data);\n      break;\n\n    case \"change\":\n      this._select(el, msg.data);\n      break;\n\n    case \"enable\":\n      this._enable(el, msg.data);\n      break;\n\n    case \"disable\":\n      this._disable(el, msg.data);\n      break;\n\n    case \"invalidate\":\n      this._invalidate(el, msg.data);\n      break;\n\n    case \"validate\":\n      this._validate(el, msg.data);\n      break;\n    }\n\n    if (msg.type === \"change\" && msg.data.propagate === false) {\n      return false;\n    }\n\n    $(el).trigger(`${ msg.type }.yonder`);\n\n    return false;\n  };\n}\n\nif (typeof Shiny !== \"undefined\") {\n  yonderInputBinding.call(Shiny.InputBinding.prototype);\n}\n","export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  Selector: {\n    SELF: \".yonder-button-group\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"button\",\n      callback: (el, e, self) => {\n        self._VALUES[el.id] = e.currentTarget.value;\n      }\n    }\n  ],\n  _VALUES: {},\n  getType: (el) => \"yonder.buttonGroup\",\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _update: (el, data) => {\n    let template = el.querySelector(\"button\").cloneNode();\n    template.removeAttribute(\"disabled\");\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let child = template.cloneNode();\n      child.innerHTML = choice;\n      child.value = data.values[i];\n\n      el.appendChild(child);\n    });\n  },\n  _enable: function(el, data) {\n    let values = data.values;\n\n    el.querySelectorAll(\"button\").forEach(button => {\n      let enable = !values.length || values.indexOf(button.value) > -1;\n\n      if (enable !== data.invert) {\n        button.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let values = data.values;\n\n    el.querySelectorAll(\"button\").forEach(button => {\n      let disable = !values.length || values.indexOf(button.value) > -1;\n\n      if (data.reset) {\n        button.removeAttribute(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        button.setAttribute(\"disabled\", \"\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-button[id]\"),\n  initialize: (el) => {\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n    el.value = 0;\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"button.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el, callback) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value !== null && msg.value !== undefined) {\n      el.value = msg.value;\n      $(el).trigger(\"button.value\");\n    }\n\n    if (msg.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbar[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".btn\").forEach(btn => {\n        el.removeChild(btn);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (enable.indexOf(btn.value) > -1) {\n            btn.classList.remove(\"disabled\");\n            btn.children[0].removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (disable.indexOf(btn.value) > -1) {\n            btn.classList.add(\"disabled\");\n            btn.children[0].setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbox[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", e => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-checkbox\").forEach(box => {\n        el.removeChild(box);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        }\n      });\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-invalid\");\n        input.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".inavlid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let chipInputBinding = new Shiny.InputBinding();\n\n$.extend(chipInputBinding, {\n  selectorActive: \".active\",\n  selectorToggle: \"input[data-toggle='dropdown']\",\n\n  find: (scope) => scope.querySelectorAll(\".yonder-chip[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    $el.on(\"input\", (e) => {\n      let value = $toggle[0].value;\n\n      chipInputBinding._filter(el, value);\n\n      if (chipInputBinding._visible(el).length === 0) {\n        $toggle.dropdown(\"hide\");\n      } else {\n        $toggle.dropdown(\"show\");\n      }\n    });\n\n    $el.on(\"input change\", (e) => {\n      $toggle.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      if (el.querySelector(\"input:focus\") === null) {\n        el.querySelector(\"input\").value = \"\";\n        chipInputBinding._filter(el, \"\");\n      }\n    });\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      e.stopPropagation();\n\n      chipInputBinding._add(el, e.currentTarget.value);\n      $toggle[0].focus();\n    });\n\n    $el.on(\"click\", \".chip\", (e) => {\n      chipInputBinding._remove(el, e.currentTarget.value);\n    });\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max !== -1 && chipInputBinding._selected(el).length >= max) {\n      chipInputBinding._disable(el);\n    }\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".active\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(selected, s => s.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item,.chip\", (e) => callback());\n    $el.on(\"chip.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let $el = $(el);\n\n    if (msg.items && msg.chips) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.items;\n      el.querySelector(\".chips\").innerHTML = msg.chips;\n    }\n\n    if (msg.selected) {\n      if (msg.selected === true) {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          chipInputBinding._add(el, item.value);\n        });\n      } else {\n        msg.selected.reverse();\n\n        chipInputBinding._selected(el).forEach(item => {\n          chipInputBinding._remove(el, item.value);\n        });\n\n        msg.selected.forEach(value => {\n          chipInputBinding._add(el, value);\n        });\n      }\n\n      $el.trigger(\"chip.select\");\n    }\n\n    if (msg.max !== undefined && msg.max !== null) {\n      el.setAttribute(\"data-max\", msg.max);\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        chipInputBinding._enable(el);\n        // el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.removeAttribute(\"disabled\");\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        chipInputBinding._disable(el);\n        // el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.setAttribute(\"disabled\", \"\");\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  },\n\n\n  _visible: (el) => {\n    return el.querySelectorAll(\":not(.selected),:not(.filtered)\");\n  },\n  _selected: (el) => {\n    return el.querySelectorAll(\".selected\");\n  },\n  _items: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".dropdown-item\"),\n      chip => chip.value === value\n    );\n  },\n  _chips: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".chip\"),\n      chip => chip.value === value\n    );\n  },\n\n  _enable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.removeAttribute(\"disabled\");\n    input.classList.remove(\"disabled\");\n  },\n  _disable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.setAttribute(\"disabled\", \"\");\n    input.classList.add(\"disabled\");\n  },\n  _filter: (el, value) => {\n    value = value.toLowerCase();\n\n    el.querySelectorAll(\".dropdown-item\").forEach(item => {\n      let match = item.innerText.toLowerCase().indexOf(value) !== -1;\n\n      if (match) {\n        item.classList.remove(\"filtered\");\n      } else {\n        item.classList.add(\"filtered\");\n      }\n    });\n  },\n  _add: (el, value) => {\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.add(\"selected\");\n    });\n\n    let chips = el.querySelector(\".chips\");\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chips.insertBefore(chips.removeChild(chip), chips.firstChild);\n      chip.classList.add(\"active\");\n    });\n\n    if (chipInputBinding._visible(el).length === 0) {\n      $toggle.dropdown(\"hide\");\n    }\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      $toggle.dropdown(\"update\");\n    } else {\n      $toggle.dropdown(\"hide\");\n      chipInputBinding._disable(el);\n    }\n  },\n  _remove: (el, value) => {\n    let max = +el.getAttribute(\"data-max\");\n\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chip.classList.remove(\"active\");\n    });\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.remove(\"selected\");\n    });\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      chipInputBinding._enable(el);\n    }\n  }\n});\n\nShiny.inputBindings.register(chipInputBinding, \"yonder.chipInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$.extend(fileInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-file[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"dragover\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"dragcenter\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"drop\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      fileInputBinding._upload(el, e.originalEvent.dataTransfer.files);\n    });\n\n    $el.on(\"change\", (e) => {\n      fileInputBinding._upload(el);\n    });\n  },\n  getValue: (el) => null,\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      input.classList.remove(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n    }\n  },\n  _post: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            el.querySelector(\"input[type='file']\").value = \"\";\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _upload: function(el, files) {\n    let input = el.querySelector(\"input[type='file']\");\n\n    if (files === undefined) {\n      files = input.files;\n    }\n\n    if (!files) {\n      return;\n    }\n\n    if (!input.hasAttribute(\"multiple\")) {\n      files = Array.prototype.slice.call(files, 0, 1);\n    } else {\n      files = Array.prototype.slice.call(files);\n    }\n\n    let info = files.map(f => {\n      return { name: f.name, size: f.size, type: f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._post(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  bsCustomFileInput.init(\".yonder-file[id] input[type='file']\");\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  Events: [\n    {\n      type: \"click\",\n      selector: \".yonder-submit\",\n      callback: (el, e, self) => {\n        self._VALUES[el.id] = e.currentTarget.value;\n        $(el.querySelectorAll(\".shiny-bound-input\")).trigger(\"submission.yonder\");\n      }\n    }\n  ],\n  Type: \"yonder.form\",\n  _VALUES: {},\n  find: function(scope) {\n    let forms = Array.prototype.slice.call(\n      scope.querySelectorAll(\".yonder-form[id]\")\n    );\n\n    return forms.filter(f => f.querySelector(\".yonder-submit\") !== null);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _value: () => null,\n  _choice: () => null,\n  _select: () => null,\n  _clear: () => null,\n  _enable: () => null,\n  _disable: () => null\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-link[id]\"),\n  initialize: (el) => {\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n    el.value = 0;\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, data) => {\n    if (data.content) {\n      el.innerHTML = data.content;\n    }\n\n    if (data.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (data.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","export let listGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(listGroupInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-list-group[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".list-group-item-action:not(.active):not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(item => {\n        item.classList.remove(\"active\");\n      });\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".list-group-item-action.active:not(.disabled)\", (e) => {\n      e.currentTarget.classList.remove(\"active\");\n    });\n  },\n  getValue: (el) => {\n    let items = el.querySelectorAll(\".list-group-item-action.active:not(.disabled)\");\n\n    if (items.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(items).map(i => i.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n  },\n  unsubcribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        el.removeChild(item);\n      });\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","export let menuInputBinding = new Shiny.InputBinding();\n\n$.extend(menuInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-menu[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item:not(.disabled)\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n      if (active !== null) {\n        active.classList.remove(\"active\");\n      }\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"nav.reset\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n      if (active !== null) {\n        active.classList.remove(\"active\");\n      }\n    });\n  },\n  getValue: (el) => {\n    let active = el.querySelector(\".dropdown-item.active:not(.disabled)\");\n\n    if (active === null) {\n      return null;\n    }\n\n    return active.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\".dropdown-toggle\").classList.remove(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\".dropdown-toggle\").classList.add(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(menuInputBinding, \"yonder.menuInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$.extend(navInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-nav[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".nav-link:not(.dropdown-toggle):not(.disabled)\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n\n      if (active !== null) {\n        // trigger reset on menu input\n        $(active.parentNode.parentNode).trigger(\"nav.reset\");\n      }\n\n      el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".dropdown-item:not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n      e.currentTarget.parentNode.parentNode.children[0].classList.add(\"active\");\n      e.currentTarget.classList.add(\"active\");\n    });\n  },\n  getValue: (el) => {\n    let active = el.querySelector(\".nav-link.active:not(.disabled)\");\n\n    if (active === null) {\n      return null;\n    }\n\n    return active.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", e => callback());\n    $el.on(\"click.yonder\", \".nav-link:not(.dropdown-toggle)\", e => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".nav-item\").forEach(item => el.removeChild(item));\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          link.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          if (enable.indexOf(link.value) > -1) {\n            link.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          link.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          if (disable.indexOf(link.value) > -1) {\n            link.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\")) {\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  let _hide = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\") ||\n        !pane.classList.contains(\"active\")) {\n      return;\n    }\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      $(pane).trigger(hiddenEvent);\n    };\n\n    let dummy = document.createElement(\"div\");\n\n    bootstrap.Tab.prototype._activate(dummy, pane.parentElement, complete);\n  };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  let target = document.getElementById(msg.data.target);\n\n  if (target === null) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(target);\n  } else if (msg.type === \"hide\") {\n    _hide(target);\n  }\n});\n","export let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-radio[id]\");\n  },\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\".custom-radio > input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", e => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-radio\").forEach((radio) => {\n        el.removeChild(radio);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (disable.indexOf(input.value)> -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.remove(\"is-valid\");\n        radio.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    SELECTED: \"input:checked:not(:disabled)\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  find: (scope) => scope.querySelectorAll(\".yonder-radiobar[id]\"),\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.parentNode.classList.remove(\"disabled\");\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.parentNode.classList.add(\"disabled\");\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  Selector: {\n    SELF: \".yonder-range[id]\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  initialize: (el) => {\n    $(el.querySelector(\"input\")).ionRangeSlider();\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  getValue: function(el) {\n    var $input = $(\"input[type='text']\", el);\n    var data = $input.data(\"ionRangeSlider\");\n\n    if ($input.data(\"type\") === \"double\") {\n      return [data.result.from, data.result.to];\n    } else if ($input.data(\"type\") === \"single\") {\n      if (data.result.from_value !== null) {\n        return data.result.from_value.replace(\"&#44;\", \",\");\n      } else {\n        return data.result.from;\n      }\n    } else {\n      return null;\n    }\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: (el, data) => {\n    $(el.querySelector(\".irs-hidden-input\")).data(\"ionRangeSlider\").update({\n      values: data.values\n    });\n  },\n  _select: (el, data) => {\n    $(el.querySelector(\".irs-hidden-input\")).data(\"ionRangeSlider\");\n    // need to check if input is a numeric range input or choices slider\n  },\n  dispose: function(el) {\n    $(el.querySelector(\".irs-hidden-input\")).data(\"ionRangeSlider\").destroy();\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-select[id]\");\n  },\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      $el[0].querySelector(\"input\").placeholder = e.currentTarget.innerText;\n\n      let prev = $el[0].querySelector(\".active\");\n      if (prev) {\n        prev.classList.remove(\"active\");\n      }\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    let $input = $(el.querySelector(\"input\"));\n    $el.on(\"input change\", \"input\", (e) => {\n      let pattern = $input[0].value.toLowerCase();\n\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (item.innerText.toLowerCase().indexOf(pattern) === -1) {\n          item.classList.add(\"filtered\");\n        } else {\n          item.classList.remove(\"filtered\");\n        }\n      });\n\n      $input.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      $input[0].value = \"\";\n      el.querySelectorAll(\".filtered\").forEach(f => {\n        f.classList.remove(\"filtered\");\n      });\n    });\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".dropdown-item.active:not(.disabled\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(selected).map(o => o.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n    $el.on(\"select.select.yonder\", (e) => callback()); // ha.\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n          el.querySelector(\"input\").placeholder = item.innerText;\n        } else {\n          item.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"select.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"input\").classList.add(\"is-valid\");\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"input\").classList.add(\"is-invalid\");\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      let input = el.querySelector(\"input\");\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n\nexport let groupSelectInputBinding = new Shiny.InputBinding();\n\n$.extend(groupSelectInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-select[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group\",\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click\", \".dropdown-item\", e => callback());\n      $el.on(\"click\", \".btn:not(.dropdown-toggle\", e => callback());\n    } else {\n      $el.on(\"change\", e => callback());\n    }\n  },\n  receiveMessage: (el, msg) => {\n    let select = el.querySelector(\"select\");\n\n    if (msg.content) {\n      select.innerHTML = msg.content;\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        select.removeAttribute(\"disabled\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.removeAttribute(\"disabled\");\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable) {\n        select.setAttribute(\"disabled\", \"\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.setAttribute(\"disabled\", \"\");\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      select.classList.remove(\"is-invalid\");\n      select.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      select.classList.remove(\"is-valid\");\n      select.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      select.classList.remove(\"is-valid\");\n      select.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n\n  }\n});\n\nShiny.inputBindings.register(groupSelectInputBinding, \"yonder.groupSelectInputBinding\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-textual[id]\"),\n  getValue: (el) => {\n    let input = el.children[0];\n\n    if (input.value === \"\") {\n      return null;\n    }\n\n    return input.type === \"number\" ? Number(input.value) : input.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback(true));\n    $el.on(\"input.yonder\", (e) => callback(true));\n    $el.on(\"textual.value.yonder\", (e) => callback(true));\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  getRatePolicy: () => ({ policy: \"debounce\", delay: 250 }),\n  receiveMessage: (el, msg) => {\n    if (msg.value !== null) {\n      el.querySelector(\"input\").value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.children[0].removeAattribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.children[0].setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.classList.remove(\"is-invalid\");\n      el.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.classList.remove(\"is-valid\");\n      el.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.children[0].classList.remove(\"is-valid\");\n      el.children[0].classList.remove(\"is-invalid\");\n    }\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n\nexport let groupTextInputBinding = new Shiny.InputBinding();\n\n$.extend(groupTextInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-text[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group\",\n  getRatePolicy: (el) => ({ policy: \"debounce\", delay: 250 }),\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click\", \".dropdown-item\", e => callback());\n      $el.on(\"click\", \".btn:not(.dropdown-toggle\", e => callback());\n    } else {\n      $el.on(\"input\", e => callback(true));\n      $el.on(\"change\", e => callback(true));\n    }\n  },\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.value) {\n      input.value = msg.value;\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      input.classList.remove(\"is-invalid\");\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      input.classList.remove(\"is-valid\");\n      input.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(groupTextInputBinding, \"yonder.groupTextInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:element\", (msg) => {\n  let _render = (data) => {\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.getElementById(data.target);\n\n    if (!container || !container.classList.contains(\"yonder-element\")) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n    container.innerHTML = data.content;\n\n    Shiny.initializeInputs(container);\n    Shiny.bindAll(container);\n  };\n\n  let _remove = (data) => {\n    let container = document.getElementById(data.target);\n\n    if (!container || !container.classList.contains(\"yonder-element\")) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n\n    container.innerHTML = \"\";\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"render\") {\n    _render(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no element ${ msg.type } method`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  let _close = function(data) {\n    $(document.getElementById(data.id)).modal(\"hide\");\n  };\n\n  let _show = function(data) {\n    let modal = document.getElementById(data.id);\n\n    if (data.exprs) {\n      Object.keys(data.exprs).forEach(key => {\n        let outlet = modal.querySelector(`span[data-target='${ data.id }__${ key }']`);\n\n        if (outlet) {\n          outlet.innerHTML = data.exprs[key];\n        }\n      });\n    }\n\n    $(modal).modal(\"show\");\n  };\n\n  let _register = function(data) {\n    let modal = document.createElement(\"div\");\n    modal.classList.add(\"modal\");\n    modal.classList.add(\"fade\");\n    modal.setAttribute(\"tabindex\", -1);\n    modal.setAttribute(\"role\", \"dialog\");\n    modal.setAttribute(\"id\", data.id);\n\n    if (data.dependencies !== undefined) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    document.body.appendChild(modal);\n\n    let content = data.content.replace(/[{]\\s*([a-z0-9_.]+)\\s*[}]/g, (m, id) => {\n      return `<span data-target='${ data.id }__${ id }'></span>`;\n    });\n    modal.insertAdjacentHTML(\"afterbegin\", content);\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n  };\n\n  if (msg.type === \"close\") {\n    _close(msg.data);\n  } else if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"register\") {\n    _register(msg.data);\n  } else {\n    console.warn(`no modal ${ msg.type } method`);\n  }\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\"beforeend\", \"<div class='toasts'></div>\");\n\n  $(\".toasts\").on(\"hidden.bs.toast\", \".toast\", (e) => {\n    if (e.currentTarget.hasAttribute(\"data-action\")) {\n      let action = e.currentTarget.getAttribute(\"data-action\");\n      Shiny.onInputChange(action, true);\n      setTimeout(() => Shiny.onInputChange(action, null), 100);\n    }\n\n    e.delegateTarget.removeChild(e.currentTarget);\n  });\n});\n\nShiny.addCustomMessageHandler(\"yonder:toast\", (msg) => {\n  let _show = function(data) {\n    document.querySelector(\".toasts\")\n      .insertAdjacentHTML(\"beforeend\", data.content);\n\n    $(\".toasts > .toast:last-child\").toast(\"show\");\n  };\n\n  let _close = function(data) {\n    let toasts = document.querySelectorAll(\".toasts .toast\");\n\n    if (toasts.length) {\n      $(toasts).toast(\"hide\");\n    }\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no toast ${ msg.type } method`);\n  }\n});\n","import \"./yonder-input-binding.js\";\n\nimport \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-chip.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport \"./input-binding-menu.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./collapsible.js\";\nimport \"./element.js\";\nimport \"./modal.js\";\nimport \"./toast.js\";\n\n$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n  $(\"[data-toggle=\\\"popover\\\"]\").popover();\n\n  $(document).on(\"shiny:connected\", function() {\n    $(\".yonder-submit[data-type=\\\"submit\\\"]\").attr(\"type\", \"submit\");\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n    if (msg.data.target === undefined) {\n      return;\n    }\n\n    if (msg.type == \"show\") {\n      let data = msg.data;\n      let $target = $(`#${ data.target }`);\n\n      $target.popover({\n        title: () => undefined,\n        content: () => undefined,\n        template: data.content,\n        placement: data.placement,\n        trigger: \"manual\"\n      });\n\n      if (data.duration) {\n        setTimeout(\n          () => $target.popover(\"hide\"),\n          data.duration\n        );\n      }\n\n      $target.popover(\"show\");\n\n      return;\n    }\n\n    if (msg.type == \"close\") {\n      $(`#${ msg.data.id }`).popover(\"hide\");\n\n      return;\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:download\", function(msg) {\n    if (!(msg.filename && msg.token && msg.key)) {\n      throw \"invalid download event\";\n    }\n\n    const uri = \"/session/\" + msg.token + \"/download/\" + msg.key;\n\n    let agent = window.navigator.userAgent;\n    let ie = /MSIE/.test(agent);\n\n    if (ie === true) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", uri);\n      xhr.responseType = \"blob\";\n      xhr.onload = () => saveAs(xhr.response, msg.filename);\n      xhr.send();\n    } else {\n      fetch(uri)\n        .then(res => res.blob())\n        .then(blob => {\n          saveAs(blob, msg.filename);\n        });\n    }\n  });\n\n});\n"],"names":["yonderInputBinding","Selector","Events","find","scope","querySelectorAll","SELF","getId","el","id","getType","Type","getValue","hasOwnProperty","selected","Array","prototype","slice","call","SELECTED","length","map","s","value","getAttribute","undefined","getState","data","attachHandler","type","selector","handler","callback","debounce","$","on","e","subscribe","$el","formElement","parent","closest","push","forEach","event","unsubscribe","off","_update","console","warn","_enable","_disable","_invalidate","input","querySelector","VALIDATE","classList","remove","add","feedback","innerHTML","message","_validate","receiveMessage","msg","_select","propagate","trigger","Shiny","InputBinding","buttonGroupInputBinding","extend","self","_VALUES","currentTarget","initialize","force","Date","now","template","cloneNode","removeAttribute","choices","choice","i","child","values","appendChild","button","enable","indexOf","invert","disable","reset","setAttribute","inputBindings","register","buttonInputBinding","content","checkbarInputBinding","checked","c","btn","removeChild","insertAdjacentHTML","children","checkboxInputBinding","box","valid","invalid","chipInputBinding","selectorActive","selectorToggle","$toggle","_filter","_visible","dropdown","stopPropagation","_add","focus","_remove","max","_selected","items","chips","item","reverse","_items","filter","chip","_chips","toLowerCase","match","innerText","insertBefore","firstChild","fileInputBinding","preventDefault","_upload","originalEvent","dataTransfer","files","_post","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","err","error","send","hasAttribute","info","f","name","size","jobId","uploadUrl","document","addEventListener","bsCustomFileInput","init","formInputBinding","forms","_value","_choice","_clear","linkInputBinding","listGroupInputBinding","unsubcribe","menuInputBinding","active","navInputBinding","parentNode","a","link","addCustomMessageHandler","_show","pane","parentElement","contains","previous","complete","hiddenEvent","Event","relatedTarget","shownEvent","bootstrap","Tab","_activate","_hide","dummy","createElement","target","getElementById","radioInputBinding","radios","r","radio","radiobarInputBinding","rangeInputBinding","ionRangeSlider","$input","result","from","to","from_value","replace","update","dispose","destroy","selectInputBinding","placeholder","prev","pattern","o","groupSelectInputBinding","inputs","test","tagName","select","option","textualInputBinding","Number","getRatePolicy","policy","delay","removeAattribute","groupTextInputBinding","collapse","_render","dependencies","renderDependencies","container","unbindAll","initializeInputs","bindAll","_close","modal","exprs","Object","keys","key","outlet","_register","body","m","action","onInputChange","setTimeout","delegateTarget","toast","toasts","tooltip","popover","attr","$target","title","placement","duration","filename","token","agent","window","navigator","userAgent","ie","responseType","onload","saveAs","response","fetch","then","blob"],"mappings":"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"}