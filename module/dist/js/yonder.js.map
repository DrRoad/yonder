{"version":3,"file":"yonder.js","sources":["../../src/js/input-binding-button-group.js","../../src/js/input-binding-button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-chip.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/input-binding-menu.js","../../src/js/input-binding-nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/collapsible.js","../../src/js/element.js","../../src/js/modal.js","../../src/js/toast.js","../../src/js/yonder.js"],"sourcesContent":["export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-button-group[id]\"),\n  getType: (el) => \"yonder.button.group\",\n  initialize: (el) => {\n    $(el).on(\"click\", \"button\", (e) => {\n      buttonGroupInputBinding._VALUES[el.id] = e.delegateTarget.value;\n    });\n\n    buttonGroupInputBinding._VALUES[el.id] = null;\n  },\n  getValue: (el) => {\n    return { force: Date.now(), value: buttonGroupInputBinding._VALUES[el.id] };\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \"button\", (e) => callback());\n    $el.on(\"buttongroup.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value) {\n      buttonGroupInputBinding._VALUES[el.id] = msg.value;\n    }\n\n    if (msg.enable) {\n      el.querySelectorAll(\"button\").forEach(btn => {\n        if (msg.enable === true || msg.enable.indexOf(btn.value) > -1) {\n          btn.classList.remove(\"disabled\");\n          btn.removeAttribute(\"disabled\");\n        }\n      });\n    }\n\n    if (msg.disable) {\n      el.querySelectorAll(\"button\").forEach(btn => {\n        if (msg.disable === true || msg.disable.indexOf(btn.value) > -1) {\n          btn.classList.add(\"disabled\");\n          btn.setAttribute(\"disabled\", \"\");\n        }\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-button[id]\"),\n  initialize: (el) => {\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n    el.value = 0;\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"button.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el, callback) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value !== null && msg.value !== undefined) {\n      el.value = msg.value;\n      $(el).trigger(\"button.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbar[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"checkbar.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".btn\").forEach(btn => {\n        el.removeChild(btn);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\"input:checked\").forEach(input => {\n          input.checked = false;\n          input.parentNode.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n          input.parentNode.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"checkbar.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (enable.indexOf(btn.value) > -1) {\n            btn.classList.remove(\"disabled\");\n            btn.children[0].removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (disable.indexOf(btn.value) > -1) {\n            btn.classList.add(\"disabled\");\n            btn.children[0].setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbox[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback());\n    $el.on(\"checkbox.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-checkbox\").forEach(box => {\n        el.removeChild(box);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input:checked\").forEach(input => {\n        input.checked = false;\n      });\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        }\n      });\n\n      $(el).trigger(\"checkbox.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-invalid\");\n        input.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".inavlid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let chipInputBinding = new Shiny.InputBinding();\n\n$.extend(chipInputBinding, {\n  selectorActive: \".active\",\n  selectorToggle: \"input[data-toggle='dropdown']\",\n\n  find: (scope) => scope.querySelectorAll(\".yonder-chip[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    $el.on(\"input\", (e) => {\n      let value = $toggle[0].value;\n\n      chipInputBinding._filter(el, value);\n\n      if (chipInputBinding._visible(el).length === 0) {\n        $toggle.dropdown(\"hide\");\n      } else {\n        $toggle.dropdown(\"show\");\n      }\n    });\n\n    $el.on(\"input change\", (e) => {\n      $toggle.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      if (el.querySelector(\"input:focus\") === null) {\n        el.querySelector(\"input\").value = \"\";\n        chipInputBinding._filter(el, \"\");\n      }\n    });\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      e.stopPropagation();\n\n      chipInputBinding._add(el, e.currentTarget.value);\n      $toggle[0].focus();\n    });\n\n    $el.on(\"click\", \".chip\", (e) => {\n      chipInputBinding._remove(el, e.currentTarget.value);\n    });\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max !== -1 && chipInputBinding._selected(el).length >= max) {\n      chipInputBinding._disable(el);\n    }\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".active\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(selected, s => s.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item,.chip\", (e) => callback());\n    $el.on(\"chip.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let $el = $(el);\n\n    if (msg.items && msg.chips) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.items;\n      el.querySelector(\".chips\").innerHTML = msg.chips;\n    }\n\n    if (msg.selected) {\n      if (msg.selected === true) {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          chipInputBinding._add(el, item.value);\n        });\n      } else {\n        msg.selected.reverse();\n\n        chipInputBinding._selected(el).forEach(item => {\n          chipInputBinding._remove(el, item.value);\n        });\n\n        msg.selected.forEach(value => {\n          chipInputBinding._add(el, value);\n        });\n      }\n\n      $el.trigger(\"chip.select.yonder\");\n    }\n\n    if (msg.max !== undefined && msg.max !== null) {\n      el.setAttribute(\"data-max\", msg.max);\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        chipInputBinding._enable(el);\n        // el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.removeAttribute(\"disabled\");\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        chipInputBinding._disable(el);\n        // el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.setAttribute(\"disabled\", \"\");\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  },\n\n\n  _visible: (el) => {\n    return el.querySelectorAll(\":not(.selected),:not(.filtered)\");\n  },\n  _selected: (el) => {\n    return el.querySelectorAll(\".selected\");\n  },\n  _items: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".dropdown-item\"),\n      chip => chip.value === value\n    );\n  },\n  _chips: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".chip\"),\n      chip => chip.value === value\n    );\n  },\n\n  _enable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.removeAttribute(\"disabled\");\n    input.classList.remove(\"disabled\");\n  },\n  _disable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.setAttribute(\"disabled\", \"\");\n    input.classList.add(\"disabled\");\n  },\n  _filter: (el, value) => {\n    value = value.toLowerCase();\n\n    el.querySelectorAll(\".dropdown-item\").forEach(item => {\n      let match = item.innerText.toLowerCase().indexOf(value) !== -1;\n\n      if (match) {\n        item.classList.remove(\"filtered\");\n      } else {\n        item.classList.add(\"filtered\");\n      }\n    });\n  },\n  _add: (el, value) => {\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.add(\"selected\");\n    });\n\n    let chips = el.querySelector(\".chips\");\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chips.insertBefore(chips.removeChild(chip), chips.firstChild);\n      chip.classList.add(\"active\");\n    });\n\n    if (chipInputBinding._visible(el).length === 0) {\n      $toggle.dropdown(\"hide\");\n    }\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      $toggle.dropdown(\"update\");\n    } else {\n      $toggle.dropdown(\"hide\");\n      chipInputBinding._disable(el);\n    }\n  },\n  _remove: (el, value) => {\n    let max = +el.getAttribute(\"data-max\");\n\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chip.classList.remove(\"active\");\n    });\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.remove(\"selected\");\n    });\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      chipInputBinding._enable(el);\n    }\n  }\n});\n\nShiny.inputBindings.register(chipInputBinding, \"yonder.chipInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$.extend(fileInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-file[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"dragover\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"dragcenter\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"drop\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      fileInputBinding._upload(el, e.originalEvent.dataTransfer.files);\n    });\n\n    $el.on(\"change\", (e) => {\n      fileInputBinding._upload(el);\n    });\n  },\n  getValue: (el) => null,\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      input.classList.remove(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n    }\n  },\n  _post: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            el.querySelector(\"input[type='file']\").value = \"\";\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _upload: function(el, files) {\n    let input = el.querySelector(\"input[type='file']\");\n\n    if (files === undefined) {\n      files = input.files;\n    }\n\n    if (!files) {\n      return;\n    }\n\n    if (!input.hasAttribute(\"multiple\")) {\n      files = Array.prototype.slice.call(files, 0, 1);\n    } else {\n      files = Array.prototype.slice.call(files);\n    }\n\n    let info = files.map(f => {\n      return { name: f.name, size: f.size, type: f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._post(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  bsCustomFileInput.init(\".yonder-file[id] input[type='file']\");\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  Events: [\n    {\n      type: \"click\",\n      selector: \".yonder-submit\",\n      callback: (el, e, self) => {\n        self._VALUES[el.id] = e.currentTarget.value;\n        $(el.querySelectorAll(\".shiny-bound-input\")).trigger(\"submission.yonder\");\n      }\n    }\n  ],\n  Type: \"yonder.form\",\n  _VALUES: {},\n  find: function(scope) {\n    let forms = Array.prototype.slice.call(\n      scope.querySelectorAll(\".yonder-form[id]\")\n    );\n\n    return forms.filter(f => f.querySelector(\".yonder-submit\") !== null);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _value: () => null,\n  _choice: () => null,\n  _select: () => null,\n  _clear: () => null,\n  _enable: () => null,\n  _disable: () => null\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-link[id]\"),\n  initialize: (el) => {\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n    el.value = 0;\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"link.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value !== null && msg.value !== undefined) {\n      el.value = msg.value;\n      $(el).trigger(\"link.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","export let listGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(listGroupInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-list-group[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".list-group-item-action:not(.active):not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(item => {\n        item.classList.remove(\"active\");\n      });\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".list-group-item-action.active:not(.disabled)\", (e) => {\n      e.currentTarget.classList.remove(\"active\");\n    });\n  },\n  getValue: (el) => {\n    let items = el.querySelectorAll(\".list-group-item-action.active:not(.disabled)\");\n\n    if (items.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(items).map(i => i.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"listgroup.select.yonder\", (e) => callback());\n  },\n  unsubcribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        el.removeChild(item);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\".list-group-item.active\").forEach(item => {\n          item.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"listgroup.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","export let menuInputBinding = new Shiny.InputBinding();\n\n$.extend(menuInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-menu[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item:not(.disabled)\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n      if (active !== null) {\n        active.classList.remove(\"active\");\n      }\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"nav.reset\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n      if (active !== null) {\n        active.classList.remove(\"active\");\n      }\n    });\n  },\n  getValue: (el) => {\n    let active = el.querySelector(\".dropdown-item.active:not(.disabled)\");\n\n    if (active === null) {\n      return null;\n    }\n\n    return active.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"menu.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n        } else {\n          item.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"menu.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\".dropdown-toggle\").classList.remove(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\".dropdown-toggle\").classList.add(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(menuInputBinding, \"yonder.menuInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$.extend(navInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-nav[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".nav-link:not(.dropdown-toggle):not(.disabled)\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n\n      if (active !== null) {\n        // trigger reset on menu input\n        $(active.parentNode.parentNode).trigger(\"nav.reset\");\n      }\n\n      el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".dropdown-item:not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n      e.currentTarget.parentNode.parentNode.children[0].classList.add(\"active\");\n      e.currentTarget.classList.add(\"active\");\n    });\n  },\n  getValue: (el) => {\n    let active = el.querySelector(\".nav-link.active:not(.disabled)\");\n\n    if (active === null) {\n      return null;\n    }\n\n    return active.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n    $el.on(\"click.yonder\", \".nav-link:not(.dropdown-toggle)\", (e) => callback());\n    $el.on(\"nav.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".nav-item\").forEach(item => el.removeChild(item));\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".nav-link\").forEach(link => {\n        if (msg.selected.indexOf(link.value) > -1) {\n          link.classList.add(\"active\");\n        } else {\n          link.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"nav.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          link.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          if (enable.indexOf(link.value) > -1) {\n            link.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          link.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          if (disable.indexOf(link.value) > -1) {\n            link.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\")) {\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  let _hide = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\") ||\n        !pane.classList.contains(\"active\")) {\n      return;\n    }\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      $(pane).trigger(hiddenEvent);\n    };\n\n    let dummy = document.createElement(\"div\");\n\n    bootstrap.Tab.prototype._activate(dummy, pane.parentElement, complete);\n  };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  let target = document.getElementById(msg.data.target);\n\n  if (target === null) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(target);\n  } else if (msg.type === \"hide\") {\n    _hide(target);\n  }\n});\n","export let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-radio[id]\");\n  },\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\".custom-radio > input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"radio.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-radio\").forEach((radio) => {\n        el.removeChild(radio);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        } else {\n          input.checked = false;\n        }\n      });\n\n      $(el).trigger(\"radio.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (disable.indexOf(input.value)> -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.remove(\"is-valid\");\n        radio.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    SELECTED: \"input:checked:not(:disabled)\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  find: (scope) => scope.querySelectorAll(\".yonder-radiobar[id]\"),\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.parentNode.classList.remove(\"disabled\");\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.parentNode.classList.add(\"disabled\");\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-range[id]\"),\n  getId: (el) => el.id,\n  getValue: (el) => +el.children[0].value,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"input.yonder\", callback(true));\n    $el.on(\"range.value.yonder\");\n  },\n  unsubscribe: (el) => $(el).off(\"yonder\"),\n  receiveMessage: (el, msg) => {\n    let input = el.children[0];\n\n    if (msg.value) {\n      input.value = msg.value;\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-select[id]\");\n  },\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      $el[0].querySelector(\"input\").placeholder = e.currentTarget.innerText;\n\n      let prev = $el[0].querySelector(\".active\");\n      if (prev) {\n        prev.classList.remove(\"active\");\n      }\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    let $input = $(el.querySelector(\"input\"));\n    $el.on(\"input change\", \"input\", (e) => {\n      let pattern = $input[0].value.toLowerCase();\n\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (item.innerText.toLowerCase().indexOf(pattern) === -1) {\n          item.classList.add(\"filtered\");\n        } else {\n          item.classList.remove(\"filtered\");\n        }\n      });\n\n      $input.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      $input[0].value = \"\";\n      el.querySelectorAll(\".filtered\").forEach(f => {\n        f.classList.remove(\"filtered\");\n      });\n    });\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".dropdown-item.active:not(.disabled\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(selected).map(o => o.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n    $el.on(\"select.select.yonder\", (e) => callback()); // ha.\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n          el.querySelector(\"input\").placeholder = item.innerText;\n        } else {\n          item.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"select.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"input\").classList.add(\"is-valid\");\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"input\").classList.add(\"is-invalid\");\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      let input = el.querySelector(\"input\");\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n\nexport let groupSelectInputBinding = new Shiny.InputBinding();\n\n$.extend(groupSelectInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-select[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, select, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group.select\",\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click\", \".dropdown-item\", (e) => callback());\n      $el.on(\"click\", \".btn:not(.dropdown-toggle\", (e) => callback());\n    } else {\n      $el.on(\"change\", (e) => callback());\n      $el.on(\"groupselect.select.yonder\", (e) => callback());\n    }\n  },\n  receiveMessage: (el, msg) => {\n    let select = el.querySelector(\"select\");\n\n    if (msg.content) {\n      select.innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      select.querySelectorAll(\"option\").forEach(option => {\n        if (msg.selected.indexOf(option.value) > -1) {\n          option.setAttribute(\"selected\", \"\");\n        } else {\n          option.removeAttribute(\"selected\");\n        }\n      });\n\n      $(el).trigger(\"groupselect.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        select.removeAttribute(\"disabled\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.removeAttribute(\"disabled\");\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable) {\n        select.setAttribute(\"disabled\", \"\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.setAttribute(\"disabled\", \"\");\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      select.classList.remove(\"is-invalid\");\n      select.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      select.classList.remove(\"is-valid\");\n      select.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      select.classList.remove(\"is-valid\");\n      select.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n\n  }\n});\n\nShiny.inputBindings.register(groupSelectInputBinding, \"yonder.groupSelectInputBinding\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-textual[id]\"),\n  getValue: (el) => {\n    let input = el.children[0];\n\n    if (input.value === \"\") {\n      return null;\n    }\n\n    return input.type === \"number\" ? Number(input.value) : input.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback(true));\n    $el.on(\"input.yonder\", (e) => callback(true));\n    $el.on(\"textual.value.yonder\", (e) => callback(true));\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  getRatePolicy: () => ({ policy: \"debounce\", delay: 250 }),\n  receiveMessage: (el, msg) => {\n    if (msg.value !== null) {\n      el.querySelector(\"input\").value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.children[0].removeAattribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.children[0].setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.classList.remove(\"is-invalid\");\n      el.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.classList.remove(\"is-valid\");\n      el.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.children[0].classList.remove(\"is-valid\");\n      el.children[0].classList.remove(\"is-invalid\");\n    }\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n\nexport let groupTextInputBinding = new Shiny.InputBinding();\n\n$.extend(groupTextInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-text[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group.text\",\n  getRatePolicy: (el) => ({ policy: \"debounce\", delay: 250 }),\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n      $el.on(\"click.yonder\", \".btn:not(.dropdown-toggle\", (e) => callback());\n    } else {\n      $el.on(\"input.yonder\", (e) => callback(true));\n      $el.on(\"change.yonder\", (e) => callback(true));\n      $el.on(\"textual.value.yonder\", (e) => callback());\n    }\n  },\n  unsubscribe: (el) => $(el).off(\"yonder\"),\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.value) {\n      input.value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      input.classList.remove(\"is-invalid\");\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      input.classList.remove(\"is-valid\");\n      input.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(groupTextInputBinding, \"yonder.groupTextInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:element\", (msg) => {\n  let _render = (data) => {\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.getElementById(data.target);\n\n    if (!container || !container.classList.contains(\"yonder-element\")) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n    container.innerHTML = data.content;\n\n    Shiny.initializeInputs(container);\n    Shiny.bindAll(container);\n  };\n\n  let _remove = (data) => {\n    let container = document.getElementById(data.target);\n\n    if (!container || !container.classList.contains(\"yonder-element\")) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n\n    container.innerHTML = \"\";\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"render\") {\n    _render(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no element ${ msg.type } method`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  let _close = function(data) {\n    $(document.getElementById(data.id)).modal(\"hide\");\n  };\n\n  let _show = function(data) {\n    let modal = document.getElementById(data.id);\n\n    if (data.exprs) {\n      Object.keys(data.exprs).forEach(key => {\n        let outlet = modal.querySelector(`span[data-target='${ data.id }__${ key }']`);\n\n        if (outlet) {\n          outlet.innerHTML = data.exprs[key];\n        }\n      });\n    }\n\n    $(modal).modal(\"show\");\n  };\n\n  let _register = function(data) {\n    let modal = document.createElement(\"div\");\n    modal.classList.add(\"modal\");\n    modal.classList.add(\"fade\");\n    modal.setAttribute(\"tabindex\", -1);\n    modal.setAttribute(\"role\", \"dialog\");\n    modal.setAttribute(\"id\", data.id);\n\n    if (data.dependencies !== undefined) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    document.body.appendChild(modal);\n\n    let content = data.content.replace(/[{]\\s*([a-z0-9_.]+)\\s*[}]/g, (m, id) => {\n      return `<span data-target='${ data.id }__${ id }'></span>`;\n    });\n    modal.insertAdjacentHTML(\"afterbegin\", content);\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n  };\n\n  if (msg.type === \"close\") {\n    _close(msg.data);\n  } else if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"register\") {\n    _register(msg.data);\n  } else {\n    console.warn(`no modal ${ msg.type } method`);\n  }\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\"beforeend\", \"<div class='toasts'></div>\");\n\n  $(\".toasts\").on(\"hidden.bs.toast\", \".toast\", (e) => {\n    if (e.currentTarget.hasAttribute(\"data-action\")) {\n      let action = e.currentTarget.getAttribute(\"data-action\");\n      Shiny.onInputChange(action, true);\n      setTimeout(() => Shiny.onInputChange(action, null), 100);\n    }\n\n    e.delegateTarget.removeChild(e.currentTarget);\n  });\n});\n\nShiny.addCustomMessageHandler(\"yonder:toast\", (msg) => {\n  let _show = function(data) {\n    document.querySelector(\".toasts\")\n      .insertAdjacentHTML(\"beforeend\", data.content);\n\n    $(\".toasts > .toast:last-child\").toast(\"show\");\n  };\n\n  let _close = function(data) {\n    let toasts = document.querySelectorAll(\".toasts .toast\");\n\n    if (toasts.length) {\n      $(toasts).toast(\"hide\");\n    }\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no toast ${ msg.type } method`);\n  }\n});\n","import \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-chip.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport \"./input-binding-menu.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./collapsible.js\";\nimport \"./element.js\";\nimport \"./modal.js\";\nimport \"./toast.js\";\n\n$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n  $(\"[data-toggle=\\\"popover\\\"]\").popover();\n\n  $(document).on(\"shiny:connected\", function() {\n    $(\".yonder-submit[data-type=\\\"submit\\\"]\").attr(\"type\", \"submit\");\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n    if (msg.data.target === undefined) {\n      return;\n    }\n\n    if (msg.type == \"show\") {\n      let data = msg.data;\n      let $target = $(`#${ data.target }`);\n\n      $target.popover({\n        title: () => undefined,\n        content: () => undefined,\n        template: data.content,\n        placement: data.placement,\n        trigger: \"manual\"\n      });\n\n      if (data.duration) {\n        setTimeout(\n          () => $target.popover(\"hide\"),\n          data.duration\n        );\n      }\n\n      $target.popover(\"show\");\n\n      return;\n    }\n\n    if (msg.type == \"close\") {\n      $(`#${ msg.data.id }`).popover(\"hide\");\n\n      return;\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:download\", function(msg) {\n    if (!(msg.filename && msg.token && msg.key)) {\n      throw \"invalid download event\";\n    }\n\n    const uri = \"/session/\" + msg.token + \"/download/\" + msg.key;\n\n    let agent = window.navigator.userAgent;\n    let ie = /MSIE/.test(agent);\n\n    if (ie === true) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", uri);\n      xhr.responseType = \"blob\";\n      xhr.onload = () => saveAs(xhr.response, msg.filename);\n      xhr.send();\n    } else {\n      fetch(uri)\n        .then(res => res.blob())\n        .then(blob => {\n          saveAs(blob, msg.filename);\n        });\n    }\n  });\n\n});\n"],"names":["buttonGroupInputBinding","Shiny","InputBinding","$","extend","find","scope","querySelectorAll","getType","el","initialize","on","e","_VALUES","id","delegateTarget","value","getValue","force","Date","now","subscribe","callback","$el","unsubscribe","off","receiveMessage","msg","content","innerHTML","enable","forEach","btn","indexOf","classList","remove","removeAttribute","disable","add","setAttribute","inputBindings","register","buttonInputBinding","undefined","trigger","checkbarInputBinding","checked","length","Array","prototype","map","call","c","removeChild","insertAdjacentHTML","selected","input","parentNode","children","checkboxInputBinding","box","valid","querySelector","invalid","chipInputBinding","selectorActive","selectorToggle","$toggle","_filter","_visible","dropdown","stopPropagation","_add","currentTarget","focus","_remove","max","getAttribute","_selected","_disable","s","items","chips","item","reverse","_enable","_items","filter","chip","_chips","toLowerCase","match","innerText","insertBefore","firstChild","fileInputBinding","preventDefault","_upload","originalEvent","dataTransfer","files","_post","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","err","console","error","send","hasAttribute","slice","info","f","name","size","type","jobId","uploadUrl","i","document","addEventListener","bsCustomFileInput","init","formInputBinding","Events","selector","self","Type","forms","_value","_choice","_select","_clear","linkInputBinding","listGroupInputBinding","unsubcribe","menuInputBinding","active","navInputBinding","a","link","addCustomMessageHandler","_show","pane","parentElement","contains","previous","complete","hiddenEvent","Event","relatedTarget","shownEvent","bootstrap","Tab","_activate","_hide","dummy","createElement","data","target","getElementById","radioInputBinding","radios","r","radio","radiobarInputBinding","Selector","SELF","SELECTED","rangeInputBinding","getId","selectInputBinding","placeholder","prev","$input","pattern","o","groupSelectInputBinding","inputs","test","tagName","select","option","textualInputBinding","Number","getRatePolicy","policy","delay","removeAattribute","groupTextInputBinding","collapse","_render","dependencies","renderDependencies","container","unbindAll","initializeInputs","bindAll","warn","_close","modal","exprs","Object","keys","key","outlet","_register","body","appendChild","replace","m","action","onInputChange","setTimeout","toast","toasts","tooltip","popover","attr","$target","title","template","placement","duration","filename","token","agent","window","navigator","userAgent","ie","responseType","onload","saveAs","response","fetch","then","blob"],"mappings":"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"}