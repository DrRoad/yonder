{"version":3,"file":"yonder.js","sources":["../../src/js/input-binding-button-group.js","../../src/js/input-binding-button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-chip.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/input-binding-menu.js","../../src/js/input-binding-nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/collapsible.js","../../src/js/element.js","../../src/js/modal.js","../../src/js/toast.js","../../src/js/yonder.js"],"sourcesContent":["export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  Selector: {\n    SELF: \".yonder-button-group\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"button\",\n      callback: (el, e, self) => {\n        self._VALUES[el.id] = e.currentTarget.value;\n      }\n    }\n  ],\n  _VALUES: {},\n  getType: (el) => \"yonder.buttonGroup\",\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _update: (el, data) => {\n    let template = el.querySelector(\"button\").cloneNode();\n    template.removeAttribute(\"disabled\");\n\n    el.innerHTML = \"\";\n\n    data.choices.forEach((choice, i) => {\n      let child = template.cloneNode();\n      child.innerHTML = choice;\n      child.value = data.values[i];\n\n      el.appendChild(child);\n    });\n  },\n  _enable: function(el, data) {\n    let values = data.values;\n\n    el.querySelectorAll(\"button\").forEach(button => {\n      let enable = !values.length || values.indexOf(button.value) > -1;\n\n      if (enable !== data.invert) {\n        button.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let values = data.values;\n\n    el.querySelectorAll(\"button\").forEach(button => {\n      let disable = !values.length || values.indexOf(button.value) > -1;\n\n      if (data.reset) {\n        button.removeAttribute(\"disabled\");\n      }\n\n      if (disable !== data.invert) {\n        button.setAttribute(\"disabled\", \"\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-button[id]\"),\n  initialize: (el) => {\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n    el.value = 0;\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"button.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el, callback) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value !== null && msg.value !== undefined) {\n      el.value = msg.value;\n      $(el).trigger(\"button.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbar[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"checkbar.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".btn\").forEach(btn => {\n        el.removeChild(btn);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\"input:checked\").forEach(input => {\n          input.checked = false;\n          input.parentNode.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n          input.parentNode.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"checkbar.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (enable.indexOf(btn.value) > -1) {\n            btn.classList.remove(\"disabled\");\n            btn.children[0].removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (disable.indexOf(btn.value) > -1) {\n            btn.classList.add(\"disabled\");\n            btn.children[0].setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbox[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback());\n    $el.on(\"checkbox.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-checkbox\").forEach(box => {\n        el.removeChild(box);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input:checked\").forEach(input => {\n        input.checked = false;\n      });\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        }\n      });\n\n      $(el).trigger(\"checkbox.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-invalid\");\n        input.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".inavlid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let chipInputBinding = new Shiny.InputBinding();\n\n$.extend(chipInputBinding, {\n  selectorActive: \".active\",\n  selectorToggle: \"input[data-toggle='dropdown']\",\n\n  find: (scope) => scope.querySelectorAll(\".yonder-chip[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    $el.on(\"input\", (e) => {\n      let value = $toggle[0].value;\n\n      chipInputBinding._filter(el, value);\n\n      if (chipInputBinding._visible(el).length === 0) {\n        $toggle.dropdown(\"hide\");\n      } else {\n        $toggle.dropdown(\"show\");\n      }\n    });\n\n    $el.on(\"input change\", (e) => {\n      $toggle.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      if (el.querySelector(\"input:focus\") === null) {\n        el.querySelector(\"input\").value = \"\";\n        chipInputBinding._filter(el, \"\");\n      }\n    });\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      e.stopPropagation();\n\n      chipInputBinding._add(el, e.currentTarget.value);\n      $toggle[0].focus();\n    });\n\n    $el.on(\"click\", \".chip\", (e) => {\n      chipInputBinding._remove(el, e.currentTarget.value);\n    });\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max !== -1 && chipInputBinding._selected(el).length >= max) {\n      chipInputBinding._disable(el);\n    }\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".active\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(selected, s => s.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item,.chip\", (e) => callback());\n    $el.on(\"chip.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let $el = $(el);\n\n    if (msg.items && msg.chips) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.items;\n      el.querySelector(\".chips\").innerHTML = msg.chips;\n    }\n\n    if (msg.selected) {\n      if (msg.selected === true) {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          chipInputBinding._add(el, item.value);\n        });\n      } else {\n        msg.selected.reverse();\n\n        chipInputBinding._selected(el).forEach(item => {\n          chipInputBinding._remove(el, item.value);\n        });\n\n        msg.selected.forEach(value => {\n          chipInputBinding._add(el, value);\n        });\n      }\n\n      $el.trigger(\"chip.select.yonder\");\n    }\n\n    if (msg.max !== undefined && msg.max !== null) {\n      el.setAttribute(\"data-max\", msg.max);\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        chipInputBinding._enable(el);\n        // el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.removeAttribute(\"disabled\");\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        chipInputBinding._disable(el);\n        // el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.setAttribute(\"disabled\", \"\");\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  },\n\n\n  _visible: (el) => {\n    return el.querySelectorAll(\":not(.selected),:not(.filtered)\");\n  },\n  _selected: (el) => {\n    return el.querySelectorAll(\".selected\");\n  },\n  _items: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".dropdown-item\"),\n      chip => chip.value === value\n    );\n  },\n  _chips: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".chip\"),\n      chip => chip.value === value\n    );\n  },\n\n  _enable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.removeAttribute(\"disabled\");\n    input.classList.remove(\"disabled\");\n  },\n  _disable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.setAttribute(\"disabled\", \"\");\n    input.classList.add(\"disabled\");\n  },\n  _filter: (el, value) => {\n    value = value.toLowerCase();\n\n    el.querySelectorAll(\".dropdown-item\").forEach(item => {\n      let match = item.innerText.toLowerCase().indexOf(value) !== -1;\n\n      if (match) {\n        item.classList.remove(\"filtered\");\n      } else {\n        item.classList.add(\"filtered\");\n      }\n    });\n  },\n  _add: (el, value) => {\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.add(\"selected\");\n    });\n\n    let chips = el.querySelector(\".chips\");\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chips.insertBefore(chips.removeChild(chip), chips.firstChild);\n      chip.classList.add(\"active\");\n    });\n\n    if (chipInputBinding._visible(el).length === 0) {\n      $toggle.dropdown(\"hide\");\n    }\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      $toggle.dropdown(\"update\");\n    } else {\n      $toggle.dropdown(\"hide\");\n      chipInputBinding._disable(el);\n    }\n  },\n  _remove: (el, value) => {\n    let max = +el.getAttribute(\"data-max\");\n\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chip.classList.remove(\"active\");\n    });\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.remove(\"selected\");\n    });\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      chipInputBinding._enable(el);\n    }\n  }\n});\n\nShiny.inputBindings.register(chipInputBinding, \"yonder.chipInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$.extend(fileInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-file[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"dragover\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"dragcenter\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"drop\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      fileInputBinding._upload(el, e.originalEvent.dataTransfer.files);\n    });\n\n    $el.on(\"change\", (e) => {\n      fileInputBinding._upload(el);\n    });\n  },\n  getValue: (el) => null,\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      input.classList.remove(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n    }\n  },\n  _post: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            el.querySelector(\"input[type='file']\").value = \"\";\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _upload: function(el, files) {\n    let input = el.querySelector(\"input[type='file']\");\n\n    if (files === undefined) {\n      files = input.files;\n    }\n\n    if (!files) {\n      return;\n    }\n\n    if (!input.hasAttribute(\"multiple\")) {\n      files = Array.prototype.slice.call(files, 0, 1);\n    } else {\n      files = Array.prototype.slice.call(files);\n    }\n\n    let info = files.map(f => {\n      return { name: f.name, size: f.size, type: f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._post(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  bsCustomFileInput.init(\".yonder-file[id] input[type='file']\");\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  Events: [\n    {\n      type: \"click\",\n      selector: \".yonder-submit\",\n      callback: (el, e, self) => {\n        self._VALUES[el.id] = e.currentTarget.value;\n        $(el.querySelectorAll(\".shiny-bound-input\")).trigger(\"submission.yonder\");\n      }\n    }\n  ],\n  Type: \"yonder.form\",\n  _VALUES: {},\n  find: function(scope) {\n    let forms = Array.prototype.slice.call(\n      scope.querySelectorAll(\".yonder-form[id]\")\n    );\n\n    return forms.filter(f => f.querySelector(\".yonder-submit\") !== null);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _value: () => null,\n  _choice: () => null,\n  _select: () => null,\n  _clear: () => null,\n  _enable: () => null,\n  _disable: () => null\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-link[id]\"),\n  initialize: (el) => {\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n    el.value = 0;\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"link.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value !== null && msg.value !== undefined) {\n      el.value = msg.value;\n      $(el).trigger(\"link.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","export let listGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(listGroupInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-list-group[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".list-group-item-action:not(.active):not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(item => {\n        item.classList.remove(\"active\");\n      });\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".list-group-item-action.active:not(.disabled)\", (e) => {\n      e.currentTarget.classList.remove(\"active\");\n    });\n  },\n  getValue: (el) => {\n    let items = el.querySelectorAll(\".list-group-item-action.active:not(.disabled)\");\n\n    if (items.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(items).map(i => i.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"listgroup.select.yonder\", (e) => callback());\n  },\n  unsubcribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        el.removeChild(item);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\".list-group-item.active\").forEach(item => {\n          item.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"listgroup.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","export let menuInputBinding = new Shiny.InputBinding();\n\n$.extend(menuInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-menu[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item:not(.disabled)\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n      if (active !== null) {\n        active.classList.remove(\"active\");\n      }\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"nav.reset\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n      if (active !== null) {\n        active.classList.remove(\"active\");\n      }\n    });\n  },\n  getValue: (el) => {\n    let active = el.querySelector(\".dropdown-item.active:not(.disabled)\");\n\n    if (active === null) {\n      return null;\n    }\n\n    return active.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"menu.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n        } else {\n          item.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"menu.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\".dropdown-toggle\").classList.remove(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\".dropdown-toggle\").classList.add(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(menuInputBinding, \"yonder.menuInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$.extend(navInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-nav[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".nav-link:not(.dropdown-toggle):not(.disabled)\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n\n      if (active !== null) {\n        // trigger reset on menu input\n        $(active.parentNode.parentNode).trigger(\"nav.reset\");\n      }\n\n      el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".dropdown-item:not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n      e.currentTarget.parentNode.parentNode.children[0].classList.add(\"active\");\n      e.currentTarget.classList.add(\"active\");\n    });\n  },\n  getValue: (el) => {\n    let active = el.querySelector(\".nav-link.active:not(.disabled)\");\n\n    if (active === null) {\n      return null;\n    }\n\n    return active.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n    $el.on(\"click.yonder\", \".nav-link:not(.dropdown-toggle)\", (e) => callback());\n    $el.on(\"nav.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".nav-item\").forEach(item => el.removeChild(item));\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".nav-link\").forEach(link => {\n        if (msg.selected.indexOf(link.value) > -1) {\n          link.classList.add(\"active\");\n        } else {\n          link.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"nav.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          link.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          if (enable.indexOf(link.value) > -1) {\n            link.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          link.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          if (disable.indexOf(link.value) > -1) {\n            link.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\")) {\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  let _hide = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\") ||\n        !pane.classList.contains(\"active\")) {\n      return;\n    }\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      $(pane).trigger(hiddenEvent);\n    };\n\n    let dummy = document.createElement(\"div\");\n\n    bootstrap.Tab.prototype._activate(dummy, pane.parentElement, complete);\n  };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  let target = document.getElementById(msg.data.target);\n\n  if (target === null) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(target);\n  } else if (msg.type === \"hide\") {\n    _hide(target);\n  }\n});\n","export let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-radio[id]\");\n  },\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\".custom-radio > input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"radio.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-radio\").forEach((radio) => {\n        el.removeChild(radio);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        } else {\n          input.checked = false;\n        }\n      });\n\n      $(el).trigger(\"radio.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (disable.indexOf(input.value)> -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.remove(\"is-valid\");\n        radio.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    SELECTED: \"input:checked:not(:disabled)\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  find: (scope) => scope.querySelectorAll(\".yonder-radiobar[id]\"),\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.parentNode.classList.remove(\"disabled\");\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.parentNode.classList.add(\"disabled\");\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-range[id]\"),\n  getId: (el) => el.id,\n  getValue: (el) => +el.children[0].value,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"input.yonder\", callback(true));\n    $el.on(\"range.value.yonder\");\n  },\n  unsubscribe: (el) => $(el).off(\"yonder\"),\n  receiveMessage: (el, msg) => {\n    let input = el.children[0];\n\n    if (msg.value) {\n      input.value = msg.value;\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-select[id]\");\n  },\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      $el[0].querySelector(\"input\").placeholder = e.currentTarget.innerText;\n\n      let prev = $el[0].querySelector(\".active\");\n      if (prev) {\n        prev.classList.remove(\"active\");\n      }\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    let $input = $(el.querySelector(\"input\"));\n    $el.on(\"input change\", \"input\", (e) => {\n      let pattern = $input[0].value.toLowerCase();\n\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (item.innerText.toLowerCase().indexOf(pattern) === -1) {\n          item.classList.add(\"filtered\");\n        } else {\n          item.classList.remove(\"filtered\");\n        }\n      });\n\n      $input.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      $input[0].value = \"\";\n      el.querySelectorAll(\".filtered\").forEach(f => {\n        f.classList.remove(\"filtered\");\n      });\n    });\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".dropdown-item.active:not(.disabled\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(selected).map(o => o.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n    $el.on(\"select.select.yonder\", (e) => callback()); // ha.\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n          el.querySelector(\"input\").placeholder = item.innerText;\n        } else {\n          item.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"select.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"input\").classList.add(\"is-valid\");\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"input\").classList.add(\"is-invalid\");\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      let input = el.querySelector(\"input\");\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n\nexport let groupSelectInputBinding = new Shiny.InputBinding();\n\n$.extend(groupSelectInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-select[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group\",\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click\", \".dropdown-item\", e => callback());\n      $el.on(\"click\", \".btn:not(.dropdown-toggle\", e => callback());\n    } else {\n      $el.on(\"change\", e => callback());\n      $el.on(\"groupselect.select.yonder\", (e) => callback());\n    }\n  },\n  receiveMessage: (el, msg) => {\n    let select = el.querySelector(\"select\");\n\n    if (msg.content) {\n      select.innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      select.querySelectorAll(\"option\").forEach(option => {\n        if (msg.selected.indexOf(option.value) > -1) {\n          option.setAttribute(\"selected\", \"\");\n        } else {\n          option.removeAttribute(\"selected\");\n        }\n      });\n\n      $(el).trigger(\"groupselect.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        select.removeAttribute(\"disabled\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.removeAttribute(\"disabled\");\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable) {\n        select.setAttribute(\"disabled\", \"\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.setAttribute(\"disabled\", \"\");\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      select.classList.remove(\"is-invalid\");\n      select.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      select.classList.remove(\"is-valid\");\n      select.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      select.classList.remove(\"is-valid\");\n      select.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n\n  }\n});\n\nShiny.inputBindings.register(groupSelectInputBinding, \"yonder.groupSelectInputBinding\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-textual[id]\"),\n  getValue: (el) => {\n    let input = el.children[0];\n\n    if (input.value === \"\") {\n      return null;\n    }\n\n    return input.type === \"number\" ? Number(input.value) : input.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback(true));\n    $el.on(\"input.yonder\", (e) => callback(true));\n    $el.on(\"textual.value.yonder\", (e) => callback(true));\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  getRatePolicy: () => ({ policy: \"debounce\", delay: 250 }),\n  receiveMessage: (el, msg) => {\n    if (msg.value !== null) {\n      el.querySelector(\"input\").value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.children[0].removeAattribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.children[0].setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.classList.remove(\"is-invalid\");\n      el.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.classList.remove(\"is-valid\");\n      el.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.children[0].classList.remove(\"is-valid\");\n      el.children[0].classList.remove(\"is-invalid\");\n    }\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n\nexport let groupTextInputBinding = new Shiny.InputBinding();\n\n$.extend(groupTextInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-text[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group\",\n  getRatePolicy: (el) => ({ policy: \"debounce\", delay: 250 }),\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click\", \".dropdown-item\", e => callback());\n      $el.on(\"click\", \".btn:not(.dropdown-toggle\", e => callback());\n    } else {\n      $el.on(\"input\", e => callback(true));\n      $el.on(\"change\", e => callback(true));\n      $el.on(\"textual.value.yonder\", (e) => callback());\n    }\n  },\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.value) {\n      input.value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      input.classList.remove(\"is-invalid\");\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      input.classList.remove(\"is-valid\");\n      input.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(groupTextInputBinding, \"yonder.groupTextInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:element\", (msg) => {\n  let _render = (data) => {\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.getElementById(data.target);\n\n    if (!container || !container.classList.contains(\"yonder-element\")) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n    container.innerHTML = data.content;\n\n    Shiny.initializeInputs(container);\n    Shiny.bindAll(container);\n  };\n\n  let _remove = (data) => {\n    let container = document.getElementById(data.target);\n\n    if (!container || !container.classList.contains(\"yonder-element\")) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n\n    container.innerHTML = \"\";\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"render\") {\n    _render(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no element ${ msg.type } method`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  let _close = function(data) {\n    $(document.getElementById(data.id)).modal(\"hide\");\n  };\n\n  let _show = function(data) {\n    let modal = document.getElementById(data.id);\n\n    if (data.exprs) {\n      Object.keys(data.exprs).forEach(key => {\n        let outlet = modal.querySelector(`span[data-target='${ data.id }__${ key }']`);\n\n        if (outlet) {\n          outlet.innerHTML = data.exprs[key];\n        }\n      });\n    }\n\n    $(modal).modal(\"show\");\n  };\n\n  let _register = function(data) {\n    let modal = document.createElement(\"div\");\n    modal.classList.add(\"modal\");\n    modal.classList.add(\"fade\");\n    modal.setAttribute(\"tabindex\", -1);\n    modal.setAttribute(\"role\", \"dialog\");\n    modal.setAttribute(\"id\", data.id);\n\n    if (data.dependencies !== undefined) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    document.body.appendChild(modal);\n\n    let content = data.content.replace(/[{]\\s*([a-z0-9_.]+)\\s*[}]/g, (m, id) => {\n      return `<span data-target='${ data.id }__${ id }'></span>`;\n    });\n    modal.insertAdjacentHTML(\"afterbegin\", content);\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n  };\n\n  if (msg.type === \"close\") {\n    _close(msg.data);\n  } else if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"register\") {\n    _register(msg.data);\n  } else {\n    console.warn(`no modal ${ msg.type } method`);\n  }\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\"beforeend\", \"<div class='toasts'></div>\");\n\n  $(\".toasts\").on(\"hidden.bs.toast\", \".toast\", (e) => {\n    if (e.currentTarget.hasAttribute(\"data-action\")) {\n      let action = e.currentTarget.getAttribute(\"data-action\");\n      Shiny.onInputChange(action, true);\n      setTimeout(() => Shiny.onInputChange(action, null), 100);\n    }\n\n    e.delegateTarget.removeChild(e.currentTarget);\n  });\n});\n\nShiny.addCustomMessageHandler(\"yonder:toast\", (msg) => {\n  let _show = function(data) {\n    document.querySelector(\".toasts\")\n      .insertAdjacentHTML(\"beforeend\", data.content);\n\n    $(\".toasts > .toast:last-child\").toast(\"show\");\n  };\n\n  let _close = function(data) {\n    let toasts = document.querySelectorAll(\".toasts .toast\");\n\n    if (toasts.length) {\n      $(toasts).toast(\"hide\");\n    }\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no toast ${ msg.type } method`);\n  }\n});\n","import \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-chip.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport \"./input-binding-menu.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./collapsible.js\";\nimport \"./element.js\";\nimport \"./modal.js\";\nimport \"./toast.js\";\n\n$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n  $(\"[data-toggle=\\\"popover\\\"]\").popover();\n\n  $(document).on(\"shiny:connected\", function() {\n    $(\".yonder-submit[data-type=\\\"submit\\\"]\").attr(\"type\", \"submit\");\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n    if (msg.data.target === undefined) {\n      return;\n    }\n\n    if (msg.type == \"show\") {\n      let data = msg.data;\n      let $target = $(`#${ data.target }`);\n\n      $target.popover({\n        title: () => undefined,\n        content: () => undefined,\n        template: data.content,\n        placement: data.placement,\n        trigger: \"manual\"\n      });\n\n      if (data.duration) {\n        setTimeout(\n          () => $target.popover(\"hide\"),\n          data.duration\n        );\n      }\n\n      $target.popover(\"show\");\n\n      return;\n    }\n\n    if (msg.type == \"close\") {\n      $(`#${ msg.data.id }`).popover(\"hide\");\n\n      return;\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:download\", function(msg) {\n    if (!(msg.filename && msg.token && msg.key)) {\n      throw \"invalid download event\";\n    }\n\n    const uri = \"/session/\" + msg.token + \"/download/\" + msg.key;\n\n    let agent = window.navigator.userAgent;\n    let ie = /MSIE/.test(agent);\n\n    if (ie === true) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", uri);\n      xhr.responseType = \"blob\";\n      xhr.onload = () => saveAs(xhr.response, msg.filename);\n      xhr.send();\n    } else {\n      fetch(uri)\n        .then(res => res.blob())\n        .then(blob => {\n          saveAs(blob, msg.filename);\n        });\n    }\n  });\n\n});\n"],"names":["buttonGroupInputBinding","Shiny","InputBinding","$","extend","Selector","SELF","Events","type","selector","callback","el","e","self","_VALUES","id","currentTarget","value","getType","initialize","getValue","force","Date","now","_update","data","template","querySelector","cloneNode","removeAttribute","innerHTML","choices","forEach","choice","i","child","values","appendChild","_enable","querySelectorAll","button","enable","length","indexOf","invert","_disable","disable","reset","setAttribute","inputBindings","register","buttonInputBinding","find","scope","on","subscribe","$el","unsubscribe","off","receiveMessage","msg","content","undefined","trigger","classList","remove","add","checkbarInputBinding","checked","Array","prototype","map","call","c","btn","removeChild","insertAdjacentHTML","selected","input","parentNode","children","checkboxInputBinding","box","valid","invalid","chipInputBinding","selectorActive","selectorToggle","$toggle","_filter","_visible","dropdown","stopPropagation","_add","focus","_remove","max","getAttribute","_selected","s","items","chips","item","reverse","_items","filter","chip","_chips","toLowerCase","match","innerText","insertBefore","firstChild","fileInputBinding","preventDefault","_upload","originalEvent","dataTransfer","files","_post","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","err","console","error","send","hasAttribute","slice","info","f","name","size","jobId","uploadUrl","document","addEventListener","bsCustomFileInput","init","formInputBinding","Type","forms","_value","_choice","_select","_clear","linkInputBinding","listGroupInputBinding","unsubcribe","menuInputBinding","active","navInputBinding","a","link","addCustomMessageHandler","_show","pane","parentElement","contains","previous","complete","hiddenEvent","Event","relatedTarget","shownEvent","bootstrap","Tab","_activate","_hide","dummy","createElement","target","getElementById","radioInputBinding","radios","r","radio","radiobarInputBinding","SELECTED","rangeInputBinding","getId","selectInputBinding","placeholder","prev","$input","pattern","o","groupSelectInputBinding","inputs","test","tagName","select","option","textualInputBinding","Number","getRatePolicy","policy","delay","removeAattribute","groupTextInputBinding","collapse","_render","dependencies","renderDependencies","container","unbindAll","initializeInputs","bindAll","warn","_close","modal","exprs","Object","keys","key","outlet","_register","body","replace","m","action","onInputChange","setTimeout","delegateTarget","toast","toasts","tooltip","popover","attr","$target","title","placement","duration","filename","token","agent","window","navigator","userAgent","ie","responseType","onload","saveAs","response","fetch","then","blob"],"mappings":"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"}