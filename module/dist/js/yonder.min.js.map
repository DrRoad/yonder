{"version":3,"file":"yonder.min.js","sources":["../../src/js/yonder-input-binding.js","../../src/js/input-binding-button-group.js","../../src/js/input-binding-button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-date.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-group-input.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/input-binding-menu.js","../../src/js/input-binding-nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/output-binding-badge.js","../../src/js/output-binding-progress.js","../../src/js/thruput-binding-table.js","../../src/js/alert.js","../../src/js/collapsible.js","../../src/js/element.js","../../src/js/modal.js","../../src/js/yonder.js"],"sourcesContent":["export function yonderInputBinding() {\n  this.find = function(scope) {\n    return scope.querySelectorAll(`${ this.Selector.SELF }[id]`);\n  };\n\n  this.getId = function(el) {\n    return el.id;\n  };\n\n  this.getType = function(el) {\n    return this.Type ? this.Type : false;\n  };\n\n  // may not be worth it to have this method already created\n  this.getValue = function(el) {\n    if (!this.hasSelector(\"SELECTED\")) {\n      return null;\n    }\n\n    let selected = el.querySelectorAll(this.Selector.SELECTED);\n\n    if (!selected.length) {\n      return null;\n    }\n\n    return Array.prototype.map.call(\n      selected,\n      s => s.getAttribute(\"data-value\") || s.value\n    );\n  };\n\n  this.subscribe = function(el, callback) {\n    if (this.isFormElement(el)) {\n      $(el).closest(\".yonder-form[id]\").on(\"submit\", e => callback());\n      return;\n    }\n\n    if (this.Events === undefined || !this.Events.length) {\n      return;\n    }\n\n    for (const event of (this.Events || [])) {\n      $(el).on(`${ event.type }.yonder`, (event.selector || null), (e) => {\n        if (event.callback) {\n          if (event.callback(el, event.selector && e.target || undefined, this) === false) {\n            e.preventDefault();\n            return;\n          }\n        }\n        callback(event.debounce || false);\n      });\n    }\n  };\n\n  this.unsubscribe = function(el) {\n    $(el).off(\"yonder\");\n  };\n\n  this._update = (el, data) => {\n    console.warn(\"no _update method\");\n  };\n\n  this._enable = (el, data) => {\n    console.warn(\"no _enable method\");\n  };\n\n  this._disabled = (el, data) => {\n    console.warn(\"no _disable method\");\n  };\n\n  this._invalidate = function(el, data) {\n    if (!this.hasSelector(\"VALIDATE\")) {\n      console.warn(\"no _invalidate method\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-valid\");\n    input.classList.add(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = data.message;\n    }\n  };\n\n  this._validate = function(el, data) {\n    if (!this.hasSelector(\"VALIDATE\")) {\n      console.warn(\"no _validate method\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = \"\";\n    }\n  };\n\n  this.receiveMessage = function(el, msg) {\n    if (!msg.type || msg.data === undefined) {\n      return false;\n    }\n\n    let [action, type = null] = msg.type.split(\":\");\n\n    switch (action) {\n      case \"update\":\n        let choices = msg.data.choices;\n        let values = msg.data.values;\n        let selected = msg.data.selected;\n\n        if (!choices && values && this.Selector.CHOICE) {\n          choices = Array.prototype.slice.call(\n            el.querySelectorAll(this.Selector.CHOICE),\n            0,\n            values.length\n          );\n        } else if (choices && !values && this.Selector.VALUE) {\n          values = Array.prototype.slice.call(\n            el.querySelectorAll(this.Selector.VALUE),\n            0,\n            choices.length\n          );\n        }\n\n        this._update(el, {\n          \"choices\": choices,\n          \"values\": values,\n          \"selected\": selected\n        });\n\n        break;\n\n      case \"enable\":\n        this._enable(el, msg.data);\n        break;\n\n      case \"disable\":\n        this._disable(el, msg.data);\n        break;\n\n      case \"invalidate\":\n        this._invalidate(el, msg.data);\n        break;\n\n      case \"validate\":\n        this._validate(el, msg.data);\n        break;\n    }\n\n    return false;\n  };\n\n  this.hasSelector = function(key) {\n    return this.Selector !== undefined && this.Selector[key] !== undefined;\n  };\n\n  this.isFormElement = function(el) {\n    return $(el).parents(\".yonder-form[id]\").length > 0;\n  };\n}\n\nif (Shiny !== undefined) {\n  yonderInputBinding.call(Shiny.InputBinding.prototype);\n}\n","export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  Selector: {\n    \"SELF\": \".yonder-button-group\",\n    \"CHOICE\": \".btn\",\n    \"VALUE\": \".btn\"\n  },\n  Events: [\n    {\n      \"type\": \"click\",\n      \"selector\": \"button\",\n      \"callback\": (el, target, self) => self._VALUES[el.id] = target.getAttribute(\"data-value\")\n    }\n  ],\n  _VALUES: {},\n  getType: (el) => \"yonder.buttonGroup\",\n  getValue: function(el) {\n    return { \"force\": Date.now(), \"value\": this._VALUES[el.id] };\n  },\n  _update: (el, data) => {\n    let children = document.querySelectorAll(\".btn\");\n\n    children.forEach((child, i) => {\n      child.innerHTML = data.choices[i];\n      child.setAttribute(\"data-value\", data.values[i]);\n    });\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHILD);\n\n    children.forEach(child => {\n      let value = child.querySelector(this.Selector.VALUE).getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n        child.querySelector(this.Selector.VALUE).removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHILD);\n\n    children.forEach(child => {\n      let value = child.querySelector(this.Selector.VALUE).getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n        child.querySelector(this.Selector.VALUE).setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n        child.querySelector(this.Selector.VALUE).removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  Selector: {\n    SELF: \".yonder-button\"\n  },\n  Events: [\n    {\n      \"type\": \"click\",\n      \"callback\": (el, _, self) => self._VALUES[el.id] += 1\n    }\n  ],\n  _VALUES: {},\n  initialize: function(el) {\n    this._VALUES[el.id] = 0;\n  },\n  getType: function(el) {\n    return \"yonder.button\";\n  },\n  getValue: function(el) {\n    return this._VALUES[el.id];\n  },\n  _update: function(el, data) {\n    if (data.choices) {\n      el.innerHTML = data.choices[0];\n    }\n\n    if (data.values) {\n      this._VALUES[el.id] = +(data.values[0]);\n    }\n  },\n  _enable: function(el, data) {\n    el.classList.remove(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.classList.add(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbar\",\n    CHOICE: \".btn span\",\n    VALUE: \".btn input\",\n    SELECTED: \"input:checked\"\n  },\n  Events: [\n    { type: \"change\", selector: \".btn\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach((child, i) => {\n      child.querySelector(\"span\").innerHTML = data.choices[i];\n      child.querySelector(\"input\").setAttribute(\"data-value\", data.values[i]);\n    });\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHILD);\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n        input.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbox\",\n    CHOICE: \".custom-checkbox .custom-control-label\",\n    VALUE: \".custom-checkbox .custom-control-input\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getValue: function(el) {\n    let input = el.querySelector(\".custom-control-input:checked:not(:disabled)\");\n\n    return null && input.getAttribute(\"data-value\");\n  },\n  getState: function(el, data) {\n    return {\n      label: el.querySelector(this.Selector.CHOICE).innerHTML,\n      value: this.getValue(el)\n    };\n  },\n  _update: function(el, data) {\n    if (data.choices) {\n      el.querySelector(this.Selector.CHOICE).innerHTML = data.choices[0];\n    }\n\n    if (data.values) {\n      el.querySelector(this.Selector.VALUE).setAttribute(\"data-value\", data.values[0]);\n    }\n  },\n  _enable: function(el, data) {\n    el.querySelector(this.Selector.VALUE).removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(this.Selector.VALUE).setAttribute(\"disabled\", \"\");\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let dateInputBinding = new Shiny.InputBinding();\n\n$.extend(dateInputBinding, {\n  Selector: {\n    SELF: \".yonder-date\"\n  },\n  Events: [\n    { type: \"dateinput:close\" }\n  ],\n  initialize: function(el) {\n    let data = $(el).data();\n    let config = {\n      onClose: (selected, str, inst) => $(el).trigger(\"dateinput:close\")\n    };\n\n    if (data.mode === \"multiple\" && data.altFormat === \"alt-format\") {\n      config.altFormat = \"M j, Y\";\n      config.conjunction = \"; \";\n    }\n\n    if (data.defaultDate && (data.mode === \"range\" || data.mode === \"multiple\")) {\n      config.defaultDate = data.defaultDate.split(\"\\\\,\");\n      el.removeAttribute(\"data-default-date\");\n    }\n\n    if (data.enable) {\n      config.enable = data.enable.split(\"\\\\,\");\n      el.removeAttribute(\"data-enable\");\n    }\n\n    flatpickr(el, config);\n  },\n  getType: () => \"yonder.date\",\n  getValue: (el) => el._flatpickr.selectedDates,\n  _update: function(el, data) {\n    if (data.selected) {\n      el._flatpickr.setDate(data.selected, true);\n    }\n  },\n  _enable: function(el, data) {\n    el._flatpickr.set(\"enable\", data.values);\n  },\n  _disable: function(el, data) {\n    el._flatpickr.set(\"disable\", data.values);\n  }\n});\n\nShiny.inputBindings.register(dateInputBinding, \"yonder.dateInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$(\".yonder-file\").on(\"click\", \".input-group-append\", function(e) {\n  $(e.delegateTarget).find(\"input[type='file']\").trigger(\"click\");\n});\n\n$.extend(fileInputBinding, {\n  Selector: {\n    SELF: \".yonder-file[id]\",\n    VALIDATE: \"input[type='file']\"\n  },\n  getValue: el => null,\n  _enable: function(el, data) {\n    el.querySelector(\"input[type='file']\").removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input[type='file']\").setAttribute(\"disabled\", \"\");\n  },\n  _sendFile: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            let $input = $(el).find(\"input[type='file']\");\n            $input.val(\"\");\n            $input.text(\"Choose file\");\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _doUpload: function(el, files) {\n    if (!files) {\n      return;\n    }\n\n    let info = $.map(files, (f) => {\n      return { \"name\": f.name, \"size\": f.size, \"type\": f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._sendFile(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  },\n  subscribe: function(el, callback) {\n    let $input = $(el).find(\"input[type='file']\");\n\n    if (!$input.length) {\n      return;\n    }\n\n    let input = $input.get(0);\n\n    if ($(el).find(\".btn\").length) {\n      $(el).on(\"click.fileInputBinding\", \".btn\", (e) => {\n        this._doUpload(el, input.files);\n      });\n    } else {\n      $(el).on(\"change.fileInputBinding\", (e) => {\n        this._doUpload(el, input.files);\n      });\n    }\n\n    $(el).on(\"dragover.fileInputBinding\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    $(el).on(\"dragenter.fileInputBinding\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    $(el).on(\"drop.fileInputBinding\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (input.hasAttribute(\"multiple\")) {\n        this._doUpload(el, e.originalEvent.dataTransfer.files);\n      } else {\n        this._doUpload(el, e.originalEvent.dataTransfer.files[0]);\n      }\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off(\".fileInputBinding\");\n  }\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  Events: [\n    {\n      type: \"submit\",\n      callback: el => {\n        let submit = el.querySelector(\"button[data-type='submit']\");\n\n        if (submit === null) {\n          return;\n        }\n\n        submit.setAttribute(\"data-value\", +submit.getAttribute(\"data-value\") + 1);\n      }\n    }\n  ],\n  initialize: function(el) {\n    let submit = el.querySelector(\"button[data-type='submit']\");\n\n    if (submit === null) {\n      return;\n    }\n\n    submit.setAttribute(\"data-value\", 0);\n  },\n  find: function(scope) {\n    let forms = scope.querySelectorAll(\".yonder-form[id]\");\n\n    return Array.prototype.slice.call(forms).filter(form => {\n      return form.querySelector(\"button[data-type='submit']\") !== null;\n    });\n  },\n  getValue: function(el) {\n    let submit = el.querySelector(\"button[data-type='submit']\");\n\n    return submit && +submit.getAttribute(\"data-value\");\n  }\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let groupInputBinding = new Shiny.InputBinding();\n\n$.extend(groupInputBinding, {\n  Selector: {\n    SELF: \".yonder-group[id]\",\n    VALUE: \"input\",\n    SELECTED: \".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\",\n  },\n  Events: [\n    { type: \"input\", debounce: true },\n    { type: \"change\", debounce: true }\n  ],\n  getType: function(el) {\n    return \"yonder.group\";\n  },\n  getState: function(el) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    if (!data.values) {\n      return;\n    }\n    let input = el.querySelector(\"input\");\n    input.value = data.values[0];\n  },\n  _enable: function(el, data) {\n    let input = el.querySelector(\"input\");\n    input.removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    let input = el.querySelector(\"input\");\n    input.setAttribute(\"disabled\", \"\");\n  },\n  _validate: function(el, data) {\n    let input = el.querySelector(\"input\");\n    input.classList.remove(\"is-invalid\");\n  },\n  _invalidate: function(el, data) {\n    let input = el.querySelector(\"input\");\n    input.classList.add(\"is-invalid\");\n  }\n});\n\nShiny.inputBindings.register(groupInputBinding, \"yonder.groupInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  Selector: {\n    SELF: \".yonder-link[id]\"\n  },\n  Events: [\n    {\n      \"type\": \"click\",\n      \"callback\": (el, _, self) => self._VALUES[el.id] += 1\n    }\n  ],\n  _VALUES: {},\n  initialize: function(el) {\n    this._VALUES[el.id] = 0;\n  },\n  getType: function(el) {\n    return \"yonder.link\";\n  },\n  getValue: function(el) {\n    return {\n      \"value\": this._VALUES[el.id],\n      \"id\": el.id\n    };\n  },\n  _update: function(el, data) {\n    if (data.choices !== null) {\n      el.innerHTML = data.choices[0];\n    }\n\n    if (data.values !== null) {\n      this._VALUES[el.id] = data.values[0];\n    }\n  },\n  _disable: function(el, data) {\n    el.classList.add(\"disabled\");\n    $(el).on(\"click.disable\", e => false);\n  },\n  _enable: function(el, data) {\n    el.classList.remove(\"disabled\");\n    $(el).off(\".disable\");\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","// input\nexport let listGroupInputBinding = new Shiny.InputBinding();\n\n// $(() => {\n//   $(\".yonder-list-group[id]\").on(\"click\", \".list-group-item-action\", (e) => {\n//     e.target.classList.toggle(\"active\");\n//     return true;\n//   });\n// });\n\n$.extend(listGroupInputBinding, {\n  find: (scope) => $(scope).find(\".yonder-list-group[id]\"),\n\n  getId: (el) => el.id,\n\n  getValue: (el) => {\n    return Array.prototype.map.call(\n      el.querySelectorAll(\".list-group-item-action.active:not(.disabled)\"),\n      (child) => child.getAttribute(\"data-value\")\n    );\n  },\n\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n\n  subscribe: (el, callback) => {\n    if (el.getAttribute(\"data-multiple\") === \"true\") {\n      $(el).on(\"click\", \".list-group-item-action\", (e) => {\n        e.currentTarget.classList.toggle(\"active\");\n        callback();\n      });\n    } else {\n      $(el).on(\"click\", \".list-group-item-action\", (e) => {\n        el.querySelectorAll(\".list-group-item-action.active\").forEach(li => {\n          li.classList.remove(\"active\");\n        });\n        e.currentTarget.classList.add(\"active\");\n        callback();\n      });\n    }\n  },\n\n  unsubscribe: (el) => $(el).off(\".listGroupInputBinding\")\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","export let menuInputBinding = new Shiny.InputBinding();\n\n$.extend(menuInputBinding, {\n  Selector: {\n    SELF: \".yonder-menu\",\n    CHOICE: \".dropdown-item\",\n    VALUE: \".dropdown-item\",\n    SELECTED: \".active\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"a\",\n      callback: el => false\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, target, self) => self._VALUES[el.id] = target.getAttribute(\"data-value\")\n    }\n  ],\n  _VALUES: {},\n  find: function(scope) {\n    return scope.querySelectorAll(`:not(.nav) > ${ this.Selector.SELF }[id]`);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getType: el => \"yonder.menu\",\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _update: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHOICE);\n\n    children.forEach((child, i) => {\n      child.innerText = data.choices[i];\n      child.setAttribute(\"data-value\", data.values[i]);\n    });\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHOICE);\n\n    children.forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHOICE);\n\n    children.forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(menuInputBinding, \"yonder.menuInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$.extend(navInputBinding, {\n  Selector: {\n    SELF: \".yonder-nav[id]\",\n    CHILD: \".nav-item\",\n    CHOICE: \".nav-link\",\n    VALUE: \".nav-link\",\n    SELECTED: \".active\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"a\",\n      callback: el => false\n    },\n    {\n      type: \"click\",\n      selector: \".nav-link:not(.dropdown-toggle):not(.disabled)\",\n      callback: (el, target) => {\n        el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n        target.classList.add(\"active\");\n      }\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, target) => {\n        el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n\n        target.parentNode.parentNode.firstElementChild.classList.add(\"active\");\n        target.classList.add(\"active\");\n      }\n    }\n  ],\n  _disable: function(el, data) {\n    el.querySelectorAll(\"[data-value]\").forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _enable: function(el, data) {\n    el.querySelectorAll(\"[data-value]\").forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  let pane = document.getElementById(msg.data.target);\n\n  if (pane === null ||\n      !pane.parentElement.classList.contains(\"tab-content\")) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n","export let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  Selector: {\n    SELF: \".yonder-radio[id]\",\n    CHILD: \".custom-radio\",\n    VALUE: \".custom-control-input\",\n    LABEL: \".custom-control-label\",\n    SELECTED: \".custom-control-input:checked:not(:disabled)\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    VALUE: \".btn input\",\n    LABEL: \".btn > span\",\n    SELECTED: \".btn input:checked\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  Selector: {\n    SELF: \".yonder-range[id]\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  initialize: (el) => {\n    let $el = $(el);\n    let $input = $el.find(\"input[type='text']\");\n\n    $input.ionRangeSlider();\n\n    let bgclasses = $el.attr(\"class\")\n        .split(/\\s+/)\n        .filter(c => /^bg-[a-z-]+$/.test(c))\n        .join(\" \");\n\n    if (bgclasses) {\n      $el.find(\".irs-slider,.irs-bar,.irs-bar-edge,.irs-to,.irs-from,.irs-single,.irs-slider\")\n        .addClass(bgclasses);\n      $el.removeClass(bgclasses);\n    }\n\n    if ($input.data(\"no-fill\")) {\n      $el.find(\".irs-bar,.irs-bar-edge\").addClass(\"no-fill\");\n    }\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  getValue: function(el) {\n    var $input = $(\"input[type='text']\", el);\n    var data = $input.data(\"ionRangeSlider\");\n\n    if ($input.data(\"type\") == \"double\") {\n      return [data.result.from, data.result.to];\n    } else if ($input.data(\"type\") == \"single\") {\n      if (data.result.from_value !== null) {\n        return data.result.from_value.replace(\"&#44;\", \",\");\n      } else {\n        return data.result.from;\n      }\n    }\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  receiveMessage: function(el, msg) {\n    console.error(\"receiveMessage: not implemented for range input\");\n    return;\n  },\n  dispose: function(el) {\n    var $input = $(\"input[type='text']\", el);\n\n    $input.data(\"ionRangeSlider\").destroy();\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  Selector: {\n    SELF: \".yonder-select[id]\",\n    CHILD: \"option\",\n    CHOICE: null,\n    VALUE: null,\n    SELECTED: \"option:checked:not(:disabled)\",\n    VALIDATE: \"select\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    let select = el.querySelector(\"select\");\n    let options = select.querySelectorAll(\"option\");\n\n    if (!options.length) {\n      return false;\n    }\n\n    let template = options[0].cloneNode();\n    template.removeAttribute(\"selected\");\n    select.innerHTML = \"\";\n\n    for (var i = 0; i < data.choices.length; i++) {\n      template.innerHTML = data.choices[i];\n      template.setAttribute(\"data-value\", data.values[i]);\n\n      select.appendChild(template.cloneNode(true));\n    }\n\n    if (data.selected) {\n      select\n        .querySelector(`option:nth-child(${ data.selected })`)\n        .setAttribute(\"selected\", \"\");\n    } else {\n      select.querySelector(\"option\").setAttribute(\"selected\", \"\");\n    }\n  },\n  _enable: function(el, data) {\n    let options = el.querySelectorAll(\"option\");\n\n    for (const option of options) {\n      let value = option.getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        option.removeAttribute(\"disabled\");\n      }\n    }\n  },\n  _disable: function(el, data) {\n    let options = el.querySelectorAll(\"option\");\n\n    for (const option of options) {\n      let value = option.getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        option.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        option.removeAttribute(\"disabled\");\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  Selector: {\n    SELF: \".yonder-textual[id]\",\n    VALIDATE: \"input\"\n  },\n  Events: [\n    { type: \"change\", debounce: true },\n    { type: \"input\", debounce: true }\n  ],\n  getValue: function(el) {\n    let input = el.querySelector(\"input\");\n    let value = input.value;\n\n    if (input.type === \"number\") {\n      return parseInt(value, 10);\n    }\n\n    return value;\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  getRatePolicy: function() {\n    return {\n      policy: \"debounce\",\n      delay: 250\n    };\n  },\n  _update: function(el, data) {\n    data.values && (el.querySelector(\"input\").value = data.values[0]);\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n  },\n  _enable: function(el, data) {\n    el.querySelector(\"input\").removeAttribute(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n","export let badgeOutputBinding = new Shiny.OutputBinding();\n\n$.extend(badgeOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-badge[id]\");\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  renderValue: function(el, msg) {\n    if (msg.data !== undefined) {\n      el.innerHTML = msg.data;\n    }\n  },\n  renderError: function(el, data) {\n\n  },\n  clearError: function(el) {\n\n  }\n});\n\nShiny.outputBindings.register(badgeOutputBinding, \"yonder.badgeOutput\");\n","$.extend(Shiny.progressHandlers, {\n  \"yonder-progress\": (msg) => {\n    if (!msg.type || !msg.data.outlet) {\n      return false;\n    }\n\n    let $outlet = $(`#${ msg.data.outlet }`);\n\n    if (msg.type === \"show\") {\n      let $bar = $(msg.data.content);\n\n      if ($bar[0].id && $outlet.find(`#${ $bar[0].id }`).length) {\n        $outlet.find(`#${ $bar[0].id }`).replaceWith($bar);\n      } else {\n        $outlet.append($bar);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n});\n","export let tableInputBinding = new Shiny.InputBinding();\n\n$.extend(tableInputBinding, {\n  Selector: {\n    SELF: \".yonder-table[id]\"\n  },\n  Type: \"yonder.table\",\n  Events: [\n    { type: \"chabudai:select\" },\n    { type: \"chabudai:edited\" }\n  ],\n  getValue: function(el) {\n    return JSON.stringify($(el).table(\"selected\"));\n  },\n  receiveMessage: function(el, msg) {\n    return;\n  }\n});\n\nexport let tableOutputBinding = new Shiny.OutputBinding();\n\n$.extend(tableOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-table[id]\");\n  },\n  renderValue: function(el, msg) {\n    if (msg.data) {\n      $(el).table({ \"data\": msg.data });\n    }\n  }\n});\n\nShiny.inputBindings.register(tableInputBinding, \"yonder.tableInput\");\nShiny.outputBindings.register(tableOutputBinding, \"yonder.tableOutput\");\n","export let alertInputBinding = new Shiny.InputBinding();\n\n$(() => {\n  $(document.body).append(\n    $(\"<div class='yonder-alert-container' id='alert-container'></div>\")\n  );\n});\n\n$.extend(alertInputBinding, {\n  Selector: {\n    SELF: \".yonder-alert-container\"\n  },\n  Alerts: [],\n  getValue: function(el) {\n    return null;\n  },\n  receiveMessage: function(el, msg) {\n    if (msg.type === undefined) {\n      return;\n    }\n\n    if (msg.type === \"show\") {\n      let data = msg.data;\n\n      let $alert = $(data.content);\n\n      if (data.action) {\n        $alert.append($(`<button class=\"btn btn-link alert-link alert-action\">${ data.action }</button>`));\n        $alert.on(\"click\", \".alert-action\", (e) => {\n          Shiny.onInputChange(data.action, true);\n        });\n      }\n\n      this.Alerts.push({ el: $alert, action: data.action });\n\n      $alert.appendTo($(this.Selector.SELF))\n        .velocity(\n          { top: 0, opacity: 1 },\n          { duration: 300, easing: \"easeOutCubic\", queue: false }\n        );\n\n      if (data.duration !== null) {\n        setTimeout(\n          () => {\n            if (this.Alerts.length === 0) {\n              return;\n            }\n\n            let item = this.Alerts.shift();\n\n            if (item.action) {\n              Shiny.onInputChange(item.action, null);\n            }\n\n            item.el.remove();\n          },\n          data.duration\n        );\n      }\n\n      return;\n    }\n\n    if (msg.type === \"close\") {\n      if (this.Alerts.length === 0) {\n        return;\n      }\n\n      let data = msg.data;\n\n      let indeces = typeof data.index === \"number\" ? [data.index] : data.index;\n      let text = typeof data.text === \"string\" ? [data.text] : data.text;\n\n      let selector = Object.entries(data.attrs)\n          .map(item => {\n            return `[${ item[0] }${ item[1] ? (item[0] === \"class\" ? \"*=\" : \"=\") + item[1] : \"\" }]`;\n          })\n          .join(\"\");\n\n      this.Alerts = this.Alerts.filter((alert, index) => {\n        let $el = $(alert.el);\n\n        if (indeces.includes(index) || text.includes($el.text()) || $el.is(selector)) {\n          if (alert.action) {\n            Shiny.onInputChange(alert.action, null);\n          }\n\n          $el.remove();\n\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(alertInputBinding, \"yonder.alertInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:element\", (msg) => {\n  let _render = (data) => {\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    container.innerHTML = data.content;\n\n    Shiny.initializeInputs(container);\n    Shiny.bindAll(container);\n  };\n\n  let _remove = (data) => {\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n\n    container.innerHTML = \"\";\n  };\n\n  console.log(msg);\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"render\") {\n    _render(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no element method _${ msg.type }`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"close\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal === null) {\n      return false;\n    }\n\n    Shiny.unbindAll(modal);\n\n    $(modal).modal(\"hide\");\n\n    return true;\n  }\n\n  if (msg.type === \"show\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal !== null) {\n      modal.innerHTML = msg.data.content;\n    } else {\n      $(document.body).append(\n        $(`<div class=\"modal fade\" tabindex=-1 role=\"dialog\">${ msg.data.content }</div>`)\n      );\n      modal = document.body.querySelector(\".modal\");\n    }\n\n    if (msg.data.dependencies !== undefined) {\n      Shiny.renderDependencies(msg.data.dependencies);\n    }\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n\n    $(modal).modal(\"show\");\n\n    return true;\n  }\n\n  return false;\n});\n","import \"./yonder-input-binding.js\";\n\nimport \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-date.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-group-input.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport \"./input-binding-menu.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./output-binding-badge.js\";\nimport \"./output-binding-progress.js\";\n\nimport \"./thruput-binding-table.js\";\n\nimport \"./alert.js\";\nimport \"./collapsible.js\";\nimport \"./element.js\";\nimport \"./modal.js\";\n\n$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n  $(\"[data-toggle=\\\"popover\\\"]\").popover();\n\n  $(document).on(\"shiny:connected\", function() {\n    $(\".yonder-submit[data-type=\\\"submit\\\"]\").attr(\"type\", \"submit\");\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n    if (msg.data.target === undefined) {\n      return;\n    }\n\n    if (msg.type == \"show\") {\n      let data = msg.data;\n      let target = `#${ data.target }`;\n\n      $(target).popover({\n        title: () => undefined,\n        content: () => undefined,\n        template: data.content,\n        placement: data.placement,\n        trigger: \"manual\"\n      });\n\n      if (data.duration) {\n        setTimeout(\n          () => $(target).popover(\"hide\"),\n          data.duration\n        );\n      }\n\n      $(target).popover(\"show\");\n\n      return;\n    }\n\n    if (msg.type == \"close\") {\n      $(`#${ msg.data.id }`).popover(\"hide\");\n\n      return;\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:download\", function(msg) {\n    if (!(msg.filename && msg.token && msg.key)) {\n      throw \"invalid download event\";\n    }\n\n    const uri = \"/session/\" + msg.token + \"/download/\" + msg.key;\n\n    let agent = window.navigator.userAgent;\n    let ie = ua.indexOf(\"MSIE \");\n\n    if (ie > 0) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", uri);\n      xhr.responseType = \"blob\";\n      xhr.onload = () => saveAs(xhr.response, msg.filename);\n      xhr.send();\n    } else {\n      fetch(uri)\n        .then(res => res.blob())\n        .then(blob => {\n          saveAs(blob, msg.filename);\n        });\n    }\n  });\n\n});\n"],"names":["undefined","Shiny","find","scope","querySelectorAll","this","Selector","SELF","getId","el","id","getType","Type","getValue","hasSelector","selected","SELECTED","length","Array","prototype","map","call","s","getAttribute","value","subscribe","callback","isFormElement","closest","on","e","Events","event","type","selector","target","preventDefault","debounce","unsubscribe","off","_update","data","warn","_enable","_disabled","_invalidate","input","querySelector","VALIDATE","classList","remove","add","feedback","innerHTML","message","_validate","receiveMessage","msg","action","split","choices","values","CHOICE","slice","VALUE","_disable","key","$","parents","InputBinding","buttonGroupInputBinding","extend","self","_VALUES","force","Date","now","document","forEach","child","i","setAttribute","CHILD","indexOf","invert","removeAttribute","reset","inputBindings","register","buttonInputBinding","_","checkbarInputBinding","checkboxInputBinding","dateInputBinding","config","str","inst","trigger","mode","altFormat","conjunction","defaultDate","enable","_flatpickr","selectedDates","setDate","set","fileInputBinding","delegateTarget","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","$input","val","text","err","error","send","files","info","f","name","size","jobId","uploadUrl","_sendFile","get","_doUpload","stopPropagation","hasAttribute","originalEvent","dataTransfer","formInputBinding","submit","forms","filter","form","groupInputBinding","linkInputBinding","listGroupInputBinding","currentTarget","toggle","li","menuInputBinding","innerText","navInputBinding","a","parentNode","firstElementChild","addCustomMessageHandler","pane","getElementById","parentElement","contains","previous","complete","hiddenEvent","Event","shownEvent","Tab","_activate","radioInputBinding","radiobarInputBinding","rangeInputBinding","$el","ionRangeSlider","bgclasses","attr","c","test","join","addClass","removeClass","result","from","to","from_value","replace","destroy","selectInputBinding","select","options","template","cloneNode","appendChild","option","textualInputBinding","parseInt","badgeOutputBinding","OutputBinding","outputBindings","progressHandlers","outlet","$outlet","$bar","content","replaceWith","append","tableInputBinding","JSON","stringify","table","tableOutputBinding","alertInputBinding","body","$alert","onInputChange","Alerts","push","appendTo","velocity","top","opacity","duration","easing","queue","item","shift","indeces","index","Object","entries","attrs","alert","includes","is","collapse","log","dependencies","renderDependencies","container","initializeInputs","bindAll","unbindAll","modal","tooltip","popover","placement","filename","token","window","navigator","userAgent","ua","responseType","onload","saveAs","response","then","blob"],"mappings":"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"}