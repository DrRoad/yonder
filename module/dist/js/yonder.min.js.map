{"version":3,"file":"yonder.min.js","sources":["../../src/js/yonder-input-binding.js","../../src/js/input-binding-button-group.js","../../src/js/input-binding-button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-date.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-group-input.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/input-binding-menu.js","../../src/js/input-binding-nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/output-binding-badge.js","../../src/js/output-binding-progress.js","../../src/js/thruput-binding-table.js","../../src/js/alert.js","../../src/js/collapsible.js","../../src/js/element.js","../../src/js/modal.js","../../src/js/yonder.js"],"sourcesContent":["export function yonderInputBinding() {\n  this.Selector = {};\n  this.Events = [];\n\n  this.find = function(scope) {\n    return scope.querySelectorAll(`${ this.Selector.SELF }[id]`);\n  };\n\n  this.getId = function(el) {\n    return el.id;\n  };\n\n  this.getType = function(el) {\n    return this.Type || false;\n  };\n\n  // may not be worth it to have this method already created\n  this.getValue = function(el) {\n    if (!this.Selector.hasOwnProperty(\"SELECTED\")) {\n      return null;\n    }\n\n    let selected = Array.prototype.slice.call(el.querySelectorAll(this.Selector.SELECTED));\n\n    if (!selected.length) {\n      return null;\n    }\n\n    return selected.map(s => s.getAttribute(\"data-value\") || s.value);\n  };\n\n  this.getState = function(el, data) {\n    return { value: this.getValue(el) };\n  };\n\n  this.attachHandler = function(el, type, selector, handler, callback, debounce) {\n    $(el).on(`${ type }.yonder`, (selector || null), (e) => {\n      if (handler) {\n        let result = handler(el, selector && e.target || undefined, this);\n\n        if (result === false) {\n          e.preventDefault();\n          return;\n        }\n      }\n\n      if (callback) {\n        callback(debounce || false);\n      }\n    });\n  };\n\n  this.subscribe = function(el, callback) {\n    let $el = $(el);\n\n    let formElement = false;\n    if ($el.parent().closest(\".yonder-form[id]\").length) {\n      $el.on(\"submission.yonder\", e => callback());\n      formElement = true;\n    }\n\n    this.Events.forEach(event => {\n      this.attachHandler(\n        el,\n        event.type, event.selector, event.callback,\n        formElement ? null : callback, event.debounce\n      );\n    });\n  };\n\n  this.unsubscribe = function(el) {\n    $(el).off(\"yonder\");\n  };\n\n  this._update = (el, data) => {\n    console.warn(\"no _update method\");\n  };\n\n  this._enable = (el, data) => {\n    console.warn(\"no _enable method\");\n  };\n\n  this._disable = (el, data) => {\n    console.warn(\"no _disable method\");\n  };\n\n  this._invalidate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support invalidation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-valid\");\n    input.classList.add(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = data.message;\n    }\n  };\n\n  this._validate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support validation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = \"\";\n    }\n  };\n\n  this.receiveMessage = function(el, msg) {\n    if (!msg.type || msg.data === undefined) {\n      return false;\n    }\n\n    let [action, type = null] = msg.type.split(\":\");\n\n    switch (action) {\n    case \"update\":\n      let choices = msg.data.choices;\n      let values = msg.data.values;\n      let selected = msg.data.selected;\n\n      if (!choices && values && this.Selector.CHOICE) {\n        choices = Array.prototype.slice.call(\n          el.querySelectorAll(this.Selector.CHOICE),\n          0,\n          values.length\n        );\n      } else if (choices && !values && this.Selector.VALUE) {\n        values = Array.prototype.slice.call(\n          el.querySelectorAll(this.Selector.VALUE),\n          0,\n          choices.length\n        );\n      }\n\n      let data = { choices: choices, values: values, selected: selected };\n\n      this._update(el, data);\n\n      break;\n\n    case \"enable\":\n      this._enable(el, msg.data);\n      break;\n\n    case \"disable\":\n      this._disable(el, msg.data);\n      break;\n\n    case \"invalidate\":\n      this._invalidate(el, msg.data);\n      break;\n\n    case \"validate\":\n      this._validate(el, msg.data);\n      break;\n    }\n\n    return false;\n  };\n}\n\nif (Shiny) {\n  yonderInputBinding.call(Shiny.InputBinding.prototype);\n}\n","export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  Selector: {\n    \"SELF\": \".yonder-button-group\",\n    \"CHOICE\": \".btn\",\n    \"VALUE\": \".btn\"\n  },\n  Events: [\n    {\n      \"type\": \"click\",\n      \"selector\": \"button\",\n      \"callback\": (el, target, self) => self._VALUES[el.id] = target.getAttribute(\"data-value\")\n    }\n  ],\n  _VALUES: {},\n  getType: (el) => \"yonder.buttonGroup\",\n  getValue: function(el) {\n    return { \"force\": Date.now(), \"value\": this._VALUES[el.id] };\n  },\n  _update: (el, data) => {\n    if (data.choices) {\n      let children = document.querySelectorAll(\".btn\");\n\n      children.forEach((child, i) => {\n        child.innerHTML = data.choices[i];\n        child.setAttribute(\"data-value\", data.values[i]);\n      });\n    }\n\n    // can't \"select\"\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHILD);\n\n    children.forEach(child => {\n      let value = child.querySelector(this.Selector.VALUE).getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n        child.querySelector(this.Selector.VALUE).removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHILD);\n\n    children.forEach(child => {\n      let value = child.querySelector(this.Selector.VALUE).getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n        child.querySelector(this.Selector.VALUE).setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n        child.querySelector(this.Selector.VALUE).removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  Selector: {\n    SELF: \".yonder-button\"\n  },\n  Events: [\n    { \"type\": \"click\", callback: el => el.value = +el.value + 1 }\n  ],\n  Type: \"yonder.button\",\n  initialize: function(el) {\n    el.value = 0;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: el.value };\n  },\n  _update: function(el, data) {\n    if (data.choices) {\n      el.innerHTML = data.choices[0];\n\n      if (data.values[0] === 0) {\n        el.value = 0;\n      } else {\n        el.value = +data.values[0] || el.value;\n      }\n    }\n  },\n  _enable: function(el, data) {\n    el.classList.remove(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.classList.add(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbar\",\n    CHOICE: \".btn span\",\n    VALUE: \".btn input\",\n    SELECTED: \"input:checked\"\n  },\n  Events: [\n    { type: \"change\", selector: \".btn\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    if (data.choices) {\n      let children = el.querySelectorAll(\".btn\");\n\n      children.forEach((child, i) => {\n        child.querySelector(\"span\").innerHTML = data.choices[i];\n        child.querySelector(\"input\").setAttribute(\"data-value\", data.values[i]);\n      });\n    }\n\n    if (data.selected) {\n      let current = el.querySelector(\".active\");\n\n      if (current !== null) {\n        current.classList.remove(\"active\");\n      }\n\n      data.selected\n        .map(s => el.querySelector(`label[data-value=\"${ s }\"]`))\n        .filter(child => child !== null)\n        .forEach(child => child.classList.add(\"active\"));\n    }\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n        input.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbox\",\n    CHOICE: \".custom-checkbox .custom-control-label\",\n    VALUE: \".custom-checkbox .custom-control-input\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getValue: function(el) {\n    let input = el.querySelector(\".custom-control-input:checked:not(:disabled)\");\n\n    return null && input.getAttribute(\"data-value\");\n  },\n  getState: function(el, data) {\n    return {\n      label: el.querySelector(this.Selector.CHOICE).innerHTML,\n      value: this.getValue(el)\n    };\n  },\n  _update: function(el, data) {\n    if (data.choices) {\n      el.querySelector(this.Selector.CHOICE).innerHTML = data.choices[0];\n      el.querySelector(this.Selector.VALUE).setAttribute(\"data-value\", data.values[0]);\n    }\n\n    if (data.selected) {\n      let target = el.querySelector(this.Selector.VALUE);\n      let value = target.getAttribute(\"data-value\");\n\n      if (value === data.selected && !target.hasAttribute(\"checked\")) {\n        target.setAttribute(\"checked\", \"\");\n      } else if (value !== data.selected && target.hasAttribute(\"checked\")) {\n        target.removeAttribute(\"checked\");\n      }\n    }\n  },\n  _enable: function(el, data) {\n    el.querySelector(this.Selector.VALUE).removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(this.Selector.VALUE).setAttribute(\"disabled\", \"\");\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let dateInputBinding = new Shiny.InputBinding();\n\n$.extend(dateInputBinding, {\n  Selector: {\n    SELF: \".yonder-date\"\n  },\n  Events: [\n    { type: \"dateinput:close\" }\n  ],\n  initialize: function(el) {\n    let data = $(el).data();\n    let config = {\n      onClose: (selected, str, inst) => $(el).trigger(\"dateinput:close\")\n    };\n\n    if (data.mode === \"multiple\" && data.altFormat === \"alt-format\") {\n      config.altFormat = \"M j, Y\";\n      config.conjunction = \"; \";\n    }\n\n    if (data.defaultDate && (data.mode === \"range\" || data.mode === \"multiple\")) {\n      config.defaultDate = data.defaultDate.split(\"\\\\,\");\n      el.removeAttribute(\"data-default-date\");\n    }\n\n    if (data.enable) {\n      config.enable = data.enable.split(\"\\\\,\");\n      el.removeAttribute(\"data-enable\");\n    }\n\n    flatpickr(el, config);\n  },\n  getType: () => \"yonder.date\",\n  getValue: (el) => el._flatpickr.selectedDates,\n  _update: function(el, data) {\n    if (data.selected) {\n      el._flatpickr.setDate(data.selected, true);\n    }\n  },\n  _enable: function(el, data) {\n    el._flatpickr.set(\"enable\", data.values);\n  },\n  _disable: function(el, data) {\n    el._flatpickr.set(\"disable\", data.values);\n  }\n});\n\nShiny.inputBindings.register(dateInputBinding, \"yonder.dateInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$(\".yonder-file\").on(\"click\", \".input-group-append\", function(e) {\n  $(e.delegateTarget).find(\"input[type='file']\").trigger(\"click\");\n});\n\n$.extend(fileInputBinding, {\n  Selector: {\n    SELF: \".yonder-file[id]\",\n    VALIDATE: \"input[type='file']\"\n  },\n  getValue: el => null,\n  _enable: function(el, data) {\n    el.querySelector(\"input[type='file']\").removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input[type='file']\").setAttribute(\"disabled\", \"\");\n  },\n  _sendFile: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            let $input = $(el).find(\"input[type='file']\");\n            $input.val(\"\");\n            $input.text(\"Choose file\");\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _doUpload: function(el, files) {\n    if (!files) {\n      return;\n    }\n\n    let info = $.map(files, (f) => {\n      return { \"name\": f.name, \"size\": f.size, \"type\": f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._sendFile(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  },\n  subscribe: function(el, callback) {\n    let $input = $(el).find(\"input[type='file']\");\n\n    if (!$input.length) {\n      return;\n    }\n\n    let input = $input.get(0);\n\n    if ($(el).find(\".btn\").length) {\n      $(el).on(\"click.fileInputBinding\", \".btn\", (e) => {\n        this._doUpload(el, input.files);\n      });\n    } else {\n      $(el).on(\"change.fileInputBinding\", (e) => {\n        this._doUpload(el, input.files);\n      });\n    }\n\n    $(el).on(\"dragover.fileInputBinding\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    $(el).on(\"dragenter.fileInputBinding\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    $(el).on(\"drop.fileInputBinding\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (input.hasAttribute(\"multiple\")) {\n        this._doUpload(el, e.originalEvent.dataTransfer.files);\n      } else {\n        this._doUpload(el, e.originalEvent.dataTransfer.files[0]);\n      }\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off(\".fileInputBinding\");\n  }\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  Events: [\n    {\n      type: \"click\",\n      selector: \".yonder-submit\",\n      callback: (el, target, self) => {\n        self._VALUES[el.id] = target.value;\n        $(el.querySelectorAll(\".shiny-bound-input\")).trigger(\"submission.yonder\");\n      }\n    }\n  ],\n  Type: \"yonder.form\",\n  _VALUES: {},\n  find: function(scope) {\n    let forms = Array.prototype.slice.call(scope.querySelectorAll(\".yonder-form[id]\"));\n\n    return forms.filter(f => f.querySelector(\".yonder-submit\") !== null);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  }\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let groupInputBinding = new Shiny.InputBinding();\n\n$.extend(groupInputBinding, {\n  Selector: {\n    SELF: \".yonder-group[id]\",\n    VALUE: \"input\",\n    SELECTED: \".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\",\n  },\n  Events: [\n    { type: \"input\", debounce: true },\n    { type: \"change\", debounce: true }\n  ],\n  getType: function(el) {\n    return \"yonder.group\";\n  },\n  getState: function(el) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    if (data.values) {\n      let input = el.querySelector(\"input\");\n      input.value = data.values[0];\n    }\n  },\n  _enable: function(el, data) {\n    let input = el.querySelector(\"input\");\n\n    if (input !== null) {\n      input.removeAttribute(\"disabled\");\n    }\n  },\n  _disable: function(el, data) {\n    let input = el.querySelector(\"input\");\n\n    if (input !== null) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n  },\n  _validate: function(el, data) {\n    let input = el.querySelector(\"input\");\n\n    if (input !== null) {\n      input.classList.remove(\"is-invalid\");\n    }\n  },\n  _invalidate: function(el, data) {\n    let input = el.querySelector(\"input\");\n\n    if (input !== null) {\n      input.classList.add(\"is-invalid\");\n    }\n  }\n});\n\nShiny.inputBindings.register(groupInputBinding, \"yonder.groupInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  Selector: {\n    SELF: \".yonder-link[id]\"\n  },\n  Events: [\n    {\n      \"type\": \"click\",\n      \"callback\": (el, _, self) => self._VALUES[el.id] += 1\n    }\n  ],\n  _VALUES: {},\n  initialize: function(el) {\n    this._VALUES[el.id] = 0;\n  },\n  getType: function(el) {\n    return \"yonder.link\";\n  },\n  getValue: function(el) {\n    return {\n      \"value\": this._VALUES[el.id],\n      \"id\": el.id\n    };\n  },\n  _update: function(el, data) {\n    if (data.choices !== null) {\n      el.innerHTML = data.choices[0];\n    }\n\n    if (data.values !== null) {\n      this._VALUES[el.id] = data.values[0];\n    }\n  },\n  _disable: function(el, data) {\n    el.classList.add(\"disabled\");\n    $(el).on(\"click.disable\", e => false);\n  },\n  _enable: function(el, data) {\n    el.classList.remove(\"disabled\");\n    $(el).off(\".disable\");\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","export let listGroupInputBinding = new Shiny.InputBinding();\n\n$(document).on(\"click\", \".list-group-item-action\", (e) => {\n  let parent = e.currentTarget.parentNode;\n\n  if (parent.getAttribute(\"data-multiple\") === \"false\") {\n    parent.querySelectorAll(\".list-group-item-action.active\").forEach(child => {\n      child.classList.remove(\"active\");\n    });\n  }\n\n  e.currentTarget.classList.toggle(\"active\");\n});\n\n$.extend(listGroupInputBinding, {\n  Selector: {\n    SELF: \".yonder-list-group\",\n    SELECTED: \".list-group-item-action.active:not(.disabled)\"\n  },\n  Events: [\n    { type: \"click\" }\n  ],\n  _update: (el, data) => {\n    let children = el.querySelectorAll(\".list-group-item\");\n\n    if (data.choices) {\n      children.forEach((child, i) => {\n        child.innerHTML = data.choices[i];\n        child.setAttribute(\"data-value\", data.values[i]);\n      });\n    }\n\n    if (data.selected) {\n      let current = el.querySelector(\".list-group-item.active\");\n      if (current !== null) {\n        current.classList.remove(\"active\");\n      }\n\n      let selected = data.selected.length ? data.selected : [data.selected];\n      children.forEach(child => {\n        if (selected.indexOf(child.getAttribute(\"data-value\")) > -1) {\n          child.classList.add(\"active\");\n        }\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","export let menuInputBinding = new Shiny.InputBinding();\n\n$.extend(menuInputBinding, {\n  Selector: {\n    SELF: \".yonder-menu\",\n    CHOICE: \".dropdown-item\",\n    VALUE: \".dropdown-item\",\n    SELECTED: \".active\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"a\",\n      callback: el => false\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, target, self) => self._VALUES[el.id] = target.getAttribute(\"data-value\")\n    }\n  ],\n  _VALUES: {},\n  find: function(scope) {\n    return scope.querySelectorAll(`:not(.nav) > ${ this.Selector.SELF }[id]`);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getType: el => \"yonder.menu\",\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _update: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHOICE);\n\n    children.forEach((child, i) => {\n      child.innerText = data.choices[i];\n      child.setAttribute(\"data-value\", data.values[i]);\n    });\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHOICE);\n\n    children.forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHOICE);\n\n    children.forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(menuInputBinding, \"yonder.menuInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$.extend(navInputBinding, {\n  Selector: {\n    SELF: \".yonder-nav[id]\",\n    CHILD: \".nav-item\",\n    CHOICE: \".nav-link\",\n    VALUE: \".nav-link\",\n    SELECTED: \".active\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"a\",\n      callback: el => false\n    },\n    {\n      type: \"click\",\n      selector: \".nav-link:not(.dropdown-toggle):not(.disabled)\",\n      callback: (el, target) => {\n        el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n        target.classList.add(\"active\");\n      }\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, target) => {\n        el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n\n        target.parentNode.parentNode.firstElementChild.classList.add(\"active\");\n        target.classList.add(\"active\");\n      }\n    }\n  ],\n  _disable: function(el, data) {\n    el.querySelectorAll(\"[data-value]\").forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _enable: function(el, data) {\n    el.querySelectorAll(\"[data-value]\").forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\")) {\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  // let _hide = function(pane) {\n  //   let current = pane.parent\n  // };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(document.getElementById(msg.data.target));\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n","export let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  Selector: {\n    SELF: \".yonder-radio[id]\",\n    CHILD: \".custom-radio\",\n    VALUE: \".custom-control-input\",\n    LABEL: \".custom-control-label\",\n    SELECTED: \".custom-control-input:checked:not(:disabled)\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    VALUE: \".btn input\",\n    LABEL: \".btn > span\",\n    SELECTED: \".btn input:checked\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    if (data.choices) {\n      children.forEach((child, i) => {\n        child.querySelector(\"span\").innerHTML = data.choices[i];\n        child.querySelector(\"input\").setAttribute(\"data-value\", data.values[i]);\n      });\n    }\n\n    if (data.selected) {\n      el.querySelector(\".active\").classList.remove(\"active\");\n      el.querySelector(`input[data-value=${ data.selected }]`)\n        .parentNode.classList.add(\"active\");\n    }\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n        input.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  Selector: {\n    SELF: \".yonder-range[id]\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  initialize: (el) => {\n    let $el = $(el);\n    let $input = $el.find(\"input[type='text']\");\n\n    $input.ionRangeSlider();\n\n    let bgclasses = $el.attr(\"class\")\n        .split(/\\s+/)\n        .filter(c => /^bg-[a-z-]+$/.test(c))\n        .join(\" \");\n\n    if (bgclasses) {\n      $el.find(\".irs-slider,.irs-bar,.irs-bar-edge,.irs-to,.irs-from,.irs-single,.irs-slider\")\n        .addClass(bgclasses);\n      $el.removeClass(bgclasses);\n    }\n\n    if ($input.data(\"no-fill\")) {\n      $el.find(\".irs-bar,.irs-bar-edge\").addClass(\"no-fill\");\n    }\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  getValue: function(el) {\n    var $input = $(\"input[type='text']\", el);\n    var data = $input.data(\"ionRangeSlider\");\n\n    if ($input.data(\"type\") == \"double\") {\n      return [data.result.from, data.result.to];\n    } else if ($input.data(\"type\") == \"single\") {\n      if (data.result.from_value !== null) {\n        return data.result.from_value.replace(\"&#44;\", \",\");\n      } else {\n        return data.result.from;\n      }\n    }\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  receiveMessage: function(el, msg) {\n    console.error(\"receiveMessage: not implemented for range input\");\n    return;\n  },\n  dispose: function(el) {\n    var $input = $(\"input[type='text']\", el);\n\n    $input.data(\"ionRangeSlider\").destroy();\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  Selector: {\n    SELF: \".yonder-select[id]\",\n    CHILD: \"option\",\n    CHOICE: null,\n    VALUE: null,\n    SELECTED: \"option:checked:not(:disabled)\",\n    VALIDATE: \"select\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    let select = el.querySelector(\"select\");\n    let options = select.querySelectorAll(\"option\");\n\n    if (!options.length) {\n      return;\n    }\n\n    let template = options[0].cloneNode();\n    template.removeAttribute(\"selected\");\n    select.innerHTML = \"\";\n\n    for (var i = 0; i < data.choices.length; i++) {\n      template.innerHTML = data.choices[i];\n      template.setAttribute(\"data-value\", data.values[i]);\n\n      select.appendChild(template.cloneNode(true));\n    }\n\n    if (data.selected) {\n      select\n        .querySelector(`option:nth-child(${ data.selected })`)\n        .setAttribute(\"selected\", \"\");\n    } else {\n      select.querySelector(\"option\").setAttribute(\"selected\", \"\");\n    }\n  },\n  _enable: function(el, data) {\n    let options = el.querySelectorAll(\"option\");\n\n    for (const option of options) {\n      let value = option.getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        option.removeAttribute(\"disabled\");\n      }\n    }\n  },\n  _disable: function(el, data) {\n    let options = el.querySelectorAll(\"option\");\n\n    for (const option of options) {\n      let value = option.getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        option.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        option.removeAttribute(\"disabled\");\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  Selector: {\n    SELF: \".yonder-textual[id]\",\n    VALIDATE: \"input\"\n  },\n  Events: [\n    { type: \"change\", debounce: true },\n    { type: \"input\", debounce: true }\n  ],\n  getValue: function(el) {\n    let input = el.querySelector(\"input\");\n    let value = input.value;\n\n    if (input.type === \"number\") {\n      return parseInt(value, 10);\n    }\n\n    return value;\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  getRatePolicy: function() {\n    return {\n      policy: \"debounce\",\n      delay: 250\n    };\n  },\n  _update: function(el, data) {\n    data.values && (el.querySelector(\"input\").value = data.values[0]);\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n  },\n  _enable: function(el, data) {\n    el.querySelector(\"input\").removeAttribute(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n","export let badgeOutputBinding = new Shiny.OutputBinding();\n\n$.extend(badgeOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-badge[id]\");\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  renderValue: function(el, msg) {\n    if (msg.data !== undefined) {\n      el.innerHTML = msg.data;\n    }\n  },\n  renderError: function(el, data) {\n\n  },\n  clearError: function(el) {\n\n  }\n});\n\nShiny.outputBindings.register(badgeOutputBinding, \"yonder.badgeOutput\");\n","$.extend(Shiny.progressHandlers, {\n  \"yonder-progress\": (msg) => {\n    if (!msg.type || !msg.data.outlet) {\n      return false;\n    }\n\n    let $outlet = $(`#${ msg.data.outlet }`);\n\n    if (msg.type === \"show\") {\n      let $bar = $(msg.data.content);\n\n      if ($bar[0].id && $outlet.find(`#${ $bar[0].id }`).length) {\n        $outlet.find(`#${ $bar[0].id }`).replaceWith($bar);\n      } else {\n        $outlet.append($bar);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n});\n","export let tableInputBinding = new Shiny.InputBinding();\n\n$.extend(tableInputBinding, {\n  Selector: {\n    SELF: \".yonder-table[id]\"\n  },\n  Type: \"yonder.table\",\n  Events: [\n    { type: \"chabudai:select\" },\n    { type: \"chabudai:edited\" }\n  ],\n  getValue: function(el) {\n    return JSON.stringify($(el).table(\"selected\"));\n  },\n  receiveMessage: function(el, msg) {\n    return;\n  }\n});\n\nexport let tableOutputBinding = new Shiny.OutputBinding();\n\n$.extend(tableOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-table[id]\");\n  },\n  renderValue: function(el, msg) {\n    if (msg.data) {\n      $(el).table({ \"data\": msg.data });\n    }\n  }\n});\n\nShiny.inputBindings.register(tableInputBinding, \"yonder.tableInput\");\nShiny.outputBindings.register(tableOutputBinding, \"yonder.tableOutput\");\n","export let alertInputBinding = new Shiny.InputBinding();\n\n$(() => {\n  $(document.body).append(\n    $(\"<div class='yonder-alert-container' id='alert-container'></div>\")\n  );\n});\n\n$.extend(alertInputBinding, {\n  Selector: {\n    SELF: \".yonder-alert-container\"\n  },\n  Alerts: [],\n  getValue: function(el) {\n    return null;\n  },\n  receiveMessage: function(el, msg) {\n    if (msg.type === undefined) {\n      return;\n    }\n\n    if (msg.type === \"show\") {\n      let data = msg.data;\n\n      let $alert = $(data.content);\n\n      if (data.action) {\n        $alert.append($(`<button class=\"btn btn-link alert-link alert-action\">${ data.action }</button>`));\n        $alert.on(\"click\", \".alert-action\", (e) => {\n          Shiny.onInputChange(data.action, true);\n        });\n      }\n\n      this.Alerts.push({ el: $alert, action: data.action });\n\n      $alert.appendTo($(this.Selector.SELF))\n        .velocity(\n          { top: 0, opacity: 1 },\n          { duration: 300, easing: \"easeOutCubic\", queue: false }\n        );\n\n      if (data.duration !== null) {\n        setTimeout(\n          () => {\n            if (this.Alerts.length === 0) {\n              return;\n            }\n\n            let item = this.Alerts.shift();\n\n            if (item.action) {\n              Shiny.onInputChange(item.action, null);\n            }\n\n            item.el.remove();\n          },\n          data.duration\n        );\n      }\n\n      return;\n    }\n\n    if (msg.type === \"close\") {\n      if (this.Alerts.length === 0) {\n        return;\n      }\n\n      let data = msg.data;\n\n      let indeces = typeof data.index === \"number\" ? [data.index] : data.index;\n      let text = typeof data.text === \"string\" ? [data.text] : data.text;\n\n      let selector = Object.entries(data.attrs)\n          .map(item => {\n            return `[${ item[0] }${ item[1] ? (item[0] === \"class\" ? \"*=\" : \"=\") + item[1] : \"\" }]`;\n          })\n          .join(\"\");\n\n      this.Alerts = this.Alerts.filter((alert, index) => {\n        let $el = $(alert.el);\n\n        if (indeces.includes(index) || text.includes($el.text()) || $el.is(selector)) {\n          if (alert.action) {\n            Shiny.onInputChange(alert.action, null);\n          }\n\n          $el.remove();\n\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(alertInputBinding, \"yonder.alertInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:element\", (msg) => {\n  let _render = (data) => {\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    container.innerHTML = data.content;\n\n    Shiny.initializeInputs(container);\n    Shiny.bindAll(container);\n  };\n\n  let _remove = (data) => {\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n\n    container.innerHTML = \"\";\n  };\n\n  console.log(msg);\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"render\") {\n    _render(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no element method _${ msg.type }`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"close\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal === null) {\n      return false;\n    }\n\n    Shiny.unbindAll(modal);\n\n    $(modal).modal(\"hide\");\n\n    return true;\n  }\n\n  if (msg.type === \"show\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal !== null) {\n      modal.innerHTML = msg.data.content;\n    } else {\n      $(document.body).append(\n        $(`<div class=\"modal fade\" tabindex=-1 role=\"dialog\">${ msg.data.content }</div>`)\n      );\n      modal = document.body.querySelector(\".modal\");\n    }\n\n    if (msg.data.dependencies !== undefined) {\n      Shiny.renderDependencies(msg.data.dependencies);\n    }\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n\n    $(modal).modal(\"show\");\n\n    return true;\n  }\n\n  return false;\n});\n","import \"./yonder-input-binding.js\";\n\nimport \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-date.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-group-input.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport \"./input-binding-menu.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./output-binding-badge.js\";\nimport \"./output-binding-progress.js\";\n\nimport \"./thruput-binding-table.js\";\n\nimport \"./alert.js\";\nimport \"./collapsible.js\";\nimport \"./element.js\";\nimport \"./modal.js\";\n\n$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n  $(\"[data-toggle=\\\"popover\\\"]\").popover();\n\n  $(document).on(\"shiny:connected\", function() {\n    $(\".yonder-submit[data-type=\\\"submit\\\"]\").attr(\"type\", \"submit\");\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n    if (msg.data.target === undefined) {\n      return;\n    }\n\n    if (msg.type == \"show\") {\n      let data = msg.data;\n      let target = `#${ data.target }`;\n\n      $(target).popover({\n        title: () => undefined,\n        content: () => undefined,\n        template: data.content,\n        placement: data.placement,\n        trigger: \"manual\"\n      });\n\n      if (data.duration) {\n        setTimeout(\n          () => $(target).popover(\"hide\"),\n          data.duration\n        );\n      }\n\n      $(target).popover(\"show\");\n\n      return;\n    }\n\n    if (msg.type == \"close\") {\n      $(`#${ msg.data.id }`).popover(\"hide\");\n\n      return;\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:download\", function(msg) {\n    if (!(msg.filename && msg.token && msg.key)) {\n      throw \"invalid download event\";\n    }\n\n    const uri = \"/session/\" + msg.token + \"/download/\" + msg.key;\n\n    let agent = window.navigator.userAgent;\n    let ie = ua.indexOf(\"MSIE \");\n\n    if (ie > 0) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", uri);\n      xhr.responseType = \"blob\";\n      xhr.onload = () => saveAs(xhr.response, msg.filename);\n      xhr.send();\n    } else {\n      fetch(uri)\n        .then(res => res.blob())\n        .then(blob => {\n          saveAs(blob, msg.filename);\n        });\n    }\n  });\n\n});\n"],"names":["Shiny","Selector","Events","find","scope","querySelectorAll","this","SELF","getId","el","id","getType","Type","getValue","hasOwnProperty","selected","Array","prototype","slice","call","SELECTED","length","map","s","getAttribute","value","getState","data","attachHandler","type","selector","handler","callback","debounce","on","e","target","undefined","preventDefault","subscribe","$el","$","formElement","parent","closest","forEach","event","unsubscribe","off","_update","warn","_enable","_disable","_invalidate","input","querySelector","VALIDATE","classList","remove","add","feedback","innerHTML","message","_validate","receiveMessage","msg","action","split","choices","values","CHOICE","VALUE","InputBinding","buttonGroupInputBinding","extend","self","_VALUES","force","Date","now","document","child","i","setAttribute","CHILD","indexOf","invert","removeAttribute","reset","inputBindings","register","buttonInputBinding","checkbarInputBinding","current","filter","checkboxInputBinding","hasAttribute","dateInputBinding","config","str","inst","trigger","mode","altFormat","conjunction","defaultDate","enable","_flatpickr","selectedDates","setDate","set","fileInputBinding","delegateTarget","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","$input","val","text","err","error","send","files","info","f","name","size","jobId","uploadUrl","_sendFile","get","_doUpload","stopPropagation","originalEvent","dataTransfer","formInputBinding","groupInputBinding","linkInputBinding","_","listGroupInputBinding","currentTarget","parentNode","toggle","children","menuInputBinding","innerText","navInputBinding","a","firstElementChild","addCustomMessageHandler","pane","parentElement","contains","previous","Tab","_activate","hiddenEvent","Event","shownEvent","getElementById","radioInputBinding","radiobarInputBinding","rangeInputBinding","ionRangeSlider","bgclasses","attr","c","test","join","addClass","removeClass","result","from","to","from_value","replace","destroy","selectInputBinding","select","options","template","cloneNode","appendChild","option","textualInputBinding","parseInt","badgeOutputBinding","OutputBinding","outputBindings","progressHandlers","outlet","$outlet","$bar","content","replaceWith","append","tableInputBinding","JSON","stringify","table","tableOutputBinding","alertInputBinding","body","$alert","onInputChange","Alerts","push","appendTo","velocity","top","opacity","duration","easing","queue","item","shift","indeces","index","Object","entries","attrs","alert","includes","is","collapse","log","dependencies","renderDependencies","container","initializeInputs","bindAll","unbindAll","modal","tooltip","popover","placement","filename","token","key","window","navigator","userAgent","ua","responseType","onload","saveAs","response","then","blob"],"mappings":"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"}