!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";Shiny&&function(){this.Selector={},this.Events=[],this.find=function(e){return e.querySelectorAll(this.Selector.SELF+"[id]")},this.getId=function(e){return e.id},this.getType=function(e){return this.Type||!1},this.getValue=function(e){if(!this.Selector.hasOwnProperty("SELECTED"))return null;var t=Array.prototype.slice.call(e.querySelectorAll(this.Selector.SELECTED));return t.length?t.map(function(e){var t=e.getAttribute("data-value")||e.value;return void 0===t?null:t}):null},this.getState=function(e,t){return{value:this.getValue(e)}},this.attachHandler=function(t,e,n,i,l,r){var a=this;$(t).on(e+".yonder",n||null,function(e){i&&i(t,e,a),l&&l(r||!1)})},this.subscribe=function(t,n){var i=this,e=$(t),l=!1;e.parent().closest(".yonder-form[id]").length&&(e.on("submission.yonder",function(e){return n()}),l=!0),this.Events.forEach(function(e){i.attachHandler(t,e.type,e.selector,e.callback,l?null:n,e.debounce)})},this.unsubscribe=function(e){$(e).off("yonder")},this._update=function(e,t){console.warn("no _update method")},this._enable=function(e,t){console.warn("no _enable method")},this._disable=function(e,t){console.warn("no _disable method")},this._invalidate=function(e,t){if(this.Selector.hasOwnProperty("VALIDATE")){var n=e.querySelector(this.Selector.VALIDATE);n.classList.remove("is-valid"),n.classList.add("is-invalid");var i=e.querySelector(".invalid-feedback");null!==i&&(i.innerHTML=t.message)}else console.warn("input does not support invalidation")},this._validate=function(e,t){if(this.Selector.hasOwnProperty("VALIDATE")){e.querySelector(this.Selector.VALIDATE).classList.remove("is-invalid");var n=e.querySelector(".invalid-feedback");null!==n&&(n.innerHTML="")}else console.warn("input does not support validation")},this.receiveMessage=function(l,e){var r=this;if(!e.type||void 0===e.data)return!1;switch(e.type){case"update":var t=e.data.values,n=e.data.choices,i=e.data.selected;(t||n||i)&&this._clear(l),t&&t.forEach(function(e,t){var n=e[0],i=e[1];r._value(l,n,i,t)}),n&&n.forEach(function(e,t){var n=e[0],i=e[1];r._choice(l,n,i,t)}),i&&i.forEach(function(e){r._select(l,e)});break;case"enable":this._enable(l,e.data);break;case"disable":this._disable(l,e.data);break;case"invalidate":this._invalidate(l,e.data);break;case"validate":this._validate(l,e.data)}return!1}}.call(Shiny.InputBinding.prototype);var e=new Shiny.InputBinding;$.extend(e,{Selector:{SELF:".yonder-button-group"},Events:[{type:"click",selector:"button",callback:function(e,t,n){n._VALUES[e.id]=t.currentTarget.value}}],_VALUES:{},getType:function(e){return"yonder.buttonGroup"},initialize:function(e){this._VALUES[e.id]=null},getValue:function(e){return{force:Date.now(),value:this._VALUES[e.id]}},_choice:function(e,t,n,i){if(null!==n){var l=e.querySelector('button[value="'+n+'"]');null!==l&&(l.innerHTML=t)}else{var r=e.querySelectorAll("button");i<r.length&&(r[i].innerHTML=t)}},_value:function(e,t,n,i){if(null!==n){var l=e.querySelector('button[value="'+n+'"]');null!==l&&(l.value=t)}else{var r=e.querySelectorAll("button");i<r.length&&(r[i].value=t)}},_select:function(){return null},_clear:function(){return null},_enable:function(e,t){var n=t.values;e.querySelectorAll("button").forEach(function(e){(!n.length||-1<n.indexOf(e.value))&&!t.invert&&(e.classList.remove("disabled"),e.removeAttribute("disabled"))})},_disable:function(e,t){var n=t.values;e.querySelectorAll("button").forEach(function(e){(!n.length||-1<n.indexOf(e.value))&&!t.invert?(e.classList.add("disabled"),e.setAttribute("disabled","")):t.reset&&(e.classList.remove("disabled"),e.removeAttribute("disabled"))})}}),Shiny.inputBindings.register(e,"yonder.buttonGroupInput");var t=new Shiny.InputBinding;$.extend(t,{Selector:{SELF:".yonder-button"},Events:[{type:"click",callback:function(e){return e.value=+e.value+1}}],initialize:function(e){e.value=0},getValue:function(e){return 0<+e.value?+e.value:null},_choice:function(e,t,n,i){e.innerHTML=t},_value:function(e,t,n,i){+t==+t&&(e.value=t)},_select:function(e,t,n){},_clear:function(e){},_enable:function(e,t){t.invert||e.classList.remove("disabled")},_disable:function(e,t){t.invert||e.classList.add("disabled")}}),Shiny.inputBindings.register(t,"yonder.buttonInput");var n=new Shiny.InputBinding;$.extend(n,{Selector:{SELF:".yonder-checkbar",SELECTED:"input:checked"},Events:[{type:"change",selector:".btn"}],_value:function(e,t,n,i){if(null!==n){var l=e.querySelector('input[value="'+n+'"]');null!==l&&(l.value=t)}else{var r=e.querySelectorAll("input");i<r.length&&(r[i].value=t)}},_choice:function(e,t,n,i){if(null!==n){var l=e.querySelector('input[value="'+n+'"]');if(null!==l){var r=l.parentNode,a=l.cloneNode();r.innerHTML="",r.appendChild(a),r.insertAdjacentText("beforeend",t)}}else{var u=e.querySelectorAll("input");if(i<u.length){var o=u[i].parentNode,c=u[i].cloneNode();o.innerHTML="",o.appendChild(c),o.insertAdjacentText("beforeend",t)}}},_select:function(e,t,n){if(null!==t){var i=e.querySelector('input[value="'+t+'"]');null!==i&&(i.parentNode.classList.add("active"),i.setAttribute("selected",""))}else{var l=e.querySelectorAll("input");n<l.length&&(l[n].parentNode.classList.add("active"),l[n].setAttribute("selected",""))}},_clear:function(e){e.querySelectorAll(".btn").forEach(function(e){e.classList.remove("active"),e.children[0].setAttribute("selected","")})},_enable:function(e,t){var n=t.values;e.querySelectorAll(".btn").forEach(function(e){(!n.length||-1<n.indexOf(e.children[0].value))&&!t.invert&&(e.classList.remove("disabled"),e.children[0].removeAttribute("disabled"))})},_disable:function(e,t){var n=t.values;e.querySelectorAll(".btn").forEach(function(e){(!n.length||-1<n.indexOf(e.children[0].value))&&!t.invert?(e.classList.add("disabled"),e.children[0].setAttribute("disabled","")):t.reset&&(e.classList.remove("disabled"),e.children[0].removeAttribute("disabled"))})}}),Shiny.inputBindings.register(n,"yonder.checkbarInput");var i=new Shiny.InputBinding;$.extend(i,{Selector:{SELF:".yonder-checkbox",SELECTED:".custom-control-input:checked:not(:disabled)",VALIDATE:".custom-control-input"},Events:[{type:"change"}],_value:function(e,t,n,i){if(null!==n){var l=e.querySelector('input[value="'+n+'"]');null!==l&&(l.value=t)}else{var r=e.querySelectorAll("input");i<r.length&&(r[i].value=t)}},_choice:function(e,t,n,i){if(null!==n){var l=e.querySelector('input[value="'+n+'"]');null!==l&&(l.parentNode.children[1].innerHTML=t)}else{var r=e.querySelectorAll("input");i<r.length&&(r[i].parentNode.children[1].innerHTML=t)}},_select:function(e,t){if(null!==t){var n=e.querySelector('input[value="'+t+'"]');null!==n&&(n.checked=!0)}},_clear:function(e){e.querySelectorAll("input").forEach(function(e){e.checked=!1})},_enable:function(e,t){e.querySelectorAll("input").forEach(function(e){!t.values.length&&-1<t.values.indexOf(e.value)&&!t.invert&&e.removeAttribute("disabled")})},_disable:function(e,t){e.querySelectorAll("input").forEach(function(e){!t.values.length&&-1<t.values.indexOf(e.value)&&!t.invert?e.setAttribute("disabled",""):t.reset&&e.removeAttribute("disabled")})}}),Shiny.inputBindings.register(i,"yonder.checkboxInput");var l=new Shiny.InputBinding;$.extend(l,{Selector:{SELF:".yonder-file",VALIDATE:"input[type='file']"},Events:[{type:"change",callback:function(e,t,n){null===e.querySelector("button")&&n._doUpload(e)}},{type:"click",selector:"button",callback:function(e,t,n){return n._doUpload(e)}},{type:"dragover",callback:function(e,t){t.stopPropagation(),t.preventDefault()}},{type:"dragcenter",callback:function(e,t){t.stopPropagation(),t.preventDefault()}},{type:"drop",callback:function(e,t,n){t.stopPropagation(),t.preventDefault(),n._doUpload(e,t.originalEvent.dataTransfer.files)}}],getValue:function(e){return null},_value:function(){return null},_choice:function(){return null},_select:function(){return null},_clear:function(){return null},_enable:function(e,t){e.querySelector("input[type='file']").removeAttribute("disabled")},_disable:function(e,t){e.querySelector("input[type='file']").setAttribute("disabled","")},_sendFile:function(e,t,n,i,l){var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/octet-stream"),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&200==r.status&&i&&Shiny.shinyapp.makeRequest("uploadEnd",[t,l.id],function(e){l.querySelector("input[type='file']").value=""},function(e){console.error("uploadEnd request failed for "+l.id+": "+e)})},r.send(n)},_doUpload:function(l,r){var a=this,e=l.querySelector("input[type='file']");if(void 0===r&&(r=e.files),r){var t=(r=e.hasAttribute("multiple")?Array.prototype.slice.call(r):Array.prototype.slice.call(r,0,1)).map(function(e){return{name:e.name,size:e.size,type:e.type}});Shiny.shinyapp.makeRequest("uploadInit",[t],function(e){for(var t=e.jobId,n=e.uploadUrl,i=0;i<r.length;i++)a._sendFile(n,t,r[i],i===r.length-1,l)},function(e){console.error("uploadInit request failed for "+l.id+": "+e)})}}}),Shiny.inputBindings.register(l,"yonder.fileInput");var r=new Shiny.InputBinding;$.extend(r,{Events:[{type:"click",selector:".yonder-submit",callback:function(e,t,n){n._VALUES[e.id]=t.currentTarget.value,$(e.querySelectorAll(".shiny-bound-input")).trigger("submission.yonder")}}],Type:"yonder.form",_VALUES:{},find:function(e){return Array.prototype.slice.call(e.querySelectorAll(".yonder-form[id]")).filter(function(e){return null!==e.querySelector(".yonder-submit")})},initialize:function(e){this._VALUES[e.id]=null},getValue:function(e){return{force:Date.now(),value:this._VALUES[e.id]}},_value:function(){return null},_choice:function(){return null},_select:function(){return null},_clear:function(){return null},_enable:function(){return null},_disable:function(){return null}}),Shiny.inputBindings.register(r,"yonder.formInput");var a=new Shiny.InputBinding;$.extend(a,{Selector:{SELF:".yonder-group[id]",SELECTED:".input-group-prepend .input-group-text, input, .input-group-append .input-group-text",VALIDATE:"input"},Events:[{type:"input",debounce:!0},{type:"change",debounce:!0}],Type:"yonder.group",getValue:function(e){return Array.prototype.slice.call(e.querySelectorAll(this.Selector.SELECTED)).map(function(e){return/^(DIV|SPAN)$/.test(e.tagName)?e.innerText:e.value||null}).filter(function(e){return null!==e})},_value:function(e,t,n,i){e.querySelector("input").value=t},_choice:function(){return null},_select:function(){return null},_clear:function(){return null},_enable:function(e,t){e.querySelector("input").removeAttribute("disabled")},_disable:function(e,t){e.querySelector("input").setAttribute("disabled","")}}),Shiny.inputBindings.register(a,"yonder.groupInput");var u=new Shiny.InputBinding;$.extend(u,{Selector:{SELF:".yonder-link[id]"},Events:[{type:"click",callback:function(e){return e.value=+e.value+1}}],Type:"yonder.link",initialize:function(e){e.value=0},getValue:function(e){return 0<+e.value?+e.value:null},_value:function(e,t,n,i){e.value=t},_choice:function(e,t,n,i){e.innerHTML=t},_select:function(){return null},_clear:function(){return null},_disable:function(e,t){e.classList.add("disabled"),e.setAttribute("disabled","")},_enable:function(e,t){e.classList.remove("disabled"),e.removeAttribute("disabled")}}),Shiny.inputBindings.register(u,"yonder.linkInput");var o=new Shiny.InputBinding;$.extend(o,{Selector:{SELF:".yonder-list-group",SELECTED:".list-group-item-action.active:not(.disabled)"},Events:[{type:"click",selector:".list-group-item-action:not(.disabled)",callback:function(e,t,n){"false"===e.getAttribute("data-multiple")&&e.querySelectorAll(".list-group-item-action:not(.disabled)").forEach(function(e){return e.classList.remove("active")}),t.target.classList.toggle("active")}}],_value:function(e,t,n,i){if(null!==n){var l=e.querySelector('.list-group-item[data-value="'+n+'"]');null!==l&&l.setAttribute("data-value",t)}else{var r=e.querySelectorAll(".list-group-item");i<r.length&&r[i].setAttribute("data-value",t)}},_choice:function(e,t,n,i){if(null!==n){var l=e.querySelector('.list-group-item[data-value"'+n+'"]');null!==l&&(l.innerHTML=t)}else{var r=e.querySelectorAll(".list-group-item");i<r.length&&(r[i].innerHTML=t)}},_select:function(e,t,n){if(null!==t){var i=e.querySelector('.list-group-item[data-value="'+t+'"]');null!==i&&i.classList.add("active")}else{var l=e.querySelectorAll(".list-group-item");n<l.length&&l[n].classList.add("active")}},_clear:function(e){e.querySelectorAll(".list-group-item").forEach(function(e){return e.classList.remove("active")})},_enable:function(e,t){var n=t.values;e.querySelectorAll(".list-group-item").forEach(function(e){(!n.length||-1<n.indexOf(e.getAttribute("data-value")))&&!t.invert&&e.classList.remove("disabled")})},_disable:function(e,t){var n=t.values;e.querySelectorAll(".list-group-item").forEach(function(e){(!n.length||-1<n.indexOf(e.getAttribute("data-value")))&&!t.invert?e.classList.add("disabled"):t.reset&&e.classList.remove("disabled")})}}),Shiny.inputBindings.register(o,"yonder.listGroupInput");var c=new Shiny.InputBinding;$.extend(c,{Selector:{SELF:".yonder-menu",SELECTED:".dropdown-item.active"},Events:[{type:"click",selector:".dropdown-item:not(.disabled)",callback:function(e,t){var n=e.querySelector(".dropdown-item.active");null!==n&&n.classList.remove("active"),t.currentTarget.classList.add("active")}},{type:"nav.reset",callback:function(e){var t=e.querySelector(".dropdown-item.active");null!==t&&t.classList.remove("active")}}],_value:function(e,t,n,i){if(null!==n){var l=e.querySelector('.dropdown-item[value="'+n+'"]');null!==l&&(l.value=t)}else{var r=e.querySelectorAll(".dropdown-item");i<r.length&&(r[i].value=t)}},_choice:function(e,t,n,i){if(null!==n){var l=e.querySelector('.dropdown-item[value="'+n+'"]');null!==l&&(l.innerHTML=t)}else{var r=e.querySelectorAll(".dropdown-item");i<r.length&&(r[i].innerHTML=t)}},_select:function(e,t,n){if(null!==t){var i=e.querySelector('.dropdown-item[value="'+t+'"]');null!==i&&i.classList.add("active")}else{var l=e.querySelectorAll(".dropdown-item");n<l.length&&l[n].classList.add("active")}},_clear:function(e){e.querySelectorAll(".dropdown-item.active").forEach(function(e){return e.classList.remove("active")})},_enable:function(e,t){e.querySelectorAll(".dropdown-item").forEach(function(e){(!t.values.length||-1<t.values.indexOf(e.value))&&!t.invert&&e.classList.remove("disabled")})},_disable:function(e,t){e.querySelectorAll(".dropdown-item").forEach(function(e){(!t.values.length||-1<t.values.indexOf(e.value))&&!t.invert?e.classList.add("disabled"):t.reset&&e.classList.remove("disabled")})}}),Shiny.inputBindings.register(c,"yonder.menuInput");var d=new Shiny.InputBinding;$.extend(d,{Selector:{SELF:".yonder-nav",SELECTED:".nav-link.active:not(.disabled)"},Events:[{type:"click",selector:".nav-link:not(.dropdown-toggle):not(.disabled)",callback:function(e,t){var n=e.querySelector(".dropdown-item.active");null!==n&&$(n.parentNode.parentNode).trigger("nav.reset"),e.querySelectorAll(".nav-link.active").forEach(function(e){e.classList.remove("active")}),t.currentTarget.classList.add("active")}},{type:"click",selector:".dropdown-item:not(.disabled)",callback:function(e,t){e.querySelectorAll(".active").forEach(function(e){e.classList.remove("active")}),t.currentTarget.parentNode.parentNode.children[0].classList.add("active"),t.currentTarget.classList.add("active")}}],_value:function(e,t,n,i){if(null!==n){var l=e.querySelector('.nav-link[data-value="'+n+'"]');null!==l&&l.setAttribute("data-value",t)}else{var r=e.querySelectorAll(".nav-link");i<r.length&&r[i].setAttribute("data-value",t)}},_choice:function(e,t,n,i){if(null!==n){var l=e.querySelector('.nav-link[data-value="'+n+'"]');null!==l&&(l.innerHTML=t)}else{var r=e.querySelectorAll(".nav-link");i<r.length&&(r[i].innerHTML=t)}},_select:function(e,t,n){if(null!==t){var i=e.querySelector('.nav-link[data-value="'+t+'"]');null!==i&&i.classList.add("active")}else{var l=e.querySelectorAll(".nav-link");n<l.length&&l[n].classList.add("active")}},_clear:function(e){e.querySelectorAll(".nav-link.active").forEach(function(e){return e.classList.remove("active")})},_disable:function(e,t){e.querySelectorAll(".nav-link").forEach(function(e){(!t.values.length||-1<t.values.indexOf(e.value))&&!t.invert?e.classList.add("disabled"):t.reset&&e.classList.remove("disabled")})},_enable:function(e,t){e.querySelectorAll(".nav-link").forEach(function(e){(!t.values.length||-1<t.values.indexOf(e.value))&&!t.invert&&e.classList.remove("disabled")})}}),Shiny.inputBindings.register(d,"yonder.navInput"),Shiny.addCustomMessageHandler("yonder:pane",function(e){void 0!==e.type&&void 0!==e.data&&void 0!==e.data.target&&"show"===e.type&&function(n){if(null!==n&&n.parentElement.classList.contains("tab-content")){var i=n.parentElement.querySelector(".active");bootstrap.Tab.prototype._activate(n,n.parentElement,function(){var e=$.Event("hidden.bs.tab",{relatedTarget:n}),t=$.Event("shown.bs.tab",{relatedTarget:i});$(i).trigger(e),$(n).trigger(t)})}}(document.getElementById(e.data.target))});var s=new Shiny.InputBinding;$.extend(s,{Selector:{SELF:".yonder-radio[id]",SELECTED:".custom-control-input:checked:not(:disabled)",VALIDATE:".custom-control-input"},Events:[{type:"change"}],_value:function(e,t,n,i){if(null!==n){var l=e.querySelector('.custom-control-input[value="'+n+'"]');null!==l&&(l.value=t)}else{var r=e.querySelectorAll(".custom-control-input");i<r.length&&(r[i].value=t)}},_choice:function(e,t,n,i){if(null!==n){var l=e.querySelector('.custom-control-input[value="'+n+'"]');null!==l&&(l.nextElementSibling.innerHTML=t)}else{var r=e.querySelectorAll(".custom-control-label");i<r.length&&(r[i].innerHTML=t)}},_select:function(e,t,n){if(null!==t){var i=e.querySelector('.custom-control-input[value="'+t+'"]');null!==i&&i.setAttribute("checked","")}else{var l=e.querySelectorAll(".custom-control-input");n<l.length&&l[n].setAttribute("checked","")}},_clear:function(e){e.querySelector(this.Selector.SELECTED).removeAttribute("checked")},_enable:function(e,t){e.querySelectorAll(".custom-control-input").forEach(function(e){(!t.values.length||-1<t.values.indexOf(e.value))&&!t.invert&&e.classList.removeAttribute("disabled")})},_disable:function(e,t){e.querySelectorAll(".custom-control-input").forEach(function(e){(!t.values.length||-1<t.values.indexOf(e.value))&&!t.invert?e.setAttribute("disabled",""):t.reset&&e.removeAttribute("disabled")})}}),Shiny.inputBindings.register(s,"yonder.radioInput");var v=new Shiny.InputBinding;$.extend(v,{Selector:{SELF:".yonder-radiobar[id]",SELECTED:"input:checked:not(:disabled)"},Events:[{type:"click"},{type:"change"}],_value:function(e,t,n,i){if(null!==n){var l=e.querySelector('input[value="'+n+'"]');null!==l&&(l.value=t)}else{var r=e.querySelectorAll("input");i<r.length&&(r[i].value=t)}},_choice:function(e,t,n,i){if(null!==n){var l=e.querySelector('input[value="'+n+'"]');null!==l&&(l.parentNode.children[1].innerHTML=t)}else{var r=e.querySelectorAll("input");i<r.length&&(r[i].parentNode.children[1].innerHTML=t)}},_select:function(e,t){if(null!==t){var n=e.querySelector('input[value="'+t+'"]');null!==n&&(n.checked=!0)}},_clear:function(e){e.querySelectorAll("input:checked").forEach(function(e){return e.checked=!1})},_enable:function(e,t){var n=t.values;e.querySelectorAll("input").forEach(function(e){(!n.length||-1<n.indexOf(e.value))&&!t.invert&&(e.parentNode.classList.remove("disabled"),e.removeAttribute("disabled"))})},_disable:function(e,t){var n=t.values;e.querySelectorAll("input").forEach(function(e){(!n.length||-1<n.indexOf(e.value))&&!t.invert?(e.parentNode.classList.add("disabled"),e.setAttribute("disabled","")):t.reset&&(e.parentNode.classList.remove("disabled"),e.removeAttribute("disabled"))})}}),Shiny.inputBindings.register(v,"yonder.radiobarInput");var p=new Shiny.InputBinding;$.extend(p,{Selector:{SELF:".yonder-range[id]"},Events:[{type:"change"}],initialize:function(e){var t=$(e),n=t.find("input[type='text']");n.ionRangeSlider();var i=t.attr("class").split(/\s+/).filter(function(e){return/^bg-[a-z-]+$/.test(e)}).join(" ");i&&(t.find(".irs-slider,.irs-bar,.irs-bar-edge,.irs-to,.irs-from,.irs-single,.irs-slider").addClass(i),t.removeClass(i)),n.data("no-fill")&&t.find(".irs-bar,.irs-bar-edge").addClass("no-fill")},getId:function(e){return e.id},getValue:function(e){var t=$("input[type='text']",e),n=t.data("ionRangeSlider");return"double"==t.data("type")?[n.result.from,n.result.to]:"single"==t.data("type")?null!==n.result.from_value?n.result.from_value.replace("&#44;",","):n.result.from:void 0},getState:function(e,t){return{value:this.getValue(e)}},receiveMessage:function(e,t){console.error("receiveMessage: not implemented for range input")},dispose:function(e){$("input[type='text']",e).data("ionRangeSlider").destroy()}}),Shiny.inputBindings.register(p,"yonder.rangeInput");var f=new Shiny.InputBinding;$.extend(f,{Selector:{SELF:".yonder-select",SELECTED:"option:checked:not(:disabled)",VALIDATE:"select"},Events:[{type:"change"}],_value:function(e,t,n,i){if(null!==n){var l=e.querySelector('option[value="'+n+'"]');null!==l&&(l.value=t)}else{var r=e.querySelectorAll("option");i<r.length&&(r[i].value=t)}},_choice:function(e,t,n,i){if(null!==n){var l=e.querySelector('option[value="'+n+'"]');null!==l&&(l.innerHTML=t)}else{var r=e.querySelectorAll("option");i<r.length&&(r[i].innerHTML=t)}},_select:function(e,t,n){if(null!==t){var i=e.querySelector('option[value="'+t+'"]');null!==i&&i.setAttribute("selected","")}else{var l=e.querySelectorAll("option");n<l.length&&l[n].setAttribute("selected","")}},_clear:function(e){e.querySelectorAll("option").forEach(function(e){return e.removeAttribute("selected")})},_enable:function(e,t){e.querySelectorAll("option").forEach(function(e){(!t.values.length||t.values.indexOf(e.value))&&!t.invert&&e.removeAttribute("disabled")})},_disable:function(e,t){e.querySelectorAll("option").forEach(function(e){(!t.values.length||t.values.indexOf(e.value))&&!t.invert?e.setAttribute("disabled",""):t.reset&&e.removeAttribute("disabled")})}}),Shiny.inputBindings.register(f,"yonder.selectInput");var y=new Shiny.InputBinding;$.extend(y,{Selector:{SELF:".yonder-textual",VALIDATE:"input"},Events:[{type:"change",debounce:!0},{type:"input",debounce:!0}],getValue:function(e){var t=e.children[0];return"number"===t.type?parseInput(t.value,10):t.value},getRatePolicy:function(){return{policy:"debounce",delay:250}},_value:function(e,t,n,i){e.children[0].value=t},_choice:function(){return null},_select:function(){return null},_clear:function(){return null},_disable:function(e,t){e.children[0].setAttribute("disabled","")},_enable:function(e,t){e.children[0].removeAttribute("disabled")}}),Shiny.inputBindings.register(y,"yonder.textualInput");var h=new Shiny.OutputBinding;$.extend(h,{find:function(e){return $(e).find(".yonder-badge[id]")},getId:function(e){return e.id},renderValue:function(e,t){void 0!==t.data&&(e.innerHTML=t.data)},renderError:function(e,t){},clearError:function(e){}}),Shiny.outputBindings.register(h,"yonder.badgeOutput"),$.extend(Shiny.progressHandlers,{"yonder-progress":function(e){if(!e.type||!e.data.outlet)return!1;var t=$("#"+e.data.outlet);if("show"!==e.type)return!1;var n=$(e.data.content);return n[0].id&&t.find("#"+n[0].id).length?t.find("#"+n[0].id).replaceWith(n):t.append(n),!0}});var b=new Shiny.InputBinding;$.extend(b,{Selector:{SELF:".yonder-table[id]"},Type:"yonder.table",Events:[{type:"chabudai:select"},{type:"chabudai:edited"}],getValue:function(e){return JSON.stringify($(e).table("selected"))},receiveMessage:function(e,t){}});var g=new Shiny.OutputBinding;$.extend(g,{find:function(e){return $(e).find(".yonder-table[id]")},renderValue:function(e,t){t.data&&$(e).table({data:t.data})}}),Shiny.inputBindings.register(b,"yonder.tableInput"),Shiny.outputBindings.register(g,"yonder.tableOutput");var S=new Shiny.InputBinding;$(function(){$(document.body).append($("<div class='yonder-alert-container' id='alert-container'></div>"))}),$.extend(S,{Selector:{SELF:".yonder-alert-container"},Alerts:[],getValue:function(e){return null},receiveMessage:function(e,t){var n=this;if(void 0!==t.type){if("show"===t.type){var i=t.data,l=$(i.content);return i.action&&(l.append($('<button class="btn btn-link alert-link alert-action">'+i.action+"</button>")),l.on("click",".alert-action",function(e){Shiny.onInputChange(i.action,!0)})),this.Alerts.push({el:l,action:i.action}),l.appendTo($(this.Selector.SELF)).velocity({top:0,opacity:1},{duration:300,easing:"easeOutCubic",queue:!1}),void(null!==i.duration&&setTimeout(function(){if(0!==n.Alerts.length){var e=n.Alerts.shift();e.action&&Shiny.onInputChange(e.action,null),e.el.remove()}},i.duration))}if("close"===t.type){if(0===this.Alerts.length)return;var r=t.data,a="number"==typeof r.index?[r.index]:r.index,u="string"==typeof r.text?[r.text]:r.text,o=Object.entries(r.attrs).map(function(e){return"["+e[0]+(e[1]?("class"===e[0]?"*=":"=")+e[1]:"")+"]"}).join("");this.Alerts=this.Alerts.filter(function(e,t){var n=$(e.el);return!(a.includes(t)||u.includes(n.text())||n.is(o))||(e.action&&Shiny.onInputChange(e.action,null),n.remove(),!1)})}}}}),Shiny.inputBindings.register(S,"yonder.alertInput"),Shiny.addCustomMessageHandler("yonder:collapse",function(e){if(void 0===e.type||void 0===e.data||void 0===e.data.target)return!1;if("show"!==e.type&&"hide"!==e.type&&"toggle"!==e.type)return!1;var t=document.getElementById(e.data.target);return null!==t&&($(t).collapse(e.type),!0)}),Shiny.addCustomMessageHandler("yonder:element",function(e){var t,n;(console.log(e),e.type)&&("render"===e.type?function(e){e.dependencies&&Shiny.renderDependencies(e.dependencies);var t=document.getElementById(e.target);null!==t&&(t.innerHTML=e.content,Shiny.initializeInputs(t),Shiny.bindAll(t))}(e.data):"remove"===e.type?(t=e.data,null!==(n=document.getElementById(t.target))&&(Shiny.unbindAll(n),n.innerHTML="")):console.warn("no element method _"+e.type))}),Shiny.addCustomMessageHandler("yonder:modal",function(e){if(void 0===e.type)return!1;if("close"===e.type){var t=document.body.querySelector(".modal");return null!==t&&(Shiny.unbindAll(t),$(t).modal("hide"),!0)}if("show"!==e.type)return!1;var n=document.body.querySelector(".modal");return null!==n?n.innerHTML=e.data.content:($(document.body).append($('<div class="modal fade" tabindex=-1 role="dialog">'+e.data.content+"</div>")),n=document.body.querySelector(".modal")),void 0!==e.data.dependencies&&Shiny.renderDependencies(e.data.dependencies),Shiny.initializeInputs(n),Shiny.bindAll(n),$(n).modal("show"),!0}),$(function(){$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),$(document).on("shiny:connected",function(){$('.yonder-submit[data-type="submit"]').attr("type","submit")}),Shiny.addCustomMessageHandler("yonder:popover",function(e){if(void 0!==e.data.target){if("show"==e.type){var t=e.data,n="#"+t.target;return $(n).popover({title:function(){},content:function(){},template:t.content,placement:t.placement,trigger:"manual"}),t.duration&&setTimeout(function(){return $(n).popover("hide")},t.duration),void $(n).popover("show")}"close"!=e.type||$("#"+e.data.id).popover("hide")}}),Shiny.addCustomMessageHandler("yonder:download",function(t){if(!(t.filename&&t.token&&t.key))throw"invalid download event";var e="/session/"+t.token+"/download/"+t.key;window.navigator.userAgent;if(0<ua.indexOf("MSIE ")){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){return saveAs(n.response,t.filename)},n.send()}else fetch(e).then(function(e){return e.blob()}).then(function(e){saveAs(e,t.filename)})})})});