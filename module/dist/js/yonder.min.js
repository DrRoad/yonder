!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";"undefined"!=typeof Shiny&&function(){this.Selector={},this.Events=[],this.find=function(e){return e.querySelectorAll(this.Selector.SELF+"[id]")},this.getId=function(e){return e.id},this.getType=function(e){return this.Type||!1},this.getValue=function(e){if(!this.Selector.hasOwnProperty("SELECTED"))return null;var t=Array.prototype.slice.call(e.querySelectorAll(this.Selector.SELECTED));return t.length?t.map(function(e){var t=e.getAttribute("data-value")||e.value;return void 0===t?null:t}):null},this.getState=function(e,t){return{value:this.getValue(e)}},this.attachHandler=function(t,e,n,i,r,l){var o=this;$(t).on(e+".yonder",n||null,function(e){i&&i(t,e,o),r&&r(l||!1)})},this.subscribe=function(t,n){var i=this,e=$(t),r=!1;e.parent().closest(".yonder-form[id]").length&&(e.on("submission.yonder",function(e){return n()}),r=!0),this.Events.push({type:"change.yonder"}),this.Events.push({type:"update.yonder"}),this.Events.forEach(function(e){i.attachHandler(t,e.type,e.selector,e.callback,r?null:n,e.debounce)})},this.unsubscribe=function(e){$(e).off("yonder")},this._update=function(e,t){console.warn("no _update method")},this._enable=function(e,t){console.warn("no _enable method")},this._disable=function(e,t){console.warn("no _disable method")},this._invalidate=function(e,t){if(this.Selector.hasOwnProperty("VALIDATE")){var n=e.querySelector(this.Selector.VALIDATE);n.classList.remove("is-valid"),n.classList.add("is-invalid");var i=e.querySelector(".invalid-feedback");null!==i&&(i.innerHTML=t.message)}else console.warn("input does not support invalidation")},this._validate=function(e,t){if(this.Selector.hasOwnProperty("VALIDATE")){e.querySelector(this.Selector.VALIDATE).classList.remove("is-invalid");var n=e.querySelector(".invalid-feedback");null!==n&&(n.innerHTML="")}else console.warn("input does not support validation")},this.receiveMessage=function(e,t){if(!t.type||void 0===t.data)return!1;switch(t.type){case"update":this._update(e,t.data);break;case"change":this._select(e,t.data);break;case"enable":this._enable(e,t.data);break;case"disable":this._disable(e,t.data);break;case"invalidate":this._invalidate(e,t.data);break;case"validate":this._validate(e,t.data)}return"change"===t.type&&!1===t.data.propagate||$(e).trigger(t.type+".yonder"),!1}}.call(Shiny.InputBinding.prototype);var e=new Shiny.InputBinding;$.extend(e,{Selector:{SELF:".yonder-button-group"},Events:[{type:"click",selector:"button",callback:function(e,t,n){n._VALUES[e.id]=t.currentTarget.value}}],_VALUES:{},getType:function(e){return"yonder.buttonGroup"},initialize:function(e){this._VALUES[e.id]=null},getValue:function(e){return{force:Date.now(),value:this._VALUES[e.id]}},_update:function(i,r){var l=i.querySelector("button").cloneNode();l.removeAttribute("disabled"),i.innerHTML="",r.choices.forEach(function(e,t){var n=l.cloneNode();n.innerHTML=e,n.value=r.values[t],i.appendChild(n)})},_enable:function(e,t){var n=t.values;e.querySelectorAll("button").forEach(function(e){(!n.length||-1<n.indexOf(e.value))!==t.invert&&e.removeAttribute("disabled")})},_disable:function(e,n){var i=n.values;e.querySelectorAll("button").forEach(function(e){var t=!i.length||-1<i.indexOf(e.value);n.reset&&e.removeAttribute("disabled"),t!==n.invert&&e.setAttribute("disabled","")})}}),Shiny.inputBindings.register(e,"yonder.buttonGroupInput");var t=new Shiny.InputBinding;$.extend(t,{find:function(e){return e.querySelectorAll(".yonder-button[id]")},initialize:function(t){$(t).on("click",function(e){return t.value=+t.value+1}),t.value=0},getValue:function(e){return 0<+e.value?+e.value:null},subscribe:function(e,t){$(e).on("click.yonder",function(e){return t()})},unsubscribe:function(e,t){return $(e).off(".yonder")},receiveMessage:function(e,t){t.content&&(e.innerHTML=t.content),t.enable&&(e.classList.remove("disabled"),e.removeAttribute("disabled")),t.disable&&(e.classList.add("disabled"),e.setAttribute("disabled",""))}}),Shiny.inputBindings.register(t,"yonder.buttonInput");var n=new Shiny.InputBinding;$.extend(n,{Selector:{SELF:".yonder-checkbar",SELECTED:"input:checked"},Events:[{type:"change",selector:".btn"}],_update:function(i,r){var l=i.querySelector(".btn").cloneNode(!0);l.classList.remove("active"),l.classList.remove("disabled"),l.children[0].removeAttribute("disabled");var e=l.children[0].cloneNode();l.innerHTML="",l.appendChild(e),i.innerHTML="",r.choices.forEach(function(e,t){var n=l.cloneNode(!0);n.insertAdjacentHTML("beforeend",e),n.children[0].value=r.values[t],-1<r.selected.indexOf(r.values[t])&&(n.classList.add("active"),n.children[0].checked=!0),i.appendChild(n)})},_select:function(e,n){e.querySelectorAll(".btn").forEach(function(e){var t=e.children[0].value;n.reset&&(e.classList.remove("active"),e.children[0].checked=!1),(n.fixed?-1<n.pattern.indexOf(t):RegExp(n.pattern,"i").test(t))!==n.invert&&(e.classList.add("active"),e.children[0].checked=!0)})},_enable:function(e,t){var n=t.values;e.querySelectorAll(".btn").forEach(function(e){(!n.length||-1<n.indexOf(e.children[0].value))!==t.invert&&(e.classList.remove("disabled"),e.children[0].removeAttribute("disabled"))})},_disable:function(e,n){var i=n.values;e.querySelectorAll(".btn").forEach(function(e){var t=!i.length||-1<i.indexOf(e.children[0].value);n.reset&&(e.classList.remove("disabled"),e.children[0].removeAttribute("disabled")),t!==n.invert&&(e.classList.add("disabled"),e.children[0].setAttribute("disabled",""))})}}),Shiny.inputBindings.register(n,"yonder.checkbarInput");var i=new Shiny.InputBinding;$.extend(i,{Selector:{SELF:".yonder-checkbox",SELECTED:".custom-control-input:checked:not(:disabled)",VALIDATE:".custom-control-input"},Events:[{type:"change"}],_update:function(i,r){var l=i.querySelector(".custom-checkbox").cloneNode(!0);l.children[0].checked=!1,i.innerHTML="",r.choices.forEach(function(e,t){var n=l.cloneNode(!0);n.children[0].value=r.values[t],n.children[1].innerHTML=e,-1<r.selected.indexOf(r.values[t])&&(n.children[0].checked=!0),i.appendChild(n)})},_select:function(e,n){e.querySelectorAll(".custom-checkbox").forEach(function(e){var t=e.children[0].value;n.reset&&(e.children[0].checked=!1),(n.fixed?-1<n.pattern.indexOf(t):RegExp(n.pattern,"i").test(t))!==n.invert&&(e.children[0].checked=!0)})},_enable:function(e,t){e.querySelectorAll("input").forEach(function(e){(!t.values.length&&-1<t.values.indexOf(e.value))!==t.invert&&e.removeAttribute("disabled")})},_disable:function(e,n){e.querySelectorAll("input").forEach(function(e){var t=!n.values.length&&-1<n.values.indexOf(e.value);n.reset&&e.removeAttribute("disabled"),t!==n.invert&&e.setAttribute("disabled","")})}}),Shiny.inputBindings.register(i,"yonder.checkboxInput");var r=new Shiny.InputBinding;$.extend(r,{selectorActive:".active",selectorToggle:"input[data-toggle='dropdown']",find:function(e){return e.querySelectorAll(".yonder-chip[id]")},initialize:function(n){var e=$(n),i=$(n.querySelector(r.selectorToggle));e.on("input",function(e){var t=i[0].value;r.filterItems(n,t),0===r.visibleItems(n)?i.dropdown("hide"):i.dropdown("show")}),e.on("input change",function(e){return i.dropdown("update")}),e.on("hide.bs.dropdown",function(e){null===n.querySelector("input:focus")&&(n.querySelector("input").value="",r.filterItems(n,""))}),e.on("click",".dropdown-item",function(e){e.stopPropagation(),r.addChip(n,e.currentTarget.value),n.querySelector(r.selectorToggle).focus()}),e.on("click",".chip",function(e){r.removeChip(n,e.currentTarget.value)});var t=+n.getAttribute("data-max");-1!==t&&r.selectedItems(n)>=t&&r.disableToggle(n)},receiveMessage:function(e,t){if(t.items&&t.chips){var n=e.querySelector(".dropdown-menu");n&&(n.innerHTML=t.items);var i=e.querySelector(".chips");i&&(i.innerHTML=t.chips)}if(t.enable&&(!0===t||e.querySelectorAll(".dropdown-item,.chip").forEach(function(e){-1<t.enable.indexOf(e.value)&&(e.removeAttribute("disabled"),e.classList.remove("disabled"))})),t.disable){var r=t.disable;!0===r||e.querySelectorAll(".dropdown-item,.chip").forEach(function(e){-1<r.indexOf(e.value)&&(e.setAttribute("disabled",""),e.classList.add("disabled"))})}},enableToggle:function(e){var t=e.querySelector("input");t.removeAttribute("disabled"),t.classList.remove("disabled")},disableToggle:function(e){var t=e.querySelector("input");t.setAttribute("disabled",""),t.classList.add("disabled")},filterItems:function(e,t){e.querySelectorAll(".dropdown-item").forEach(function(e){-1!==e.innerText.toLowerCase().indexOf(t)?e.classList.remove("filtered"):e.classList.add("filtered")})},visibleItems:function(e){return e.querySelectorAll(":not(.selected), :not(.filtered)").length},selectedItems:function(e){return e.querySelectorAll(".selected").length},getItem:function(e,t){return Array.prototype.filter.call(e.querySelectorAll(".dropdown-item"),function(e){return e.value===t})},addChip:function(e,t){this.getItem(e,t).forEach(function(e){return e.classList.add("selected")}),this.getChip(e,t).forEach(function(e){return e.classList.add("active")}),0===this.visibleItems(e)&&$(e.querySelector(this.Selector.TOGGLE)).dropdown("hide");var n=+e.getAttribute("data-max");-1===n||this.selectedItems(e)<n?$(e.querySelector(this.Selector.TOGGLE)).dropdown("update"):($(e.querySelector(this.Selector.TOGGLE)).dropdown("hide"),this.disableToggle(e))},removeChip:function(e,t){var n=+e.getAttribute("data-max");this.getChip(e,t).forEach(function(e){return e.classList.remove("active")}),this.getItem(e,t).forEach(function(e){return e.classList.remove("selected")}),(-1===n||this.selectedItems(e)<n)&&this.enableToggle(e)},getChip:function(e,t){return Array.prototype.filter.call(e.querySelectorAll(".chip"),function(e){return e.value===t})},_update:function(e,r){var l=e.querySelector(".dropdown-item").cloneNode();l.value="",l.innerText="",l.classList.remove("selected"),l.classList.remove("filtered");var o=e.querySelector(".chip").cloneNode(!0);o.value="",o.children[0].innerHTML="",o.classList.remove("active");var a=e.querySelector(".dropdown-menu"),c=e.querySelector(".chips");a.innerHTML="",c.innerHTML="",r.choices.forEach(function(e,t){var n=l.cloneNode();n.value=r.values[t],n.innerHTML=e;var i=o.cloneNode(!0);i.value=r.values[t],i.children[0].innerHTML=e,-1<r.selected.indexOf(r.values[t])&&(n.classList.add("selected"),i.classList.add("active")),a.appendChild(n),c.appendChild(i)})},_select:function(n,i){var r=this;n.querySelectorAll(".chip").forEach(function(e){var t=e.value;i.reset&&r.removeChip(n,t),(i.fixed?-1<i.pattern.indexOf(t):RegExp(i.pattern,"i").test(t))!=i.invert&&r.addChip(n,t)})}}),Shiny.inputBindings.register(r,"yonder.chipInput");var l=new Shiny.InputBinding;document.addEventListener("DOMContentLoaded",function(){bsCustomFileInput.init(".yonder-file[id] input[type='file']")}),$.extend(l,{Selector:{SELF:".yonder-file",VALIDATE:"input[type='file']"},Events:[{type:"change",callback:function(e,t,n){null===e.querySelector("button")&&n._doUpload(e)}},{type:"click",selector:"button",callback:function(e,t,n){return n._doUpload(e)}},{type:"dragover",callback:function(e,t){t.stopPropagation(),t.preventDefault()}},{type:"dragcenter",callback:function(e,t){t.stopPropagation(),t.preventDefault()}},{type:"drop",callback:function(e,t,n){t.stopPropagation(),t.preventDefault(),n._doUpload(e,t.originalEvent.dataTransfer.files)}}],getValue:function(e){return null},_value:function(){return null},_choice:function(){return null},_select:function(){return null},_clear:function(){return null},_enable:function(e,t){e.querySelector("input[type='file']").removeAttribute("disabled")},_disable:function(e,t){e.querySelector("input[type='file']").setAttribute("disabled","")},_sendFile:function(e,t,n,i,r){var l=new XMLHttpRequest;l.open("POST",e,!0),l.setRequestHeader("Content-Type","application/octet-stream"),l.onreadystatechange=function(){l.readyState==XMLHttpRequest.DONE&&200==l.status&&i&&Shiny.shinyapp.makeRequest("uploadEnd",[t,r.id],function(e){r.querySelector("input[type='file']").value=""},function(e){console.error("uploadEnd request failed for "+r.id+": "+e)})},l.send(n)},_doUpload:function(r,l){var o=this,e=r.querySelector("input[type='file']");if(void 0===l&&(l=e.files),l){var t=(l=e.hasAttribute("multiple")?Array.prototype.slice.call(l):Array.prototype.slice.call(l,0,1)).map(function(e){return{name:e.name,size:e.size,type:e.type}});Shiny.shinyapp.makeRequest("uploadInit",[t],function(e){for(var t=e.jobId,n=e.uploadUrl,i=0;i<l.length;i++)o._sendFile(n,t,l[i],i===l.length-1,r)},function(e){console.error("uploadInit request failed for "+r.id+": "+e)})}}}),Shiny.inputBindings.register(l,"yonder.fileInput");var o=new Shiny.InputBinding;$.extend(o,{Events:[{type:"click",selector:".yonder-submit",callback:function(e,t,n){n._VALUES[e.id]=t.currentTarget.value,$(e.querySelectorAll(".shiny-bound-input")).trigger("submission.yonder")}}],Type:"yonder.form",_VALUES:{},find:function(e){return Array.prototype.slice.call(e.querySelectorAll(".yonder-form[id]")).filter(function(e){return null!==e.querySelector(".yonder-submit")})},initialize:function(e){this._VALUES[e.id]=null},getValue:function(e){return{force:Date.now(),value:this._VALUES[e.id]}},_value:function(){return null},_choice:function(){return null},_select:function(){return null},_clear:function(){return null},_enable:function(){return null},_disable:function(){return null}}),Shiny.inputBindings.register(o,"yonder.formInput");var a=new Shiny.InputBinding;$.extend(a,{find:function(e){return e.querySelectorAll(".yonder-group-text[id]")},getValue:function(e){var t=e.querySelectorAll(".input-group-prepend .input-group-text, input, .input-group-append .input-group-text");return Array.prototype.slice.call(t).map(function(e){return/^(DIV|SPAN)$/.test(e.tagName)?e.innerText:e.value||null}).filter(function(e){return null!==e})},getType:function(){return"yonder.group"},subscribe:function(e,t){var n=$(e);0<e.querySelectorAll(".btn").length?(n.on("click",".dropdown-item",function(e){return t()}),n.on("click",".btn:not(.dropdown-toggle",function(e){return t()})):(n.on("input",function(e){return t(!0)}),n.on("change",function(e){return t(!0)}))},receiveMessage:function(e,t){var n=e.querySelector("input");t.value&&(n.value=t.values),t.enable&&n.removeAttribute("disabled"),t.disable&&n.setAttribute("disabled",""),t.valid&&(e.querySelector("valid-feedback").innerHTML=t.valid,n.classList.remove("is-invalid"),n.classList.add("is-valid")),t.invalid&&(e.querySelector("invalid-feedback").innerHTML=t.invalid,n.classList.remove("is-valid"),n.classList.add("is-invalid")),t.valid||t.invalid||(n.classList.remove("is-valid"),n.classList.remove("is-invalid"),e.querySelector("invalid-feedback").innerHTML="",e.querySelector("valid-feedback").innerHTML="")}}),Shiny.inputBindings.register(a,"yonder.groupTextInput");var c=new Shiny.InputBinding;$.extend(c,{find:function(e){return e.querySelectorAll(".yonder-group-select[id]")},getValue:function(e){var t=e.querySelectorAll(".input-group-prepend .input-group-text, input, .input-group-append .input-group-text");return Array.prototype.slice.call(t).map(function(e){return/^(DIV|SPAN)$/.test(e.tagName)?e.innerText:e.value||null}).filter(function(e){return null!==e})},getType:function(){return"yonder.group"},subscribe:function(e,t){var n=$(e);0<e.querySelectorAll(".btn").length?(n.on("click",".dropdown-item",function(e){return t()}),n.on("click",".btn:not(.dropdown-toggle",function(e){return t()})):n.on("change",function(e){return t(!0)})},receiveMessage:function(e,t){var n=e.querySelector("select");(t.content&&(n.innerHTML=t.content),t.enable)&&(!0===t.enable?n.removeAttribute("disabled"):n.querySelectorAll("option").forEach(function(e){e.removeAttribute("disabled")}));t.disable&&(t.disable?n.setAttribute("disabled",""):n.querySelectorAll("option").forEach(function(e){e.setAttribute("disabled","")}));t.valid&&(e.querySelector("valid-feedback").innerHTML=t.valid,n.classList.remove("is-invalid"),n.classList.add("is-valid")),t.invalid&&(e.querySelector("invalid-feedback").innerHTML=t.invalid,n.classList.remove("is-valid"),n.classList.add("is-invalid")),t.valid||t.invalid||(n.classList.remove("is-valid"),n.classList.remove("is-invalid"),e.querySelector("invalid-feedback").innerHTML="",e.querySelector("valid-feedback").innerHTML="")}}),Shiny.inputBindings.register(c,"yonder.groupSelectInputBinding");var d=new Shiny.InputBinding;$.extend(d,{find:function(e){return e.querySelectorAll(".yonder-link[id]")},initialize:function(t){$(t).on("click",function(e){return t.value=+t.value+1}),t.value=0},getValue:function(e){return 0<+e.value?+e.value:null},subscribe:function(e){$(e).on("click.yonder",function(e){return callback()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,t){t.content&&(e.innerHTML=t.content),t.enable&&(e.classList.remove("disabled"),e.removeAttribute("disabled")),t.disable&&(e.classList.add("disabled"),e.setAttribute("disabled",""))}}),Shiny.inputBindings.register(d,"yonder.linkInput");var u=new Shiny.InputBinding;$.extend(u,{find:function(e){return e.querySelectorAll(".yonder-list-group[id]")},initialize:function(t){var e=$(t);e.on("click",".list-group-item-action:not(.active):not(.disabled)",function(e){t.querySelectorAll(".active").forEach(function(e){e.classList.remove("active")}),e.currentTarget.classList.add("active")}),e.on("click",".list-group-item-action.active:not(.disabled)",function(e){e.currentTarget.classList.remove("active")})},getValue:function(e){var t=e.querySelectorAll(".list-group-item-action.active:not(.disabled)");return 0===t.length?null:Array.prototype.slice.call(t).map(function(e){return e.value})},subscribe:function(e,t){$(e).on("click.yonder",function(e){return t()})},unsubcribe:function(e){return $(e).off(".yonder")},receiveMessage:function(t,e){if(e.content&&t.querySelectorAll(".list-group-item").forEach(function(e){t.removeChild(e)}),e.enable){var n=e.enable;!0===n?t.querySelectorAll(".list-group-item").forEach(function(e){e.classList.remove("disabled")}):t.querySelectorAll(".list-group-item").forEach(function(e){-1<n.indexOf(e.value)&&e.classList.remove("disabled")})}if(e.disable){var i=e.disable;!0===i?t.querySelectorAll(".list-group-item").forEach(function(e){e.classList.add("disabled")}):t.querySelectorAll(".list-group-item").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.add("disabled")})}}}),Shiny.inputBindings.register(u,"yonder.listGroupInput");var s=new Shiny.InputBinding;$.extend(s,{find:function(e){return e.querySelectorAll(".yonder-menu[id]")},initialize:function(n){var e=$(n);e.on("click",".dropdown-item:not(.disabled)",function(e){var t=n.querySelector(".dropdown-item.active");null!==t&&t.classList.remove("active"),e.currentTarget.classList.add("active")}),e.on("nav.reset",function(e){var t=n.querySelector(".dropdown-item.active");null!==t&&t.classList.remove("active")})},getValue:function(e){var t=e.querySelector(".dropdown-item.active:not(.disabled)");return null===t?null:t.value},subscribe:function(e){$(e).on("click.yonder",function(e){return callback()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,t){if(t.content&&(e.querySelector(".dropdown-menu").innerHTML=t.content),t.enable){var n=t.enable;!0===n?e.querySelector(".dropdown-toggle").classList.remove("disabled"):e.querySelectorAll(".dropdown-item").forEach(function(e){-1<n.indexOf(e.value)&&e.classList.remove("disabled")})}if(t.disable){var i=t.disable;!0===i?e.querySelector(".dropdown-toggle").classList.add("disabled"):e.querySelectorAll(".dropdown-item").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.add("disabled")})}}}),Shiny.inputBindings.register(s,"yonder.menuInput");var f=new Shiny.InputBinding;$.extend(f,{find:function(e){return e.querySelectorAll(".yonder-nav[id]")},initialize:function(t){var e=$(t);e.on("click",".nav-link:not(.dropdown-toggle):not(.disabled)",function(e){null!==t.querySelector(".dropdown-item.active")&&$(activeItem.parentNode.parentNode).trigger("nav.reset"),t.querySelectorAll(".active").forEach(function(e){return e.classList.remove("active")}),e.currentTarget.classList.add("active")}),e.on("click",".dropdown-item:not(.disabled)",function(e){t.querySelectorAll(".active").forEach(function(e){return e.classList.remove("active")}),e.currentTarget.parentNode.parentNode.children[0].classList.add("active"),e.currentTarget.classList.add("active")})},getValue:function(e){var t=e.querySelector(".nav-link.active:not(.disabled)");return null===t?null:t.value},subscribe:function(e){$(e).on("click.yonder",function(e){return callback()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(t,e){if(e.content&&(t.querySelectorAll(".nav-item").forEach(function(e){return t.removeChild(e)}),t.insertAdjacentHTML("afterbegin",e.content)),e.enable){var n=e.enable;!0===n?t.querySelectorAll(".nav-link").forEach(function(e){e.classList.remove("disabled")}):t.querySelectorAll(".nav-link").forEach(function(e){-1<n.indexOf(e.value)&&e.classList.remove("disabled")})}if(e.disable){var i=e.disable;!0===i?t.querySelectorAll(".nav-link").forEach(function(e){e.classList.add("disabled")}):t.querySelectorAll(".nav-link").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.add("disabled")})}}}),Shiny.inputBindings.register(f,"yonder.navInput"),Shiny.addCustomMessageHandler("yonder:pane",function(e){if(void 0!==e.type&&void 0!==e.data&&void 0!==e.data.target){var t=document.getElementById(e.data.target);null!==t&&("show"===e.type?function(n){if(null!==n&&n.parentElement.classList.contains("tab-content")){var i=n.parentElement.querySelector(".active");bootstrap.Tab.prototype._activate(n,n.parentElement,function(){var e=$.Event("hidden.bs.tab",{relatedTarget:n}),t=$.Event("shown.bs.tab",{relatedTarget:i});$(i).trigger(e),$(n).trigger(t)})}}(t):"hide"===e.type&&function(t){if(null!==t&&t.parentElement.classList.contains("tab-content")&&t.classList.contains("active")){var e=document.createElement("div");bootstrap.Tab.prototype._activate(e,t.parentElement,function(){var e=$.Event("hidden.bs.tab",{relatedTarget:t});$(t).trigger(e)})}}(t))}});var v=new Shiny.InputBinding;$.extend(v,{find:function(e){return e.querySelectorAll(".yonder-radio[id]")},getValue:function(e){var t=e.querySelectorAll(".custom-radio > input:checked:not(:disabled)");return 0===t.length?null:Array.prototype.slice.call(t).map(function(e){return e.value})},subscribe:function(e,t){$(e).on("change.yonder",function(e){return t()})},unsubscribe:function(e){$(e).off(".yonder")},receiveMessage:function(t,e){if(e.content&&(t.querySelectorAll(".custom-radio").forEach(function(e){t.removeChild(e)}),t.insertAdjacentHTML("afterbegin",e.content)),e.enable){var n=e.enable;!0===n?t.querySelectorAll(".custom-radio > input").forEach(function(e){e.removeAttribute("disabled")}):t.querySelectorAll(".custom-radio > input").forEach(function(e){-1<n.indexOf(e.value)&&e.removeAttribute("disabled")})}if(e.disable){var i=e.disable;!0===i?t.querySelectorAll(".custom-radio > input").forEach(function(e){e.setAttribute("disabled","")}):t.querySelectorAll(".custom-radio > input").forEach(function(e){-1<i.indexOf(e.value)&&e.setAttribute("disabled","")})}e.valid&&(t.querySelector(".valid-feedback").innerHTML=e.valid,t.querySelectorAll(".custom-radio").forEach(function(e){e.classList.add("is-valid")})),e.invalid&&(t.querySelector(".invalid-feedback").innerHTML=e.invalid,t.querySelectorAll(".custom-radio").forEach(function(e){e.classList.add("is-invalid")})),e.valid||e.invalid||(t.querySelector(".valid-feedback").innerHTML="",t.querySelector(".invalid-feedback").innerHTML="",t.querySelectorAll(".custom-radio").forEach(function(e){e.classList.remove("is-valid"),e.classList.remove("is-invalid")}))}}),Shiny.inputBindings.register(v,"yonder.radioInput");var p=new Shiny.InputBinding;$.extend(p,{Selector:{SELF:".yonder-radiobar[id]",SELECTED:"input:checked:not(:disabled)"},Events:[{type:"click"},{type:"change"}],find:function(e){return e.querySelectorAll(".yonder-radiobar[id]")},getValue:function(e){var t=e.querySelectorAll("input:checked:not(:disabled)");return 0===t.length?null:Array.prototype.slice.call(t).map(function(e){return e.value})},subscribe:function(e,t){var n=$(e);n.on("click.yonder",function(e){return t()}),n.on("change.yonder",function(e){return t()})},unsubscribe:function(e){$(e).off(".yonder")},receiveMessage:function(e,t){if(t.content&&(e.innerHTML=t.content),t.enable){var n=t.enable;!0===n?e.querySelectorAll(".btn").forEach(function(e){e.classList.remove("disabled"),e.children[0].removeAttribute("disabled")}):e.querySelectorAll("input").forEach(function(e){-1<n.indexOf(e.value)&&(e.parentNode.classList.remove("disabled"),e.removeAttribute("disabled"))})}if(t.disable){var i=t.disable;!0===i?e.querySelectorAll(".btn").forEach(function(e){e.classList.add("disabled"),e.children[0].setAttribute("disabled","")}):e.querySelectorAll("input").forEach(function(e){-1<i.indexOf(e.value)&&(e.parentNode.classList.add("disabled"),e.setAttribute("disabled",""))})}}}),Shiny.inputBindings.register(p,"yonder.radiobarInput");var y=new Shiny.InputBinding;$.extend(y,{Selector:{SELF:".yonder-range[id]"},Events:[{type:"change"}],initialize:function(e){$(e.querySelector("input")).ionRangeSlider()},getId:function(e){return e.id},getValue:function(e){var t=$("input[type='text']",e),n=t.data("ionRangeSlider");return"double"===t.data("type")?[n.result.from,n.result.to]:"single"===t.data("type")?null!==n.result.from_value?n.result.from_value.replace("&#44;",","):n.result.from:null},getState:function(e,t){return{value:this.getValue(e)}},_update:function(e,t){$(e.querySelector(".irs-hidden-input")).data("ionRangeSlider").update({values:t.values})},_select:function(e,t){$(e.querySelector(".irs-hidden-input")).data("ionRangeSlider")},dispose:function(e){$(e.querySelector(".irs-hidden-input")).data("ionRangeSlider").destroy()}}),Shiny.inputBindings.register(y,"yonder.rangeInput");var b=new Shiny.InputBinding;$.extend(b,{find:function(e){return e.querySelectorAll(".yonder-select[id]")},getValue:function(e){var t=e.querySelectorAll("option:checked:not(:disabled");return 0===t.length?null:Array.prototype.slice.call(t).map(function(e){return e.value})},subscribe:function(e,t){$(e).on("change.yonder",function(e){return t()})},unsubscribe:function(e){$(e).off(".yonder")},receiveMessage:function(e,t){if(t.content&&(e.querySelector(".custom-select").innerHTML=t.content),t.enable){var n=t.enable;!0===n?e.querySelector(".custom-select").classList.remove("disabled"):e.querySelectorAll("option").forEach(function(e){-1<n.indexOf(e.value)&&e.removeAttribute("disabled")})}if(t.disable){var i=t.disable;!0===i?e.querySelector(".custom-select").classList.add("disabled"):e.querySelectorAll("option").forEach(function(e){-1<i.indexOf(e.value)&&e.setAttribute("disabled","")})}if(t.valid&&(e.querySelector(".custom-select").classList.add("is-valid"),e.querySelector(".valid-feedback").innerHTML=t.valid),t.invalid&&(e.querySelector(".custom-select").classList.add("is-invalid"),e.querySelector(".invalid-feedback").innerHTML=t.invalid),!t.valid&&!t.invalid){var r=e.querySelector(".custom-select");r.classList.remove("is-valid"),r.classList.remove("is-invalid"),e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".invalid-feedback").innerHTML=""}}}),Shiny.inputBindings.register(b,"yonder.selectInput");var h=new Shiny.InputBinding;$.extend(h,{find:function(e){return e.querySelectorAll(".yonder-textual[id]")},getValue:function(e){var t=e.children[0];return"number"===t.type?Number(t.value):t.value},subscribe:function(e,t){var n=$(e);n.on("change.yonder",function(e){return t(!0)}),n.on("input.yonder",function(e){return t(!0)})},unsubscribe:function(e){return $(e).off(".yonder")},getRatePolicy:function(){return{policy:"debounce",delay:250}},receiveMessage:function(e,t){null!==t.value&&(e.querySelector("input").value=t.value),t.enable&&e.children[0].removeAattribute("disabled"),t.disable&&e.children[0].setAttribute("disabled",""),t.valid&&(e.querySelector(".valid-feedback").innerHTML=t.valid,e.classList.remove("is-invalid"),e.classList.add("is-valid")),t.invalid&&(e.querySelector(".invalid-feedback").innerHTML=t.invalid,e.classList.remove("is-valid"),e.classList.add("is-invalid")),t.valid||t.invalid||(e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".invalid-feedback").innerHTML="",e.children[0].classList.remove("is-valid"),e.children[0].classList.remove("is-invalid"))}}),Shiny.inputBindings.register(h,"yonder.textualInput"),$.extend(Shiny.progressHandlers,{"yonder-progress":function(e){if(!e.type||!e.data.outlet)return!1;var t=$("#"+e.data.outlet);if("show"!==e.type)return!1;var n=$(e.data.content);return n[0].id&&t.find("#"+n[0].id).length?t.find("#"+n[0].id).replaceWith(n):t.append(n),!0}}),Shiny.addCustomMessageHandler("yonder:collapse",function(e){if(void 0===e.type||void 0===e.data||void 0===e.data.target)return!1;if("show"!==e.type&&"hide"!==e.type&&"toggle"!==e.type)return!1;var t=document.getElementById(e.data.target);return null!==t&&($(t).collapse(e.type),!0)}),Shiny.addCustomMessageHandler("yonder:element",function(e){var t,n;e.type&&("render"===e.type?function(e){e.dependencies&&Shiny.renderDependencies(e.dependencies);var t=document.getElementById(e.target);null!==t&&(Shiny.unbindAll(t),t.innerHTML=e.content,Shiny.initializeInputs(t),Shiny.bindAll(t))}(e.data):"remove"===e.type?(t=e.data,null!==(n=document.getElementById(t.target))&&(Shiny.unbindAll(n),n.innerHTML="")):console.warn("no element "+e.type+" method"))}),$(function(){$(document).on("hidden.bs.modal",".modal",function(e){Shiny.unbindAll(e.currentTarget)})}),Shiny.addCustomMessageHandler("yonder:modal",function(e){if(void 0===e.type)return!1;var n,i,t;"hide"===e.type?(t=e.data,$(document.getElementById(t.id)).modal("hide")):"show"===e.type?(n=e.data,i=document.getElementById(n.id),n.exprs&&Object.keys(n.exprs).forEach(function(e){var t=i.querySelector("span[data-target='"+n.id+"__"+e+"']");t&&(t.innerHTML=n.exprs[e])}),$(i).modal("show")):"register"===e.type?function(n){var e=document.createElement("div");e.classList.add("modal"),e.classList.add("fade"),e.setAttribute("tabindex",-1),e.setAttribute("role","dialog"),e.setAttribute("id",n.id),void 0!==n.dependencies&&Shiny.renderDependencies(n.dependencies),document.body.appendChild(e);var t=n.content.replace(/[{]\s*([a-z0-9_.]+)\s*[}]/g,function(e,t){return"<span data-target='"+n.id+"__"+t+"'></span>"});e.insertAdjacentHTML("afterbegin",t),Shiny.initializeInputs(e),Shiny.bindAll(e)}(e.data):console.warn("no modal "+e.type+" method")}),$(function(){document.body.insertAdjacentHTML("beforeend","<div class='toasts'></div>"),$(".toasts").on("hidden.bs.toast",".toast",function(e){if(e.currentTarget.hasAttribute("data-action")){var t=e.currentTarget.getAttribute("data-action");Shiny.onInputChange(t,!0),setTimeout(function(){return Shiny.onInputChange(t,null)},100)}e.delegateTarget.removeChild(e.currentTarget)})}),Shiny.addCustomMessageHandler("yonder:toast",function(e){var t,n;e.type&&("show"===e.type?(n=e.data,document.querySelector(".toasts").insertAdjacentHTML("beforeend",n.content),$(".toasts > .toast:last-child").toast("show")):"close"===e.type?(e.data,(t=document.querySelectorAll(".toasts .toast")).length&&$(t).toast("hide")):console.warn("no toast "+e.type+" method"))}),$(function(){$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),$(document).on("shiny:connected",function(){$('.yonder-submit[data-type="submit"]').attr("type","submit")}),Shiny.addCustomMessageHandler("yonder:popover",function(e){if(void 0!==e.data.target){if("show"==e.type){var t=e.data,n="#"+t.target;return $(n).popover({title:function(){},content:function(){},template:t.content,placement:t.placement,trigger:"manual"}),t.duration&&setTimeout(function(){return $(n).popover("hide")},t.duration),void $(n).popover("show")}"close"!=e.type||$("#"+e.data.id).popover("hide")}}),Shiny.addCustomMessageHandler("yonder:download",function(t){if(!(t.filename&&t.token&&t.key))throw"invalid download event";var e="/session/"+t.token+"/download/"+t.key,n=window.navigator.userAgent;if(!0===/MSIE/.test(n)){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){return saveAs(i.response,t.filename)},i.send()}else fetch(e).then(function(e){return e.blob()}).then(function(e){saveAs(e,t.filename)})})})});