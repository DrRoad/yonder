"use strict";var _slicedToArray=function(){function n(n,t){var i=[],e=!0,u=!1,d=void 0;try{for(var a,r=n[Symbol.iterator]();!(e=(a=r.next()).done)&&(i.push(a.value),!t||i.length!==t);e=!0);}catch(n){u=!0,d=n}finally{try{!e&&r.return&&r.return()}finally{if(u)throw d}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(function(){$('[data-toggle="popover"]').popover()}),$(document).on("shiny:connected",function(){$('.dull-submit[data-type="submit"]').attr("type","submit")}),Shiny.addCustomMessageHandler("dull:collapse",function(n){var t=$("#"+n.id);if(0===t.length||!n.action)return!1;t.collapse(n.action)}),Shiny.addCustomMessageHandler("dull:alert",function(n){var t=n.id.map(function(n){return"#"+n}).join(",");$("<div>").addClass("alert alert-dismissible alert-"+n.context+" fade show").html(n.content).append($("<button>",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close"}).append($("<span>",{class:"fa fa-times-rectangle","aria-hidden":!0}))).insertBefore($(t))}),function(){this.getType=function(n){if($(n).parents(".dull-form-input[id]").length)return"dull.form.element"}}.call(Shiny.InputBinding.prototype);var addressInputBinding=new Shiny.InputBinding;$.extend(addressInputBinding,{find:function(n){return $(n).find(".dull-address-input[id]")},getValue:function(n){var t=["line1","line2","city","state","zip"],i=$(n).find("input").map(function(n,t){return $(t).val()}).get().reduce(function(n,i,e){return console.log(e),n[t[e]]=i,n},{});return Object.values(i).reduce(function(n,t){return n||t})?i:null},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.addressInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".addressInputBinding")}}),Shiny.inputBindings.register(addressInputBinding,"dull.addressInput");var alertInputBinding=new Shiny.InputBinding;$.extend(alertInputBinding,{find:function(n){return $(n).find(".dull-alert[id] .close").parent()},getValue:function(n){var t=$(n).data("closed")||null;return console.log(t),t},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("closed.bs.alert.alertInputBinding",function(i){$(n).data("closed",!0),t()})},unsubscribe:function(n){$(n).off(".alertInputBinding")}}),Shiny.inputBindings.register(alertInputBinding,"dull.alertInput");var breadcrumbOutputBinding=new Shiny.OutputBinding;$.extend(breadcrumbOutputBinding,{find:function(n){return $(n).find(".buckle-breadcrumb")},getValue:function(n){return $(n).find("li:last").text()}});var buttonInputBinding=new Shiny.InputBinding;$.extend(buttonInputBinding,{find:function(n){return $(n).find(".dull-button-input[id]")},getValue:function(n){var t=$(n);return 0===t.data("clicks")?null:parseInt(t.data("clicks"),10)},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("click.buttonInputBinding",function(i){var e=$(n);e.data("clicks",parseInt(e.data("clicks"),10)+1),t()}),$(n).on("change.buttonInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".buttonInputBinding")},receiveMessage:function(n,t){var i=$(n);if(t.label&&i.html(t.label),!0===t.reset&&i.data("clicks",0),t.state){var e="valid"===t.state?null:t.state;e&&(e=i.attr("class").search(/btn-outline-/)?"btn-outline-"+t.state:"btn-"+t.state),i.attr("class",function(n,t){return t.replace(/btn-(?:outline-)?(?:primary|secondary|link|success|info|warning|danger)/g,"")}).addClass("valid"===t.state?null:e)}!0===t.disable&&i.prop("disabled",!0),!0===t.enable&&i.prop("disabled",!1),i.trigger("change")}}),Shiny.inputBindings.register(buttonInputBinding,"dull.buttonInput");var checkbarInputBinding=new Shiny.InputBinding;$.extend(checkbarInputBinding,{find:function(n){return $(n).find(".dull-checkbar-input[id]")},getValue:function(n){return $(n).find("input[type=checkbox]:checked").map(function(n,t){return $(t).data("value")}).get()},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("click.checkbarInputBinding",function(n){t()}),$(n).on("change.checkbarInputBinding",function(n){t()})},unsubcribe:function(n){$(n).off(".checkbarInputBinding")}}),Shiny.inputBindings.register(checkbarInputBinding,"checkbarInput");var checkboxInputBinding=new Shiny.InputBinding;$.extend(checkboxInputBinding,{find:function(n){return $(n).find(".dull-checkbox-input[id]")},getValue:function(n){var t=$(n).find('input[type="checkbox"]:checked:not(:disabled)').data("value");return void 0===t?null:t},_getLabel:function(n){return $(n).find(".custom-control-description").text()},getState:function(n,t){return{label:this._getLabel(n),value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.checkboxInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".checkboxInputBinding")},receiveMessage:function(n,t){var i=$(n);void 0!==t.content&&(i.find("label").remove(),i.html(t.choice)),t.state&&(i.attr("class",function(n,t){return t.replace(/has-(success|warning|danger)/g,"")}),"valid"!==t.state&&i.addClass("has-"+t.state)),!0===t.disable&&(i.find('input[type="checkbox"]').prop("disabled",!0),i.find(".form-gruop").hasClass("disabled")&&i.find(".form-group").addClass("disabled")),!0===t.enable&&(i.find('input[type="checkbox"]').prop("disabled",!1),i.find(".form-group").removeClass("disabled")),i.trigger("change")}}),Shiny.inputBindings.register(checkboxInputBinding,"dull.checkboxInput"),$(document).ready(function(){$(".dull-dropdown-input[id]").on("click",".dropdown-item",function(n){n.preventDefault()}),$(".dull-dropdown-input[id]").on("click",".dropdown-item:not(.disabled)",function(n){$(this).trigger("click:item",{value:$(this).data("value")})})});var dropdownInputBinding=new Shiny.InputBinding;$.extend(dropdownInputBinding,{find:function(n){return $(n).find(".dull-dropdown-input[id]")},getValue:function(n){var t=$(n).data("value");return void 0===t?null:t},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("click:item.dropdownInputBinding",function(i,e){$(n).data("value",e.value),t()}),$(n).on("change.dropdownInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".dropdownInputBinding")},receiveMessage:function(n,t){var i=$(n);t.disable&&(!0===t.disable?(i.find(".dropdown-toggle").prop("disabled",!0),i.data("value",null)):$.each(t.disable,function(n,t){var e=i.find('.dropdown-item[data-value="'+t+'"]');0===e.length||e.hasClass("disabled")||e.addClass("disabled"),t==i.data("value")&&i.data("value",null)})),t.enable&&(!0===t.enable?(i.find(".dropdown-toggle").prop("disabled",!1),i.find(".dropdown-item").removeClass("disabled")):$.each(t.enable,function(n,t){var e=i.find('.dropdown-item[data-value="'+t+'"]');0!==e.length&&e.removeClass("disabled")})),i.trigger("change")}}),Shiny.inputBindings.register(dropdownInputBinding,"dull.dropdownInput");var formInputBinding=new Shiny.InputBinding;$(document).ready(function(){$(".dull-form-input[id]").each(function(n,t){$(t).find(".dull-input[id]").each(function(n,i){$(i).data("id",i.id).attr("id",t.id+"__"+i.id).data("parent-form",t.id)})})}),$.extend(formInputBinding,{find:function(n){return $(n).find(".dull-form-input[id]")},getValue:function(n){var t=$(n).find(".dull-input[id]").map(function(){var n={},t=Shiny.shinyapp.$inputValues[this.id+":dull.form.element"];return void 0===t?n:(n[$(this).data("id")]=t,n)}).get().reduce(function(n,t){return Object.assign(n,t)});return 0===Object.keys(t).length?null:t},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("submit.formInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".formInputBinding")}}),Shiny.inputBindings.register(formInputBinding,"dull.formInput");var groupInputBinding=new Shiny.InputBinding;$.extend(groupInputBinding,{find:function(n){return $(n).find(".dull-group-input[id]")},initialize:function(n){var t=$(n);t.data("prefix",t.find(".left-addon").map(function(n,t){return $(t).text()}).get().join("")),t.data("suffix",t.find(".right-addon").map(function(n,t){return $(t).text()}).get().join(""))},getValue:function(n){var t=$(n),i=t.find('input[type="text"]').val();if(""===i)return null;var e=t.find(".left-group .dull-dropdown-input[id]").data("value")||"",u=t.find(".right-group .dull-dropdown-input[id]").data("value")||"";return e+t.data("prefix")+i+t.data("suffix")+u},getState:function(n){return{value:this.getValue(n)}},subscribe:function(n,t){var i=$(n);i.find("button").length?(i.on("click.groupInputBinding",".dull-button-input[id]",function(n){t()}),i.on("click.groupInputBinding",".dull-dropdown-input[id] .dropdown-item",function(n){t()})):i.on("change.groupInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".groupInputBinding")}}),Shiny.inputBindings.register(groupInputBinding,"dull.groupInput"),$(document).ready(function(){$(".dull-list-group-input[id]").on("click",".list-group-item:not(.disabled)",function(n){n.preventDefault();var t=$(this);t.toggleClass("active"),t.trigger("change")})});var listGroupInputBinding=new Shiny.InputBinding;$.extend(listGroupInputBinding,{find:function(n){return $(n).find(".dull-list-group-input[id]")},getValue:function(n){var t=$(n).children(".list-group-item.active:not(:disabled)").map(function(n,t){return $(t).data("value")}).get();return void 0===t?null:t},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.listGroupInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".listGroupInputBinding")},receiveMessage:function(n,t){var i=$(n);if(void 0!==t.items&&(i.find(".list-group-item").remove(),0!==i.children().length?i.children().first().before(t.items):i.html(t.items)),void 0!==t.state){var e="valid"===t.state?null:"list-group-item-"+t.state;null!==t.filter?$.each(t.filter,function(n,t){i.find('.list-group-item[data-value="'+t+'"]').attr("class",function(n,t){return t.replace(/list-group-item-(success|info|warning|danger)/g,"")}).addClass(e)}):i.find(".list-group-item").attr("class",function(n,t){return t.replace(/list-group-item-(success|info|warning|danger)/g,"")}).addClass(e)}if(t.disable&&(!0===t.disable?i.find(".list-group-item").each(function(n,t){$(t).prop("disabled",!0)}):$.each(t.disable,function(n,t){i.find('.list-group-item[data-value="'+t+'"]').prop("disabled",!0)})),t.enable&&(!0===t.enable?i.find(".list-group-item").each(function(n,t){$(t).prop("disabled",!1)}):$.each(t.enable,function(n,t){i.find('.list-group-item[data-value="'+t+'"]').prop("disabled",!1)})),t.increment)if(!0===t.increment){var u=i.find(".list-group-item .badge");0!==u.length&&u.each(function(n,t){$(t).text(parseInt($(t).text(),10)+1)})}else $.each(t.increment,function(n,t){var e=i.find('.list-group-item[data-value="'+t+'"] .badge');0!==e.length&&e.text(parseInt(e.text(),10)+1)});i.trigger("change")}}),Shiny.inputBindings.register(listGroupInputBinding,"dull.listGroupInput");var loginInputBinding=new Shiny.InputBinding;$.extend(loginInputBinding,{find:function(n){return $(n).find(".dull-login-input[id]")},getValue:function(n){var t=$(n).find(".form-control").map(function(n,t){return $(t).val()}).get();return t[0]||t[1]?{username:t[0],password:t[1]}:null},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("click.loginInputBinding",".btn",function(n){t()})},unsubscribe:function(n){$(n).off(".loginInputBinding")}}),Shiny.inputBindings.register(loginInputBinding,"dull.loginInput");var radioInputBinding=new Shiny.InputBinding;$.extend(radioInputBinding,{find:function(n){return $(n).find(".dull-radio-input[id]")},getValue:function(n){var t=$(n).find('input[type="radio"]:checked:not(:disabled)').data("value");return void 0===t?null:t},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.radioInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".radioInputBinding")},receiveMessage:function(n,t){var i=$(n);void 0!==t.choices&&(i.find(".custom-radio").remove(),i.find(".form-control-feedback").before(t.choices)),t.state&&(i.attr("class",function(n,t){return t.replace(/has-(success|warning|danger)/g,"")}),i.find(".form-control-feedback").empty(),"valid"!==t.state&&(i.addClass("has-"+t.state),t.hint&&i.find(".form-control-feedback").html(t.hint))),t.disable&&(!0===t.disable?i.find('input[type="radio"]').each(function(n,t){$(t).prop("disabled",!0)}):$.each(t.disable,function(n,t){i.find('input[type="radio"][data-value="'+t+'"]').prop("disabled",!0)})),t.enable&&(!0===t.enable?i.find('input[type="radio"]').each(function(n,t){$(t).prop("disabled",!1)}):$.each(t.enable,function(n,t){i.find('input[type="radio"][data-value="'+t+'"]').prop("disabled",!1)})),i.trigger("change")}}),Shiny.inputBindings.register(radioInputBinding,"dull.radioInput");var radiobarInputBinding=new Shiny.InputBinding;$.extend(radiobarInputBinding,{find:function(n){return $(n).find(".dull-radiobar-input[id]")},getValue:function(n){return $(n).find("input[type=radio]:checked").data("value")},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("click.radiobarInputBinding",function(n){t()}),$(n).on("change.radiobarInputBinding",function(n){t()})},unsubcribe:function(n){$(n).off(".radiobarInputBinding")}}),Shiny.inputBindings.register(radiobarInputBinding,"radiobarInput");var rangeInputBinding=new Shiny.InputBinding;$.extend(rangeInputBinding,{find:function(n){return $(n).find(".dull-range-input[id]")},initialize:function(n){$("input[type='text']",n).ionRangeSlider()},getId:function(n){return n.id},getValue:function(n){var t=$("input[type='text']",n),i=t.data("ionRangeSlider")||{};return i?"double"==t.data("type")?[i.result.from,i.result.to]:i.result.from:null},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.rangeInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".rangeInputBinding")}}),Shiny.inputBindings.register(rangeInputBinding,"dull.rangeInput");var selectInputBinding=new Shiny.InputBinding;$.extend(selectInputBinding,{find:function(n){return $(n).find(".dull-select-input[id]")},getValue:function(n){return $(n).find("option:checked").map(function(n,t){var i=$(t).data("value");return void 0===i?null:i}).get()},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.selectInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".selectInputBinding")}}),Shiny.inputBindings.register(selectInputBinding,"dull.selectInput");var tableInputBinding=new Shiny.InputBinding;$.extend(tableInputBinding,{find:function(n){return $(n).find(".dull-table-thruput[id]")},getId:function(n){return n.id},getType:function(n){return"dull.table.input"},getValue:function(n){var t=$(n),i=t.find("thead th").map(function(n,t){return $(t).text()}).get(),e=t.find("tr").filter(function(n,t){return $(t).data("selected")}).map(function(n,t){var e={};return $(t).children("td").each(function(n,t){e[i[n+1]]=$(t).text()}),e}).get();return JSON.stringify(e)},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.tableInputBinding",function(n){t()}),$(n).on("click.tableInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".tableInputBinding")},receiveMessage:function(n,t){var i=$(n);t.validate&&$.each(t.validate,function(n,e){i.find("tbody tr:nth-child("+e+")").addClass("table-"+t.state)})}}),Shiny.inputBindings.register(tableInputBinding,"dull.tableInput"),$(document).ready(function(){$(".dull-table-thruput[id]").on("click","tbody tr",function(n){var t=$(this);t.data("selected")?t.data("selected",!1).attr("class",function(n,t){return(t=t||"").replace(/bg-(primary|success|info|warning|danger)/g,"table-$1").replace(/table-dark/g,"")}):t.data("selected",!0).attr("class",function(n,t){var i=(t=t||"").replace(/table-(primary|success|info|warning|danger)/g,"bg-$1");return i===t&&(i+=" table-dark"),i})})});var textualInputBinding=new Shiny.InputBinding;$.extend(textualInputBinding,{find:function(n){return $(n).find(".dull-textual-input[id]")},getValue:function(n){var t=$(n).find("input"),i=void 0===t.val()?null:t.val();return null===i?null:"number"===t.attr("type")?parseInt(i,10):i},getState:function(n,t){return{value:this.getValue(n)}},getRatePolicy:function(){return{policy:"debounce",delay:250}},subscribe:function(n,t){$(n).on("change.textualInputBinding",function(n){t(!0)}),$(n).on("input.textualInputBinding",function(n){t(!0)})},unsubscribe:function(n){$(n).off(".textualInputBinding")}}),Shiny.inputBindings.register(textualInputBinding,"dull.textualInput"),Shiny.addCustomMessageHandler("dull:modal",function(n){if(!0===n.close)return $(".modal").modal("hide"),!0;if($(".modal").length)t=$(".modal");else{var t=$("<div>",{class:"modal fade",tabindex:-1,role:"dialog"}).append($("<div>",{class:"modal-dialog",role:"document"}).append($("<div>",{class:"modal-content"}).append($("<div>",{class:"modal-header"}).append($("<h5>",{class:"modal-title"}),$("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append($("span",{class:"fa fa-times-rectangle"}))),$("<div>",{class:"container-fluid"}).append($("<div>",{class:"modal-body"})))));$("<body>").append(t)}$(".modal-title").html(n.title),$(".modal-body").html(n.body),n.footer&&($(".modal-footer").length?$(".modal-content").html(n.footer):$(".modal-content").append($("<div>",{class:"modal-footer"}).html(n.footer)))}),$(document).ready(function(){$(document).on("shown.bs.modal",".modal",function(n){console.log($(".modal").find(".shiny-bound-output, .shiny-bound-input").length),$(".modal").find(".shiny-bound-output, .shiny-bound-input").length||(console.log("no bound found"),Shiny.initializeInputs(".modal"),Shiny.bindAll(".modal"))})});var badgeOutputBinding=new Shiny.OutputBinding;$.extend(badgeOutputBinding,{find:function(n){return $(n).find(".dull-badge-output[id]")},getId:function(n){return n.id},renderValue:function(n,t){var i=$(n);if(null!==t.value&&void 0!==t.value&&i.text(t.value),t.context){var e="badge-"+t.context;i.hasClass(e)||(i.attr("class",function(n,t){return t.replace(/badge-(default|primary|success|info|warning|danger)/g,"")}),i.addClass(e))}},renderError:function(n,t){},clearError:function(n){}}),Shiny.outputBindings.register(badgeOutputBinding,"dull.badgeOutput");var chartistOutputBinding=new Shiny.OutputBinding;$.extend(chartistOutputBinding,{}),$.extend(Shiny.progressHandlers,{"dull-progress":function(n){console.log(n);var t=$(".dull-progress-output #"+n.id);t.attr("style",function(t,i){return i.replace(/width: [0-9]+%/,"width: "+n.value+"%")}).attr("aria-valuenow",n.value),n.label&&t.text(n.label),n.context&&t.attr("class",function(t,i){return i.replace(/bg-(?:primary|secondary|success|info|warning|danger|light|dark|white)/g,"bg-"+n.context)})}});var radialOutputBinding=new Shiny.OutputBinding;$.extend(radialOutputBinding,{find:function(n){return $(n).find(".dull-radial-output[id]")},getId:function(n){return n.id},renderValue:function(n,t){var i=[30,86,168,281,303,365];d3.select(".chart").selectAll("div").data(i).enter().append("div").style("width",function(n){return n+"px"}).text(function(n){return n})}}),Shiny.outputBindings.register(radialOutputBinding,"dull.radialOutput");var sparklineOutputBinding=new Shiny.OutputBinding;$.extend(sparklineOutputBinding,{find:function(n){return $(n).find(".dull-sparkline-output[id]")},getId:function(n){return n.id},renderValue:function(n,t){if(t.values){var i=$(n),e=i.data("labels");i.text(function(n,i){var u="{"+t.values.join(",")+"}";return e&&(u=t.raw[0]+u+t.raw[t.raw.length-1]),""===i?u:i.replace(/{[0-9,]*}/,u)})}},renderError:function(n,t){},clearError:function(n){}}),Shiny.outputBindings.register(sparklineOutputBinding,"dull.sparklineOutput"),$.extend(Shiny.progressHandlers,{"dull-stream":function(n){return $("<li>").addClass("list-group-item").addClass(n.context?"list-group-item-"+n.context:"").text(n.message).hide().appendTo($("#"+n.id)).fadeIn(300),!1}});var tableOutputBinding=new Shiny.OutputBinding;$.extend(tableOutputBinding,{find:function(n){return $(n).find(".dull-table-thruput[id]")},getId:function(n){return n.id},renderValue:function(n,t){var i=$(n),e=i.data("table");t.data&&t.columns&&(i.empty(),i.append($("<thead>").append($("<tr>",{class:e}).append($("<th>").text("#"),$.map(t.columns,function(n,t){return $("<th>").addClass("thead-default").text(n)}))),$("<tbody>").append($.map(t.data,function(n,t){var i;return"_row"in n?(i=$("<th>").text(n._row).attr("scope","row"),delete n._row):i=$("<th>").text(t+1).attr("scope","row"),$("<tr>",{color:e}).append(i,$.map(Object.entries(n),function(n,t){var i=_slicedToArray(n,2),e=i[0],u=i[1];return $("<td>").text(u).data("col",e)}))}))))}}),Shiny.outputBindings.register(tableOutputBinding,"dull.tableOutput");var tooltipBinding=new Shiny.OutputBinding;$.extend(tooltipBinding,{find:function(n){return null},getId:function(n){return null},renderValue:function(n,t){var i=$(n);if(t.remove)return i.removeAttr("data-toggle"),i.removeAttr("data-placement"),i.removeAttr("title"),!1;t.show}});