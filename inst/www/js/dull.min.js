"use strict";$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(function(){$('[data-toggle="popover"]').popover()}),$(document).on("shiny:connected",function(){$('.dull-submit[data-type="submit"]').attr("type","submit")}),Shiny.addCustomMessageHandler("dull:updatecollapse",function(n){var t=$(n.id);if(0===t.length||!n.action)return!1;t.collapse(n.action)});var alertInputBinding=new Shiny.InputBinding;$.extend(alertInputBinding,{find:function(n){return $(n).find(".dull-alert[id] .close").parent()},getValue:function(n){var t=$(n).data("closed")||null;return console.log(t),t},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("closed.bs.alert.alertInputBinding",function(i){$(n).data("closed",!0),t()})},unsubscribe:function(n){$(n).off(".alertInputBinding")}}),Shiny.inputBindings.register(alertInputBinding,"dull.alertInput");var breadcrumbOutputBinding=new Shiny.OutputBinding;$.extend(breadcrumbOutputBinding,{find:function(n){return $(n).find(".buckle-breadcrumb")},getValue:function(n){return $(n).find("li:last").text()}});var buttonInputBinding=new Shiny.InputBinding;$.extend(buttonInputBinding,{find:function(n){return $(n).find(".dull-button-input[id]")},getValue:function(n){var t=$(n);return 0===t.data("clicks")?null:{clicks:parseInt(t.data("clicks"),10),value:t.data("value")||null}},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("click.buttonInputBinding",function(i){var e=$(n);e.data("clicks",parseInt(e.data("clicks"),10)+1),t()}),$(n).on("change.buttonInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".buttonInputBinding")},receiveMessage:function(n,t){var i=$(n);null!==t.clicks&&i.data("clicks",t.clicks),t.context&&i.attr("class",function(n,t){return t.replace(/btn-(?:outline-)?(?:primary|secondary|link|success|info|warning|danger)/,"")}).addClass("btn-"+t.context),i.trigger("change")}}),Shiny.inputBindings.register(buttonInputBinding,"dull.buttonInput");var checkboxBarInputBinding=new Shiny.InputBinding;$.extend(checkboxBarInputBinding,{find:function(n){return $(n).find(".dull-checkbox-bar[id]")},getValue:function(n){return $(n).find('input[type="checkbox"]:checked').map(function(n,t){return $(t).data("value")}).get()},getState:function(n){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.checkboxBarInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".checkboxBarInputBinding")}}),Shiny.inputBindings.register(checkboxBarInputBinding,"checkboxBarInput");var checkboxInputBinding=new Shiny.InputBinding;$.extend(checkboxInputBinding,{find:function(n){return $(n).find(".dull-checkbox-input[id]")},getValue:function(n){var t=$(n).find('input[type="checkbox"]:checked:not(:disabled)').data("value");return void 0===t?null:t},_getLabel:function(n){return $(n).find(".custom-control-description").text()},getState:function(n,t){return{label:this._getLabel(n),value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.checkboxInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".checkboxInputBinding")},receiveMessage:function(n,t){var i=$(n);void 0!==t.choice&&(i.find("label").remove(),i.html(t.choice)),t.state&&(i.attr("class",function(n,t){return t.replace(/has-(success|warning|danger)/g,"")}),"valid"!==t.context&&i.addClass("has-"+t.state)),!0===t.disable&&i.find('input[type="checkbox"]').prop("disabled",!0),!0===t.enable&&i.find('input[type="checkbox"]').prop("disabled",!1),i.trigger("change")}}),Shiny.inputBindings.register(checkboxInputBinding,"dull.checkboxInput");var dropdownInputBinding=new Shiny.InputBinding;$.extend(dropdownInputBinding,{find:function(n){return $(n).find(".dull-dropdown-input[id]")},getValue:function(n){return $(n).data("value")||null},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("dull:itemclick.dropdownInputBinding",function(i,e){$(n).data("value",e.value),t()})},unsubscribe:function(n){$(n).off(".dropdownInputBinding")}}),Shiny.inputBindings.register(dropdownInputBinding,"dull.dropdownInput"),$(document).ready(function(){$(".dull-dropdown-item").on("click",function(n){n.preventDefault();var t=$(this);t.trigger("dull:itemclick",{value:t.data("value")||null})})});var formGroupInputBinding=new Shiny.InputBinding;$.extend(formGroupInputBinding,{find:function(n){return $(n).find(".dull-form-group[id]")},getValue:function(n){var t=$(n).children(".dull-input[id]");return t.length?t.map(function(n,t){var i={};return i[t.id]=$(t).val()||null,i}).get().reduce(function(n,t){return Object.assign(n,t)}):null},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("dull:formchange.formGroupInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".formGroupInputBinding")},receiveMessage:function(n,t){var i=$(n);t.state&&(i.attr("class",function(n,t){return t.replace(/has-(success|warning|danger)/g,"")}),i.addClass(t.state))}}),Shiny.inputBindings.register(formGroupInputBinding,"dull.formGroupInput"),$(document).on("shiny:inputchanged",function(n){var t=$(n.el);if(t.parents(".dull-form[id]").length){var i=t.parents(".dull-form[id]").first();i.find('.dull-submit[type="submit"]').length||(n.preventDefault(),i.trigger("dull:formchange"))}else t.parents(".dull-form-group[id]").length&&(n.preventDefault(),t.parents(".dull-form-group[id]").first().trigger("dull:formchange"))});var formInputBinding=new Shiny.InputBinding;$.extend(formInputBinding,{find:function(n){return $(n).find(".dull-form[id]")},getValue:function(n){var t=$(n).find(".dull-input[id]");return t.length?t.map(function(n,t){var i=$(t).parentsUntil(".dull-form","[id]").map(function(n,t){return t.id}).get();return i.push(t.id),i.reverse(),i.reduce(function(n,t){var i={};return i[t]=n,i},$(t).val()||null)}).get().reduce(function(n,t){var i=Object.keys(t);if(n.hasOwnProperty(i)){var e={};return e[i]=Object.assign(n[i],t[i]),Object.assign(n,e)}return Object.assign(n,t)},{}):null},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("dull:formchange.formInputBinding",function(n){t()}),$(n).on("dull:formsubmit.formInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".formInputBinding")}}),Shiny.inputBindings.register(formInputBinding,"dull.formInput"),$(document).ready(function(){$(".dull-form[id]").on("submit",function(n){n.preventDefault(),$(this).trigger("dull:formsubmit")})});var groupInputBinding=new Shiny.InputBinding;$.extend(groupInputBinding,{find:function(n){return $(n).find(".dull-input-group[id]")},getValue:function(n){var t=$(n),i=t.find('input[type="text"]').val()||"";return i?{value:t.find(".input-group-addon:first-child").text()+i+t.find(".input-group-addon:last-child").text(),click:t.data("value")||null}:null},getState:function(n){return{value:this.getValue(n)}},subscribe:function(n,t){var i=$(n);i.find("button").length?i.on("dull:click.groupInputBinding",function(n,e){null!==e.value&&i.data("value",e.value),t()}):i.on("dull:textchange.groupInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".groupInputBinding")}}),Shiny.inputBindings.register(groupInputBinding,"dull.groupInput"),$(document).ready(function(){$('.dull-input-group[id] input[type="text"]').on("change",function(n){n.preventDefault(),$(this).trigger("dull:textchange")}),$(".dull-input-group[id] button:not(.dropdown-toggle)").on("click",function(n){n.preventDefault();var t=$(this);t.trigger("dull:click",{value:t.data("value")||null})}),$(".dull-input-group[id] .dull-dropdown-item").on("click",function(n){n.preventDefault();var t=$(this);t.trigger("dull:click",{value:t.data("value")||null})})}),$(document).ready(function(){$(".dull-list-group-input[id]").on("click",".list-group-item:not(.disabled)",function(n){n.preventDefault();var t=$(this);t.toggleClass("active"),t.trigger("change")})});var listGroupInputBinding=new Shiny.InputBinding;$.extend(listGroupInputBinding,{find:function(n){return $(n).find(".dull-list-group-input[id]")},getValue:function(n){var t=$(n).children(".list-group-item.active:not(:disabled)").map(function(n,t){return $(t).data("value")}).get();return void 0===t?null:t},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.listGroupInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".listGroupInputBinding")},receiveMessage:function(n,t){var i=$(n);if(void 0!==t.items&&(i.find(".list-group-item").remove(),0!==i.children().length?i.children().first().before(t.items):i.html(t.items)),void 0!==t.state){var e="valid"===t.state?null:"list-group-item-"+t.state;null!==t.filter?$.each(t.filter,function(n,t){i.find('.list-group-item[data-value="'+t+'"]').attr("class",function(n,t){return t.replace(/list-group-item-(success|info|warning|danger)/g,"")}).addClass(e)}):i.find(".list-group-item").attr("class",function(n,t){return t.replace(/list-group-item-(success|info|warning|danger)/g,"")}).addClass(e)}t.disable&&(!0===t.disable?i.find(".list-group-item").each(function(n,t){$(t).prop("disabled",!0)}):$.each(t.disable,function(n,t){i.find('.list-group-item[data-value="'+t+'"]').prop("disabled",!0)})),t.enable&&(!0===t.enable?i.find(".list-group-item").each(function(n,t){$(t).prop("disabled",!1)}):$.each(t.enable,function(n,t){i.find('.list-group-item[data-value="'+t+'"]').prop("disabled",!1)})),i.trigger("change")}}),Shiny.inputBindings.register(listGroupInputBinding,"dull.listGroupInput");var radioInputBinding=new Shiny.InputBinding;$.extend(radioInputBinding,{find:function(n){return $(n).find(".dull-radio-input[id]")},getValue:function(n){var t=$(n).find('input[type="radio"]:checked:not(:disabled)').data("value");return void 0===t?null:t},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.radioInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".radioInputBinding")},receiveMessage:function(n,t){var i=$(n);void 0!==t.choices&&(i.find(".custom-radio").remove(),i.find(".form-control-feedback").before(t.choices)),t.state&&(i.attr("class",function(n,t){return t.replace(/has-(success|warning|danger)/g,"")}),i.find(".form-control-feedback").empty(),"valid"!==t.state&&(i.addClass("has-"+t.state),t.hint&&i.find(".form-control-feedback").html(t.hint))),t.disable&&(!0===t.disable?i.find('input[type="radio"]').each(function(n,t){$(t).prop("disabled",!0)}):$.each(t.disable,function(n,t){i.find('input[type="radio"][data-value="'+t+'"]').prop("disabled",!0)})),t.enable&&(!0===t.enable?i.find('input[type="radio"]').each(function(n,t){$(t).prop("disabled",!1)}):$.each(t.enable,function(n,t){i.find('input[type="radio"][data-value="'+t+'"]').prop("disabled",!1)})),i.trigger("change")}}),Shiny.inputBindings.register(radioInputBinding,"dull.radioInput");var selectInputBinding=new Shiny.InputBinding;$.extend(selectInputBinding,{find:function(n){return $(n).find(".dull-select-input")},getValue:function(n){return $(n).find(":checked").map(function(n,t){var i=$(t).data("value");return void 0===i?null:i}).get()},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("change.selectInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".selectInputBinding")}}),Shiny.inputBindings.register(selectInputBinding,"dull.selectInput");var tableInputBinding=new Shiny.InputBinding;$.extend(tableInputBinding,{find:function(n){return $(n).find(".dull-table-thruput[id]")},getValue:function(n){return $(n).find("thead tr,.dull-row").get().map(function(n){return $(n).find("th:not([scope]),td").get().map(function(n){return $(n).html()})}).reduce(function(n,t,i){return n[i]=t,n},{})},getType:function(n){return"dull.table"},getState:function(n,t){return{value:this.getValue(n)}},subscribe:function(n,t){$(n).on("click.tableInputBinding",function(n){t()})},unsubscribe:function(n){$(n).off(".tableInputBinding")}}),Shiny.inputBindings.register(tableInputBinding,"dull.tableInput");var textualInputBinding=new Shiny.InputBinding;$.extend(textualInputBinding,{find:function(n){return $(n).find(".dull-textual[id]")},getValue:function(n){var t=$(n),i=t.val()||null;return null===i?null:"number"===t.attr("type")?parseInt(i,10):i},getState:function(n,t){return{value:this.getValue(n)}},getRatePolicy:function(){return{policy:"debounce",delay:250}},subscribe:function(n,t){$(n).on("change.textualInputBinding",function(n){t(!0)})},unsubscribe:function(n){$(n).off(".textualInputBinding")}}),Shiny.inputBindings.register(textualInputBinding,"dull.textualInput"),Shiny.addCustomMessageHandler("dull.modal.toggle",function(n){var t=$(n.id);if(0===t.length)return!1;t.modal("toggle")});var alertOutputBinding=new Shiny.OutputBinding;$.extend(alertOutputBinding,{find:function(n){return $(n).find(".dull-alert[id]")},getId:function(n){return n.id},renderValue:function(n,t){var i=$(n);t.show?i.removeClass("invisible").show():null!==t.show&&i.hide()}}),Shiny.outputBindings.register(alertOutputBinding,"dull.alertOutput");var badgeOutputBinding=new Shiny.OutputBinding;$.extend(badgeOutputBinding,{find:function(n){return $(n).find(".dull-badge[id]")},getId:function(n){return n.id},renderValue:function(n,t){var i=$(n);if(i.text(t.value),t.context){var e="badge-"+t.context;i.hasClass(e)||(this._removeContextClasses(n),i.addClass(e))}return!1},_removeContextClasses:function(n){$(n).attr("class",function(n,t){return t.replace(/badge-(default|primary|success|info|warning|danger)/g,"")})}}),Shiny.outputBindings.register(badgeOutputBinding,"dull.badgeOutput");var barOutputBinding=new Shiny.OutputBinding;$.extend(barOutputBinding,{find:function(n){return $(n).find(".dull-bar[id]")},getId:function(n){return n.id},renderValue:function(n,t){var i=$(n);null!==t.value&&i.attr("style","width: "+t.value+"%"),null!==t.label&&i.text(t.label)}}),Shiny.outputBindings.register(barOutputBinding,"dull.barOutput"),$.extend(Shiny.progressHandlers,{dull:function(n){return console.log(n.template),$(n.template).text(n.content).hide().appendTo($(n.id)).fadeIn(300),!1}});var tableOutputBinding=new Shiny.OutputBinding;$.extend(tableOutputBinding,{find:function(n){return $(n).find(".dull-table-thruput[id]")},getId:function(n){return n.id},renderValue:function(n,t){t.content&&$(n).html(t.content)}}),Shiny.outputBindings.register(tableOutputBinding,"dull.tableOutput"),$(document).ready(function(){$(".dull-table").delegate("tbody tr","click",function(n){var t=$(this),i=t.parents(".dull-table").first().data("context");t.toggleClass("table-"+i),t.toggleClass("dull-row")})});var tooltipBinding=new Shiny.OutputBinding;$.extend(tooltipBinding,{find:function(n){return null},getId:function(n){return null},renderValue:function(n,t){var i=$(n);if(t.remove)return i.removeAttr("data-toggle"),i.removeAttr("data-placement"),i.removeAttr("title"),!1;t.show}});