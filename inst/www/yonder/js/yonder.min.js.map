{"version":3,"file":"yonder.min.js","sources":["../../src/js/yonder-input-binding.js","../../src/js/input-binding-address.js","../../src/js/input-binding-alert.js","../../src/js/input-binding-button-group.js","../../src/js/input-binding-button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-date.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-group-input.js","../../src/js/input-binding-link.js","../../src/js/input-binding-login.js","../../src/js/input-binding-nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-tabs.js","../../src/js/input-binding-textual.js","../../src/js/output-binding-badge.js","../../src/js/output-binding-sparkline.js","../../src/js/output-binding-progress.js","../../src/js/thruput-binding-table.js","../../src/js/thruput-binding-list-group.js","../../src/js/modal.js","../../src/js/collapsible.js","../../src/js/yonder.js"],"sourcesContent":["export function yonderInputBinding() {\n  this.find = function(scope) {\n    return scope.querySelectorAll(`${ this.Selector.SELF }[id]`);\n  };\n\n  this.getId = function(el) {\n    return el.id;\n  };\n\n  this.getType = function(el) {\n    return this.Type ? this.Type : false;\n  };\n\n  // may not be worth it to have this method already created\n  this.getValue = function(el) {\n    if (!this.hasSelector(\"SELECTED\")) {\n      return null;\n    }\n\n    let values = $(el).find(`${ this.Selector.SELECTED }`)\n        .map((i, e) => {\n          let $e = $(e);\n\n          if ($e.is(\"[data-value]\")) {\n            return $e.data(\"value\");\n          }\n\n          if ($e.is(\"input\")) {\n            return $e.val();\n          }\n\n          return $e.text();\n        })\n        .get();\n\n    return values === undefined ? null : values;\n  };\n\n  this.subscribe = function(el, callback) {\n    if (this.isFormElement(el)) {\n      $(el).closest(\".yonder-form[id]\").on(\"submit\", e => callback());\n      return;\n    }\n\n    if (this.Events === undefined || !this.Events.length) {\n      return;\n    }\n\n    for (const event of (this.Events || [])) {\n      $(el).on(`${ event.type }.yonder`, (event.selector || null), (e) => {\n        if (event.callback) {\n          if (event.callback(el, event.selector && e.target || undefined, this) === false) {\n            return;\n          }\n        }\n        callback(event.debounce || false);\n      });\n    }\n  };\n\n  this.unsubscribe = function(el) {\n    $(el).off(\"yonder\");\n  };\n\n  this._invalidate = function(el, data) {\n    if (!this.hasSelector(\"VALIDATE\")) {\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-valid\");\n    input.classList.add(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = data.message;\n    }\n  };\n\n  this._validate = function(el, data) {\n    if (!this.hasSelector(\"VALIDATE\")) {\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = \"\";\n    }\n  };\n\n  this.receiveMessage = function(el, msg) {\n    if (!msg.type || msg.data === undefined) {\n      return false;\n    }\n\n    let [action, type = null] = msg.type.split(\":\");\n\n    if (action === \"update\") {\n      if (this._update === undefined) {\n        console.warn(\"_update method not defined\");\n        return false;\n      }\n\n      this._update(el, msg.data);\n\n      return true;\n    }\n\n    if (action === \"enable\")  {\n      if (this._enable === undefined) {\n        console.warn(\"_enable method not defined\");\n        return false;\n      }\n\n      this._enable(el, msg.data);\n\n      return true;\n    }\n\n    if (action === \"disable\") {\n      if (this._disable === undefined) {\n        console.warn(\"_disable method not defined\");\n        return false;\n      }\n\n      this._disable(el, msg.data);\n\n      return true;\n    }\n\n    if (action === \"invalidate\") {\n      if (this._invalidate === undefined) {\n        console.warn(\"_invalidate method not defined\");\n        return false;\n      }\n\n      this._invalidate(el, msg.data);\n\n      return true;\n    }\n\n    if (action === \"validate\") {\n      if (this._validate === undefined) {\n        console.warn(\"_validate method not defined\");\n        return false;\n      }\n\n      this._validate(el, msg.data);\n\n      return true;\n    }\n  };\n\n  this.hasSelector = function(key) {\n    return this.Selector !== undefined && this.Selector[key] !== undefined;\n  };\n\n  this.isFormElement = function(el) {\n    return $(el).parents(\".yonder-form[id]\").length > 0;\n  };\n}\n\nif (Shiny !== undefined) {\n  yonderInputBinding.call(Shiny.InputBinding.prototype);\n}\n","export const addressInputBinding = new Shiny.InputBinding();\n\n$.extend(addressInputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-address[id]\");\n  },\n  getValue: function(el) {\n    var $el = $(el);\n    var $inputs = $el.find(\"input\");\n    var names = [\"line1\", \"line2\", \"city\", \"state\", \"zip\"];\n\n    var values = $inputs.map((i, e) => $(e).val())\n      .get()\n      .reduce(function(acc, val, i) {\n        acc[names[i]] = val;\n        return acc;\n      }, {});\n\n    if (!Object.values(values).reduce((acc, obj) => acc || obj)) {\n      return null;\n    }\n\n    return values;\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  subscribe: function(el, callback) {\n    $(el).on(\"change.addressInputBinding\", function(e) {\n      callback();\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off(\".addressInputBinding\");\n  }\n});\n\nShiny.inputBindings.register(addressInputBinding, \"yonder.addressInput\");\n","export let alertInputBinding = new Shiny.InputBinding();\n\n$(() => {\n  $(document.body).append(\n    $(\"<div class='yonder-alert-container' id='alert-container'></div>\")\n  );\n});\n\n$.extend(alertInputBinding, {\n  Selector: {\n    SELF: \".yonder-alert-container\"\n  },\n  Alerts: [],\n  getValue: function(el) {\n    return null;\n  },\n  receiveMessage: function(el, msg) {\n    if (msg.type === undefined) {\n      return;\n    }\n\n    if (msg.type === \"show\") {\n      let data = msg.data;\n\n      let $alert = $(data.content);\n\n      if (data.action) {\n        $alert.append($(`<button class=\"btn btn-link alert-link alert-action\">${ data.action }</button>`));\n        $alert.on(\"click\", \".alert-action\", (e) => {\n          Shiny.onInputChange(data.action, true);\n        });\n      }\n\n      this.Alerts.push({ el: $alert, action: data.action });\n\n      $alert.appendTo($(this.Selector.SELF))\n        .velocity(\n          { top: 0, opacity: 1 },\n          { duration: 300, easing: \"easeOutCubic\", queue: false }\n        );\n\n      if (data.duration !== null) {\n        setTimeout(\n          () => {\n            if (this.Alerts.length === 0) {\n              return;\n            }\n\n            let item = this.Alerts.shift();\n\n            if (item.action) {\n              Shiny.onInputChange(item.action, null);\n            }\n\n            item.el.remove();\n          },\n          data.duration\n        );\n      }\n\n      return;\n    }\n\n    if (msg.type === \"close\") {\n      if (this.Alerts.length === 0) {\n        return;\n      }\n\n      let data = msg.data;\n\n      let indeces = typeof data.index === \"number\" ? [data.index] : data.index;\n      let text = typeof data.text === \"string\" ? [data.text] : data.text;\n\n      let selector = Object.entries(data.attrs)\n          .map(item => {\n            return `[${ item[0] }${ item[1] ? (item[0] === \"class\" ? \"*=\" : \"=\") + item[1] : \"\" }]`;\n          })\n          .join(\"\");\n\n      this.Alerts = this.Alerts.filter((alert, index) => {\n        let $el = $(alert.el);\n\n        if (indeces.includes(index) || text.includes($el.text()) || $el.is(selector)) {\n          if (alert.action) {\n            Shiny.onInputChange(alert.action, null);\n          }\n\n          $el.remove();\n\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(alertInputBinding, \"yonder.alertInput\");\n","export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  Selector: {\n    \"SELF\": \".yonder-button-group[id]\",\n    \"VALUE\": \".btn\"\n  },\n  Events: [\n    {\n      \"type\": \"click\",\n      \"selector\": \"button\",\n      \"callback\": (el, target, self) => self._VALUES[el.id] = target.getAttribute(\"data-value\")\n    }\n  ],\n  _VALUES: {},\n  getType: (el) => \"yonder.buttonGroup\",\n  getValue: function(el) {\n    return { \"force\": Date.now(), \"value\": this._VALUES[el.id] };\n  },\n  _update: (el, data) => {\n    let children = document.querySelectorAll(\".btn\"); // modularize?\n\n    if (!children.length) {\n      return false;\n    }\n\n    let choices, values;\n\n    if (data.choices === null) {\n      choices = children.forEach(child => child.innerHTML);\n    }\n\n    let template = children[0].cloneNode();\n\n    for (const child of children) {\n      el.removeChild(child);\n    }\n\n    for (const i in data.values) {\n      const [name, value] = data.values[i];\n\n      template.setAttribute(\"data-value\", value);\n      template.innerHTML = name;\n      el.appendChild(template.cloneNode(true));\n    }\n\n    return true;\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  Selector: {\n    SELF: \".yonder-button[id]\",\n    VALUE: \".btn\"\n  },\n  Events: [\n    {\n      \"type\": \"click\",\n      \"callback\": (el, _, self) => self._VALUES[el.id] += 1\n    }\n  ],\n  _VALUES: {},\n  initialize: function(el) {\n    this._VALUES[el.id] = 0;\n  },\n  getType: function(el) {\n    return \"yonder.button\";\n  },\n  getValue: function(el) {\n    return this._VALUES[el.id];\n  },\n  _update: function(el, data) {\n    if (data.values === undefined) {\n      return false;\n    }\n\n    if (data.choices.length) {\n      el.innerHTML = data.choices[0];\n    }\n\n    if (data.values.length) {\n      this._VALUES[el.id] = +(data.values[1]);\n    }\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbar[id]\",\n    VALUE: \".btn input\",\n    SELECTED: \".btn:not(.disabled) input:checked\"\n  },\n  Events: [\n    { type: \"change\", selector: \".btn\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    let buttons = el.querySelectorAll(\".btn\");\n\n    if (!buttons.length) {\n      return false;\n    }\n\n    let template = buttons[0].cloneNode(true);\n    template.classList.remove(\"active\");\n\n    for (const child of buttons) {\n      el.removeChild(child);\n    }\n\n    for (var i = data.choices.length - 1; i >= 0; i--) {\n      template.querySelector(\"span\").innerHTML = data.choices[i];\n\n      template\n        .querySelector(\"input\")\n        .setAttribute(\"data-value\", data.values[i]);\n\n      el.insertBefore(template.cloneNode(true), el.firstChild);\n    }\n\n    if (data.selected !== null) {\n      let selected = el.querySelector(`.btn:nth-child(${ data.selected })`);\n\n      if (selected !== null) {\n        selected.classList.add(\"active\");\n      }\n    }\n\n    return true;\n  },\n  _enable: function(el, data) {\n    let buttons = el.querySelectorAll(\".btn\");\n\n    for (const button of buttons) {\n      let value = button.querySelector(\"input\").getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        button.classList.remove(\"disabled\");\n        button.querySelector(\"input\").removeAttribute(\"disabled\");\n      }\n    }\n  },\n  _disable: function(el, data) {\n    let buttons = el.querySelectorAll(\".btn\");\n\n    for (const button of buttons) {\n      let value = button.querySelector(\"input\").getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        button.classList.add(\"disabled\");\n        button.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        button.classList.remove(\"disabled\");\n        button.querySelector(\"input\").removeAttribute(\"disabled\");\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbox[id]\",\n    VALUE: \".custom-control-input\",\n    LABEL: \".custom-control-label\",\n    SELECTED: \".custom-control-input:checked:not(:disabled)\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getValue: function(el) {\n    var $val = $(el)\n      .find(`${ this.Selector.SELECTED }`)\n      .data(\"value\");\n    return $val === undefined ? null : $val;\n  },\n  _getLabel: function(el) {\n    return $(el).find(`${ this.Selector.LABEL }`).text();\n  },\n  getState: function(el, data) {\n    return {\n      label: this._getLabel(el),\n      value: this.getValue(el)\n    };\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let dateInputBinding = new Shiny.InputBinding();\n\n$.extend(dateInputBinding, {\n  Selector: {\n    SELF: \".yonder-date[id]\"\n  },\n  Events: [\n    { type: \"dateinput:close\" }\n  ],\n  initialize: function(el) {\n    let data = $(el).data();\n    let config = {\n      onClose: (selected, str, inst) => $(el).trigger(\"dateinput:close\")\n    };\n\n    if (data.mode === \"multiple\" && data.altFormat === \"alt-format\") {\n      config.altFormat = \"M j, Y\";\n      config.conjunction = \"; \";\n    }\n\n    if (data.defaultDate && (data.mode === \"range\" || data.mode === \"multiple\")) {\n      config.defaultDate = data.defaultDate.split(\"\\\\,\");\n      el.removeAttribute(\"data-default-date\");\n    }\n\n    if (data.enable) {\n      config.enable = data.enable.split(\"\\\\,\");\n      el.removeAttribute(\"data-enable\");\n    }\n\n    flatpickr(el, config);\n  },\n  getType: () => \"yonder.date\",\n  getValue: (el) => el._flatpickr.selectedDates,\n  receiveMessage: function(el, msg) {\n    if (msg.type === null) {\n      return;\n    }\n\n    throw \"receiveMessage not implemented for date inputs\";\n  }\n});\n\nShiny.inputBindings.register(dateInputBinding, \"yonder.dateInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$(\".yonder-file\").on(\"click\", \".input-group-append\", function(e) {\n  $(e.delegateTarget).find(\"input[type='file']\").trigger(\"click\");\n});\n\n$.extend(fileInputBinding, {\n  Selector: {\n    SELF: \".yonder-file[id]\"\n  },\n  getValue: function(el) {\n    return null;\n  },\n  sendFile: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            let $input = $(el).find(\"input[type='file']\");\n            $input.val(\"\");\n            $input.text(\"Choose file\");\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  doUpload: function(el, files) {\n    if (!files) {\n      return;\n    }\n\n    let info = $.map(files, (f) => {\n      return {name: f.name, size: f.size, type: f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this.sendFile(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  },\n  subscribe: function(el, callback) {\n    let $input = $(el).find(\"input[type='file']\");\n\n    if (!$input.length) {\n      return;\n    }\n\n    let input = $input.get(0);\n\n    if ($(el).find(\".btn\").length) {\n      $(el).on(\"click.fileInputBinding\", \".btn\", (e) => {\n        this.doUpload(el, input.files);\n      });\n    } else {\n      $(el).on(\"change.fileInputBinding\", (e) => {\n        this.doUpload(el, input.files);\n      });\n    }\n\n    $(el).on(\"dragover.fileInputBinding\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    $(el).on(\"dragenter.fileInputBinding\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    $(el).on(\"drop.fileInputBinding\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (input.hasAttribute(\"multiple\")) {\n        this.doUpload(el, e.originalEvent.dataTransfer.files);\n      } else {\n        this.doUpload(el, e.originalEvent.dataTransfer.files[0]);\n      }\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off(\".fileInputBinding\");\n  }\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  Events: [\n    {\n      type: \"submit\",\n      callback: el => {\n        let submit = el.querySelector(\"button[data-type='submit']\");\n\n        if (submit === null) {\n          return;\n        }\n\n        submit.setAttribute(\"data-value\", +submit.getAttribute(\"data-value\") + 1);\n      }\n    }\n  ],\n  initialize: function(el) {\n    let submit = el.querySelector(\"button[data-type='submit']\");\n\n    if (submit === null) {\n      return;\n    }\n\n    submit.setAttribute(\"data-value\", 0);\n  },\n  find: function(scope) {\n    let $input = $(scope).find(\".yonder-form[id]\");\n\n    if (!$input.children(\"button[data-type='submit']\").length) {\n      return null;\n    }\n\n    return $input;\n  },\n  getValue: function(el) {\n    let submit = el.querySelector(\"button[data-type='submit']\");\n\n    if (submit === null) {\n      return;\n    }\n\n    return +submit.getAttribute(\"data-value\");\n  }\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let groupInputBinding = new Shiny.InputBinding();\n\n$.extend(groupInputBinding, {\n  Selector: {\n    SELF: \".yonder-group[id]\",\n    VALUE: \"input\",\n    SELECTED: \".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\",\n  },\n  Events: [\n    { type: \"input\", debounce: true },\n    { type: \"change\", debounce: true }\n  ],\n  getType: function(el) {\n    return \"yonder.group\";\n  },\n  getState: function(el) {\n    return { value: this.getValue(el) };\n  }\n});\n\nShiny.inputBindings.register(groupInputBinding, \"yonder.groupInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  Selector: {\n    SELF: \".yonder-link[id]\"\n  },\n  Events: [\n    {\n      \"type\": \"click\",\n      \"callback\": (el, _, self) => self._VALUES[el.id] += 1\n    }\n  ],\n  _VALUES: {},\n  initialize: function(el) {\n    this._VALUES[el.id] = 0;\n  },\n  getType: function(el) {\n    return \"yonder.link\";\n  },\n  getValue: function(el) {\n    return {\n      \"value\": this._VALUES[el.id],\n      \"id\": el.id\n    };\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","export let loginInputBinding = new Shiny.InputBinding();\n\n$.extend(loginInputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-login[id]\");\n  },\n  getValue: function(el) {\n    var values = $(el).find(\".form-control\").map((i, e) => $(e).val()).get();\n\n    if (!values[0] && !values[1]) {\n      return null;\n    }\n\n    return {\n      username: values[0],\n      password: values[1]\n    };\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  subscribe: function(el, callback) {\n    $(el).on(\"click.loginInputBinding\", \".btn\", function(e) {\n      callback();\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off(\".loginInputBinding\");\n  }\n});\n\nShiny.inputBindings.register(loginInputBinding, \"yonder.loginInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$(\".yonder-nav .nav-link\").on(\"click\", \".nav-link\", e => e.preventDefault());\n\n$.extend(navInputBinding, {\n  Selector: {\n    SELF: \".yonder-nav[id]\",\n    SELECTED: \".nav-link.active\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \".nav-link:not(.dropdown-toggle)\",\n      callback: (el, target) => {\n        el.querySelector(\".nav-link.active\").classList.remove(\"active\");\n        target.classList.add(\"active\");\n      }\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item\",\n      callback: (el, target) => {\n        let active = el.querySelectorAll(\".nav-link.active, .dropdown-item.active\");\n\n        for (const act of active) {\n          act.classList.remove(\"active\");\n        }\n\n        target.parentNode.parentNode.firstElementChild.classList.add(\"active\");\n        target.classList.add(\"active\");\n      }\n    }\n  ]\n});\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  let pane = document.getElementById(msg.data.target);\n\n  if (pane === null ||\n      !pane.parentElement.classList.contains(\"tab-content\")) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n","export let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  Selector: {\n    SELF: \".yonder-radio[id]\",\n    VALUE: \".custom-control-input\",\n    LABEL: \".custom-control-label\",\n    SELECTED: \".custom-control-input:checked:not(:disabled)\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    VALUE: \".btn input\",\n    LABEL: \".btn > span\",\n    SELECTED: \".btn input:checked\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  Selector: {\n    SELF: \".yonder-range[id]\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  initialize: (el) => {\n    let $el = $(el);\n    let $input = $el.find(\"input[type='text']\");\n\n    $input.ionRangeSlider();\n\n    let bgclasses = $el.attr(\"class\")\n        .split(/\\s+/)\n        .filter(c => /^bg-[a-z-]+$/.test(c))\n        .join(\" \");\n\n    if (bgclasses) {\n      $el.find(\".irs-slider,.irs-bar,.irs-bar-edge,.irs-to,.irs-from,.irs-single,.irs-slider\")\n        .addClass(bgclasses);\n      $el.removeClass(bgclasses);\n    }\n\n    if ($input.data(\"no-fill\")) {\n      $el.find(\".irs-bar,.irs-bar-edge\").addClass(\"no-fill\");\n    }\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  getValue: function(el) {\n    var $input = $(\"input[type='text']\", el);\n    var data = $input.data(\"ionRangeSlider\");\n\n    if ($input.data(\"type\") == \"double\") {\n      return [data.result.from, data.result.to];\n    } else if ($input.data(\"type\") == \"single\") {\n      if (data.result.from_value !== null) {\n        return data.result.from_value.replace(\"&#44;\", \",\");\n      } else {\n        return data.result.from;\n      }\n    }\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  receiveMessage: function(el, msg) {\n    console.error(\"receiveMessage: not implemented for range input\");\n    return;\n  },\n  dispose: function(el) {\n    var $input = $(\"input[type='text']\", el);\n\n    $input.data(\"ionRangeSlider\").destroy();\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  Selector: {\n    SELF: \".yonder-select[id]\",\n    VALUE: \"option\",\n    SELECTED: \"option:checked\",\n    VALIDATE: \"select\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    let select = el.querySelector(\"select\");\n    let options = select.querySelectorAll(\"option\");\n\n    if (!options.length) {\n      return false;\n    }\n\n    let template = options[0].cloneNode();\n    template.removeAttribute(\"selected\");\n    select.innerHTML = \"\";\n\n    for (var i = 0; i < data.choices.length; i++) {\n      template.innerHTML = data.choices[i];\n      template.value = data.values[i];\n\n      select.appendChild(template.cloneNode(true));\n    }\n\n    select\n      .querySelector(`option:nth-child(${ data.selected })`)\n      .setAttribute(\"selected\", \"\");\n\n    return true;\n  },\n  _enable: function(el, data) {\n    let options = el.querySelectorAll(\"option\");\n\n    for (const option of options) {\n      let value = option.getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        option.removeAttribute(\"disabled\");\n      }\n    }\n  },\n  _disable: function(el, data) {\n    let options = el.querySelectorAll(\"option\");\n\n    for (const option of options) {\n      let value = option.getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        option.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        option.removeAttribute(\"disabled\");\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n","export let tabsInputBinding = new Shiny.InputBinding();\n\n$.extend(tabsInputBinding, {\n  Selector: {\n    SELF: \".yonder-tabs[id]\",\n    SELECTED: \".nav-item > .active:not(.disabled)\"\n  },\n  Events: [\n    { type: \"shown.bs.tab\" }\n  ],\n  initialize: function(el) {\n    let id = el.id;\n    let $tabs = $(el).find(\".nav-link\");\n    let $panes = $(`.tab-content[data-tabs=\"${ id }\"] > .tab-pane`);\n    let active = $tabs.map((i, e) => e.classList.contains(\"active\")).get().indexOf(true);\n\n    if ($tabs.length === 0 || $panes.length === 0) {\n      throw \"tabs input: missing tabs or panes\";\n    }\n\n    if ($tabs.length != $panes.length) {\n      throw \"tabs input: incorrect number of tabs for panes\";\n    }\n\n    $panes.each((index, pane) => {\n      let $pane = $(pane);\n\n      $pane.attr({\n        \"id\": `${ id }-pane-${ index }`,\n        \"aria-labelledby\": `${ id }-tab-${ index }`\n      });\n\n      $pane.removeAttr(\"data-tabs\");\n\n      if (index === active) {\n        $pane.addClass(\"show active\");\n      }\n    });\n\n    $tabs.each((index, tab) => {\n      let $tab = $(tab);\n\n      $tab.attr({\n        \"id\": `${ id }-tab-${ index }`,\n        \"data-toggle\": \"tab\",\n        \"href\": `#${ id }-pane-${ index }`,\n        \"aria-controls\": `${ id }-pane-${ index }`\n      });\n    });\n  }\n});\n\nShiny.inputBindings.register(tabsInputBinding, \"yonder.tabsInput\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  Selector: {\n    SELF: \".yonder-textual[id]\",\n    VALIDATE: \"input\"\n  },\n  Events: [\n    { type: \"change\", debounce: true },\n    { type: \"input\", debounce: true }\n  ],\n  getValue: function(el) {\n    var $input = $(el).find(\"input\");\n    var val = $input.val() === undefined ? null : $input.val();\n\n    if (val === null) {\n      return null;\n    }\n\n    if ($input.attr(\"type\") === \"number\") {\n      return parseInt(val, 10);\n    }\n\n    return val;\n  },\n  getType: function(el) {\n    var $type = $(\"input\", el).attr(\"type\");\n\n    if ($type === \"date\") {\n      return \"yonder.date\";\n    } else if ($type === \"time\") {\n      return \"yonder.time\";\n    }\n\n    return false;\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  getRatePolicy: function() {\n    return {\n      policy: \"debounce\",\n      delay: 250\n    };\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n","export let badgeOutputBinding = new Shiny.OutputBinding();\n\n$.extend(badgeOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-badge[id]\");\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  renderValue: function(el, msg) {\n    if (msg.data !== undefined) {\n      el.innerHTML = msg.data;\n    }\n  },\n  renderError: function(el, data) {\n\n  },\n  clearError: function(el) {\n\n  }\n});\n\nShiny.outputBindings.register(badgeOutputBinding, \"yonder.badgeOutput\");\n","export let sparklineOutputBinding = new Shiny.OutputBinding();\n\n$.extend(sparklineOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-sparkline[id]\");\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  renderValue: function(el, msg) {\n    if (msg.data !== undefined) {\n      let labels = el.getAttribute(\"data-labels\");\n\n      if (labels) {\n        el.innerHTML = `${ msg.from }{${ msg.data.join(\",\") }}${ msg.to }`;\n      } else {\n        el.innerHTML = `{${ msg.data.join(\",\") }}`;\n      }\n    }\n  },\n  renderError: function(el, data) {\n\n  },\n  clearError: function(el) {\n\n  }\n});\n\nShiny.outputBindings.register(sparklineOutputBinding, \"yonder.sparklineOutput\");\n","$.extend(Shiny.progressHandlers, {\n  \"yonder-progress\": (msg) => {\n    if (!msg.type || !msg.data.outlet) {\n      return false;\n    }\n\n    let $outlet = $(`#${ msg.data.outlet }`);\n\n    if (msg.type === \"show\") {\n      let $bar = $(msg.data.content);\n\n      if ($bar[0].id && $outlet.find(`#${ $bar[0].id }`).length) {\n        $outlet.find(`#${ $bar[0].id }`).replaceWith($bar);\n      } else {\n        $outlet.append($bar);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n});\n","export let tableInputBinding = new Shiny.InputBinding();\n\n$.extend(tableInputBinding, {\n  Selector: {\n    SELF: \".yonder-table[id]\"\n  },\n  Type: \"yonder.table\",\n  Events: [\n    { type: \"chabudai:select\" },\n    { type: \"chabudai:edited\" }\n  ],\n  getValue: function(el) {\n    return JSON.stringify($(el).table(\"selected\"));\n  },\n  receiveMessage: function(el, msg) {\n    return;\n  }\n});\n\nexport let tableOutputBinding = new Shiny.OutputBinding();\n\n$.extend(tableOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-table[id]\");\n  },\n  renderValue: function(el, msg) {\n    if (msg.data) {\n      $(el).table({ \"data\": msg.data });\n    }\n  }\n});\n\nShiny.inputBindings.register(tableInputBinding, \"yonder.tableInput\");\nShiny.outputBindings.register(tableOutputBinding, \"yonder.tableOutput\");\n","// input\nexport let listGroupInputBinding = new Shiny.InputBinding();\n\n$(() => {\n  $(\".yonder-list-group[id]\").on(\"click\", \".list-group-item-action\", (e) => {\n    e.target.classList.toggle(\"active\");\n    return true;\n  });\n});\n\n$.extend(listGroupInputBinding, {\n  find: (scope) => $(scope).find(\".yonder-list-group[id]\"),\n\n  getId: (el) => el.id,\n\n  getValue: (el) => {\n    return $(el)\n      .children(\".list-group-item.active:not(.disabled)\")\n      .map((index, item) => $(item).data(\"value\"))\n      .get();\n  },\n\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n\n  subscribe: (el, callback) => {\n    $(el).on(\"change.listGroupInputBinding\", (e) => callback());\n  },\n\n  unsubscribe: (el) => $(el).off(\".listGroupInputBinding\")\n});\n\n// output\nexport let listGroupOutputBinding = new Shiny.OutputBinding();\n\n$.extend(listGroupOutputBinding, {\n  find: (scope) => $(scope).find(\".yonder-list-group[id]\"),\n\n  getId: (el) => el.id,\n\n  renderValue: (el, data) => {\n    if (!data.items) {\n      return;\n    }\n\n    let items = typeof data.items === \"object\" ? Object.values(data.items) : data.items;\n\n    Shiny.renderContent(el, items.join(\"\\n\"));\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\nShiny.outputBindings.register(listGroupOutputBinding, \"yonder.listGroupOutput\");\n","Shiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"close\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal === null) {\n      return false;\n    }\n\n    Shiny.unbindAll(modal);\n\n    $(modal).modal(\"hide\");\n\n    return true;\n  }\n\n  if (msg.type === \"show\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal !== null) {\n      modal.innerHTML = msg.data.content;\n    } else {\n      $(document.body).append(\n        $(`<div class=\"modal fade\" tabindex=-1 role=\"dialog\">${ msg.data.content }</div>`)\n      );\n      modal = document.body.querySelector(\".modal\");\n    }\n\n    if (msg.data.dependencies !== undefined) {\n      Shiny.renderDependencies(msg.data.dependencies);\n    }\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n\n    $(modal).modal(\"show\");\n\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","import \"./yonder-input-binding.js\";\n\nimport \"./input-binding-address.js\";\nimport \"./input-binding-alert.js\";\nimport \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-date.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-group-input.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-login.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-tabs.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./output-binding-badge.js\";\nimport \"./output-binding-sparkline.js\";\nimport \"./output-binding-progress.js\";\n\nimport \"./thruput-binding-table.js\";\nimport \"./thruput-binding-list-group.js\";\n\nimport \"./modal.js\";\nimport \"./collapsible.js\";\n\n$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n  $(\"[data-toggle=\\\"popover\\\"]\").popover();\n\n  $(document).on(\"shiny:connected\", function() {\n    $(\".yonder-submit[data-type=\\\"submit\\\"]\").attr(\"type\", \"submit\");\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n    if (msg.data.target === undefined) {\n      return;\n    }\n\n    if (msg.type == \"show\") {\n      let data = msg.data;\n      let target = `#${ data.target }`;\n\n      $(target).popover({\n        title: () => undefined,\n        content: () => undefined,\n        template: data.content,\n        placement: data.placement,\n        trigger: \"manual\"\n      });\n\n      if (data.duration) {\n        setTimeout(\n          () => $(target).popover(\"hide\"),\n          data.duration\n        );\n      }\n\n      $(target).popover(\"show\");\n\n      return;\n    }\n\n    if (msg.type == \"close\") {\n      $(`#${ msg.data.id }`).popover(\"hide\");\n\n      return;\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:download\", function(msg) {\n    if (!(msg.filename && msg.token && msg.key)) {\n      throw \"invalid download event\";\n    }\n\n    const uri = \"/session/\" + msg.token + \"/download/\" + msg.key;\n\n    let agent = window.navigator.userAgent;\n    let ie = ua.indexOf(\"MSIE \");\n\n    if (ie > 0) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", uri);\n      xhr.responseType = \"blob\";\n      xhr.onload = () => saveAs(xhr.response, msg.filename);\n      xhr.send();\n    } else {\n      fetch(uri)\n        .then(res => res.blob())\n        .then(blob => {\n          saveAs(blob, msg.filename);\n        });\n    }\n  });\n\n});\n"],"names":["undefined","Shiny","find","scope","querySelectorAll","this","Selector","SELF","getId","el","id","getType","Type","getValue","hasSelector","values","$","SELECTED","map","i","e","$e","is","data","val","text","get","subscribe","callback","isFormElement","closest","on","Events","length","event","type","selector","target","debounce","unsubscribe","off","_invalidate","input","querySelector","VALIDATE","classList","remove","add","feedback","innerHTML","message","_validate","receiveMessage","msg","action","split","_update","warn","_enable","_disable","key","parents","call","InputBinding","prototype","addressInputBinding","extend","$inputs","names","reduce","acc","Object","obj","value","inputBindings","register","alertInputBinding","document","body","append","$alert","content","onInputChange","Alerts","push","appendTo","velocity","top","opacity","duration","easing","queue","item","shift","indeces","index","entries","attrs","join","filter","alert","$el","includes","buttonGroupInputBinding","self","_VALUES","getAttribute","force","Date","now","choices","children","forEach","child","template","cloneNode","removeChild","name","setAttribute","appendChild","buttonInputBinding","_","checkbarInputBinding","buttons","insertBefore","firstChild","selected","button","indexOf","invert","removeAttribute","reset","checkboxInputBinding","$val","LABEL","_getLabel","dateInputBinding","config","str","inst","trigger","mode","altFormat","conjunction","defaultDate","enable","_flatpickr","selectedDates","fileInputBinding","delegateTarget","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","$input","err","error","send","files","info","f","size","jobId","uploadUrl","sendFile","doUpload","stopPropagation","preventDefault","hasAttribute","originalEvent","dataTransfer","formInputBinding","submit","groupInputBinding","linkInputBinding","loginInputBinding","navInputBinding","active","act","parentNode","firstElementChild","addCustomMessageHandler","pane","getElementById","parentElement","contains","previous","complete","hiddenEvent","Event","shownEvent","Tab","_activate","radioInputBinding","radiobarInputBinding","rangeInputBinding","ionRangeSlider","bgclasses","attr","c","test","addClass","removeClass","result","from","to","from_value","replace","destroy","selectInputBinding","select","options","option","tabsInputBinding","$tabs","$panes","each","$pane","removeAttr","tab","textualInputBinding","parseInt","$type","badgeOutputBinding","OutputBinding","outputBindings","sparklineOutputBinding","labels","progressHandlers","outlet","$outlet","$bar","replaceWith","tableInputBinding","JSON","stringify","table","tableOutputBinding","listGroupInputBinding","toggle","listGroupOutputBinding","items","renderContent","modal","unbindAll","dependencies","renderDependencies","initializeInputs","bindAll","collapse","tooltip","popover","placement","filename","token","window","navigator","userAgent","ua","responseType","onload","saveAs","response","then","blob"],"mappings":"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"}