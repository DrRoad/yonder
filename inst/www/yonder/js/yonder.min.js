!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";"undefined"!=typeof Shiny&&function(){this.Selector={},this.Events=[],this.find=function(e){return e.querySelectorAll(this.Selector.SELF+"[id]")},this.getId=function(e){return e.id},this.getType=function(e){return this.Type||!1},this.getValue=function(e){if(!this.Selector.hasOwnProperty("SELECTED"))return null;var n=Array.prototype.slice.call(e.querySelectorAll(this.Selector.SELECTED));return n.length?n.map(function(e){var n=e.getAttribute("data-value")||e.value;return void 0===n?null:n}):null},this.getState=function(e,n){return{value:this.getValue(e)}},this.attachHandler=function(n,e,t,i,r,o){var l=this;$(n).on(e+".yonder",t||null,function(e){i&&i(n,e,l),r&&r(o||!1)})},this.subscribe=function(n,t){var i=this,e=$(n),r=!1;e.parent().closest(".yonder-form[id]").length&&(e.on("submission.yonder",function(e){return t()}),r=!0),this.Events.push({type:"change.yonder"}),this.Events.push({type:"update.yonder"}),this.Events.forEach(function(e){i.attachHandler(n,e.type,e.selector,e.callback,r?null:t,e.debounce)})},this.unsubscribe=function(e){$(e).off("yonder")},this._update=function(e,n){console.warn("no _update method")},this._enable=function(e,n){console.warn("no _enable method")},this._disable=function(e,n){console.warn("no _disable method")},this._invalidate=function(e,n){if(this.Selector.hasOwnProperty("VALIDATE")){var t=e.querySelector(this.Selector.VALIDATE);t.classList.remove("is-valid"),t.classList.add("is-invalid");var i=e.querySelector(".invalid-feedback");null!==i&&(i.innerHTML=n.message)}else console.warn("input does not support invalidation")},this._validate=function(e,n){if(this.Selector.hasOwnProperty("VALIDATE")){e.querySelector(this.Selector.VALIDATE).classList.remove("is-invalid");var t=e.querySelector(".invalid-feedback");null!==t&&(t.innerHTML="")}else console.warn("input does not support validation")},this.receiveMessage=function(e,n){if(!n.type||void 0===n.data)return!1;switch(n.type){case"update":this._update(e,n.data);break;case"change":this._select(e,n.data);break;case"enable":this._enable(e,n.data);break;case"disable":this._disable(e,n.data);break;case"invalidate":this._invalidate(e,n.data);break;case"validate":this._validate(e,n.data)}return"change"===n.type&&!1===n.data.propagate||$(e).trigger(n.type+".yonder"),!1}}.call(Shiny.InputBinding.prototype);var e=new Shiny.InputBinding;$.extend(e,{Selector:{SELF:".yonder-button-group"},Events:[{type:"click",selector:"button",callback:function(e,n,t){t._VALUES[e.id]=n.currentTarget.value}}],_VALUES:{},getType:function(e){return"yonder.buttonGroup"},initialize:function(e){this._VALUES[e.id]=null},getValue:function(e){return{force:Date.now(),value:this._VALUES[e.id]}},_update:function(i,r){var o=i.querySelector("button").cloneNode();o.removeAttribute("disabled"),i.innerHTML="",r.choices.forEach(function(e,n){var t=o.cloneNode();t.innerHTML=e,t.value=r.values[n],i.appendChild(t)})},_enable:function(e,n){var t=n.values;e.querySelectorAll("button").forEach(function(e){(!t.length||-1<t.indexOf(e.value))!==n.invert&&e.removeAttribute("disabled")})},_disable:function(e,t){var i=t.values;e.querySelectorAll("button").forEach(function(e){var n=!i.length||-1<i.indexOf(e.value);t.reset&&e.removeAttribute("disabled"),n!==t.invert&&e.setAttribute("disabled","")})}}),Shiny.inputBindings.register(e,"yonder.buttonGroupInput");var n=new Shiny.InputBinding;$.extend(n,{find:function(e){return e.querySelectorAll(".yonder-button[id]")},initialize:function(n){$(n).on("click",function(e){return n.value=+n.value+1}),n.value=0},getValue:function(e){return 0<+e.value?+e.value:null},subscribe:function(e,n){var t=$(e);t.on("click.yonder",function(e){return n()}),t.on("button.value.yonder",function(e){return n()})},unsubscribe:function(e,n){return $(e).off(".yonder")},receiveMessage:function(e,n){n.content&&(e.innerHTML=n.content),null!==n.value&&void 0!==n.value&&(e.value=n.value,$(e).trigger("button.value")),n.enable&&(e.classList.remove("disabled"),e.removeAttribute("disabled")),n.disable&&(e.classList.add("disabled"),e.setAttribute("disabled",""))}}),Shiny.inputBindings.register(n,"yonder.buttonInput");var t=new Shiny.InputBinding;$.extend(t,{find:function(e){return e.querySelectorAll(".yonder-checkbar[id]")},getValue:function(e){var n=e.querySelectorAll("input:checked:not(:disabled)");return 0===n.length?null:Array.prototype.map.call(n,function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("click.yonder",function(e){return n()}),t.on("change.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,e){if(e.content&&(n.querySelectorAll(".btn").forEach(function(e){n.removeChild(e)}),n.insertAdjacentHTML("afterbegin",e.content)),e.enable){var t=e.enable;!0===t?n.querySelectorAll(".btn").forEach(function(e){e.classList.remove("disabled"),e.children[0].removeAttribute("disabled")}):n.querySelectorAll(".btn").forEach(function(e){-1<t.indexOf(e.value)&&(e.classList.remove("disabled"),e.children[0].removeAttribute("disabled"))})}if(e.disable){var i=e.disable;!0===i?n.querySelectorAll(".btn").forEach(function(e){e.classList.add("disabled"),e.children[0].setAttribute("disabled","")}):n.querySelectorAll(".btn").forEach(function(e){-1<i.indexOf(e.value)&&(e.classList.add("disabled"),e.children[0].setAttribute("disabled",""))})}}}),Shiny.inputBindings.register(t,"yonder.checkbarInput");var i=new Shiny.InputBinding;$.extend(i,{find:function(e){return e.querySelectorAll(".yonder-checkbox[id]")},getValue:function(e){var n=e.querySelectorAll("input:checked:not(:disabled)");return 0===n.length?null:Array.prototype.map.call(n,function(e){return e.value})},subscribe:function(e,n){$(e).on("change.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,t){if(t.content&&(n.querySelectorAll(".custom-checkbox").forEach(function(e){n.removeChild(e)}),n.insertAdjacentHTML("afterbegin",t.content)),t.selected&&n.querySelectorAll("input").forEach(function(e){(!0===t.selected||-1<t.selected.indexOf(e.value))&&(e.checked=!0)}),t.enable){var i=t.enable;!0===i?n.querySelectorAll("input").forEach(function(e){e.removeAttribute("disabled")}):n.querySelectorAll("input").forEach(function(e){-1<i.indexOf(e.value)&&e.removeAttribute("disabled")})}if(t.disable){var r=t.disable;!0===r?n.querySelectorAll("input").forEach(function(e){e.setAttribute("disabled","")}):n.querySelectorAll("input").forEach(function(e){-1<r.indexOf(e.value)&&e.setAttribute("disabled","")})}t.valid&&(n.querySelector(".invalid-feedback").innerHTML="",n.querySelector(".valid-feedback").innerHTML=t.valid,n.querySelectorAll("input").forEach(function(e){e.classList.remove("is-invalid"),e.classList.add("is-valid")})),t.invalid&&(n.querySelector(".valid-feedback").innerHTML="",n.querySelector(".inavlid-feedback").innerHTML=t.invalid,n.querySelectorAll("input").forEach(function(e){e.classList.remove("is-valid"),e.classList.add("is-invalid")})),t.valid||t.invalid||(n.querySelector(".valid-feedback").innerHTML="",n.querySelector(".invalid-feedback").innerHTML="",n.querySelectorAll("input").forEach(function(e){e.classList.remove("is-valid"),e.classList.remove("is-invalid")}))}}),Shiny.inputBindings.register(i,"yonder.checkboxInput");var o=new Shiny.InputBinding;$.extend(o,{selectorActive:".active",selectorToggle:"input[data-toggle='dropdown']",find:function(e){return e.querySelectorAll(".yonder-chip[id]")},initialize:function(t){var e=$(t),i=$(t.querySelector(o.selectorToggle));e.on("input",function(e){var n=i[0].value;o._filter(t,n),0===o._visible(t).length?i.dropdown("hide"):i.dropdown("show")}),e.on("input change",function(e){i.dropdown("update")}),e.on("hide.bs.dropdown",function(e){null===t.querySelector("input:focus")&&(t.querySelector("input").value="",o._filter(t,""))}),e.on("click",".dropdown-item",function(e){e.stopPropagation(),o._add(t,e.currentTarget.value),i[0].focus()}),e.on("click",".chip",function(e){o._remove(t,e.currentTarget.value)});var n=+t.getAttribute("data-max");-1!==n&&o._selected(t).length>=n&&o._disable(t)},getValue:function(e){var n=e.querySelectorAll(".active");return 0===n.length?null:Array.prototype.map.call(n,function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("click.yonder",".dropdown-item,.chip",function(e){return n()}),t.on("chip.select.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,e){var t=$(n);if(e.items&&e.chips&&(n.querySelector(".dropdown-menu").innerHTML=e.items,n.querySelector(".chips").innerHTML=e.chips),e.selected&&(!0===e.selected?n.querySelectorAll(".dropdown-item").forEach(function(e){o._add(n,e.value)}):(e.selected.reverse(),o._selected(n).forEach(function(e){o._remove(n,e.value)}),e.selected.forEach(function(e){o._add(n,e)})),t.trigger("chip.select")),void 0!==e.max&&null!==e.max&&n.setAttribute("data-max",e.max),e.enable){var i=e.enable;!0===i?o._enable(n):n.querySelectorAll(".dropdown-item,.chip").forEach(function(e){-1<i.indexOf(e.value)&&(e.removeAttribute("disabled"),e.classList.remove("disabled"))})}if(e.disable){var r=e.disable;!0===r?o._disable(n):n.querySelectorAll(".dropdown-item,.chip").forEach(function(e){-1<r.indexOf(e.value)&&(e.setAttribute("disabled",""),e.classList.add("disabled"))})}},_visible:function(e){return e.querySelectorAll(":not(.selected),:not(.filtered)")},_selected:function(e){return e.querySelectorAll(".selected")},_items:function(e,n){return Array.prototype.filter.call(e.querySelectorAll(".dropdown-item"),function(e){return e.value===n})},_chips:function(e,n){return Array.prototype.filter.call(e.querySelectorAll(".chip"),function(e){return e.value===n})},_enable:function(e){var n=e.querySelector("input");n.removeAttribute("disabled"),n.classList.remove("disabled")},_disable:function(e){var n=e.querySelector("input");n.setAttribute("disabled",""),n.classList.add("disabled")},_filter:function(e,n){n=n.toLowerCase(),e.querySelectorAll(".dropdown-item").forEach(function(e){-1!==e.innerText.toLowerCase().indexOf(n)?e.classList.remove("filtered"):e.classList.add("filtered")})},_add:function(e,n){var t=$(e.querySelector(o.selectorToggle));o._items(e,n).forEach(function(e){e.classList.add("selected")});var i=e.querySelector(".chips");o._chips(e,n).forEach(function(e){i.insertBefore(i.removeChild(e),i.firstChild),e.classList.add("active")}),0===o._visible(e).length&&t.dropdown("hide");var r=+e.getAttribute("data-max");-1===r||o._selected(e).length<r?t.dropdown("update"):(t.dropdown("hide"),o._disable(e))},_remove:function(e,n){var t=+e.getAttribute("data-max");o._chips(e,n).forEach(function(e){e.classList.remove("active")}),o._items(e,n).forEach(function(e){e.classList.remove("selected")}),(-1===t||o._selected(e).length<t)&&o._enable(e)}}),Shiny.inputBindings.register(o,"yonder.chipInput");var r=new Shiny.InputBinding;$.extend(r,{find:function(e){return e.querySelectorAll(".yonder-file[id]")},initialize:function(n){var e=$(n);e.on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),e.on("dragcenter",function(e){e.stopPropagation(),e.preventDefault()}),e.on("drop",function(e){e.stopPropagation(),e.preventDefault(),r._upload(n,e.originalEvent.dataTransfer.files)}),e.on("change",function(e){r._upload(n)})},getValue:function(e){return null},receiveMessage:function(e,n){var t=e.querySelector("input");n.enable&&t.removeAttribute("disabled"),n.disable&&t.setAttribute("disabled",""),n.valid&&(e.querySelector(".valid-feedback").innerHTML=n.valid,t.classList.add("is-valid")),n.invalid&&(e.querySelector(".invalid-feedback").innerHTML=n.invalid,t.classList.remove("is-invalid")),n.valid||n.invalid||(e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".invalid-feedback").innerHTML="",t.classList.remove("is-valid"),t.classList.remove("is-invalid"))},_post:function(e,n,t,i,r){var o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/octet-stream"),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&200==o.status&&i&&Shiny.shinyapp.makeRequest("uploadEnd",[n,r.id],function(e){r.querySelector("input[type='file']").value=""},function(e){console.error("uploadEnd request failed for "+r.id+": "+e)})},o.send(t)},_upload:function(r,o){var l=this,e=r.querySelector("input[type='file']");if(void 0===o&&(o=e.files),o){var n=(o=e.hasAttribute("multiple")?Array.prototype.slice.call(o):Array.prototype.slice.call(o,0,1)).map(function(e){return{name:e.name,size:e.size,type:e.type}});Shiny.shinyapp.makeRequest("uploadInit",[n],function(e){for(var n=e.jobId,t=e.uploadUrl,i=0;i<o.length;i++)l._post(t,n,o[i],i===o.length-1,r)},function(e){console.error("uploadInit request failed for "+r.id+": "+e)})}}}),document.addEventListener("DOMContentLoaded",function(){bsCustomFileInput.init(".yonder-file[id] input[type='file']")}),Shiny.inputBindings.register(r,"yonder.fileInput");var l=new Shiny.InputBinding;$.extend(l,{Events:[{type:"click",selector:".yonder-submit",callback:function(e,n,t){t._VALUES[e.id]=n.currentTarget.value,$(e.querySelectorAll(".shiny-bound-input")).trigger("submission.yonder")}}],Type:"yonder.form",_VALUES:{},find:function(e){return Array.prototype.slice.call(e.querySelectorAll(".yonder-form[id]")).filter(function(e){return null!==e.querySelector(".yonder-submit")})},initialize:function(e){this._VALUES[e.id]=null},getValue:function(e){return{force:Date.now(),value:this._VALUES[e.id]}},_value:function(){return null},_choice:function(){return null},_select:function(){return null},_clear:function(){return null},_enable:function(){return null},_disable:function(){return null}}),Shiny.inputBindings.register(l,"yonder.formInput");var a=new Shiny.InputBinding;$.extend(a,{find:function(e){return e.querySelectorAll(".yonder-link[id]")},initialize:function(n){$(n).on("click",function(e){return n.value=+n.value+1}),n.value=0},getValue:function(e){return 0<+e.value?+e.value:null},subscribe:function(e,n){$(e).on("click.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,n){n.content&&(e.innerHTML=n.content),n.enable&&(e.classList.remove("disabled"),e.removeAttribute("disabled")),n.disable&&(e.classList.add("disabled"),e.setAttribute("disabled",""))}}),Shiny.inputBindings.register(a,"yonder.linkInput");var u=new Shiny.InputBinding;$.extend(u,{find:function(e){return e.querySelectorAll(".yonder-list-group[id]")},initialize:function(n){var e=$(n);e.on("click",".list-group-item-action:not(.active):not(.disabled)",function(e){n.querySelectorAll(".active").forEach(function(e){e.classList.remove("active")}),e.currentTarget.classList.add("active")}),e.on("click",".list-group-item-action.active:not(.disabled)",function(e){e.currentTarget.classList.remove("active")})},getValue:function(e){var n=e.querySelectorAll(".list-group-item-action.active:not(.disabled)");return 0===n.length?null:Array.prototype.slice.call(n).map(function(e){return e.value})},subscribe:function(e,n){$(e).on("click.yonder",function(e){return n()})},unsubcribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,e){if(e.content&&n.querySelectorAll(".list-group-item").forEach(function(e){n.removeChild(e)}),e.enable){var t=e.enable;!0===t?n.querySelectorAll(".list-group-item").forEach(function(e){e.classList.remove("disabled")}):n.querySelectorAll(".list-group-item").forEach(function(e){-1<t.indexOf(e.value)&&e.classList.remove("disabled")})}if(e.disable){var i=e.disable;!0===i?n.querySelectorAll(".list-group-item").forEach(function(e){e.classList.add("disabled")}):n.querySelectorAll(".list-group-item").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.add("disabled")})}}}),Shiny.inputBindings.register(u,"yonder.listGroupInput");var d=new Shiny.InputBinding;$.extend(d,{find:function(e){return e.querySelectorAll(".yonder-menu[id]")},initialize:function(t){var e=$(t);e.on("click",".dropdown-item:not(.disabled)",function(e){var n=t.querySelector(".dropdown-item.active");null!==n&&n.classList.remove("active"),e.currentTarget.classList.add("active")}),e.on("nav.reset",function(e){var n=t.querySelector(".dropdown-item.active");null!==n&&n.classList.remove("active")})},getValue:function(e){var n=e.querySelector(".dropdown-item.active:not(.disabled)");return null===n?null:n.value},subscribe:function(e,n){$(e).on("click.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,n){if(n.content&&(e.querySelector(".dropdown-menu").innerHTML=n.content),n.enable){var t=n.enable;!0===t?e.querySelector(".dropdown-toggle").classList.remove("disabled"):e.querySelectorAll(".dropdown-item").forEach(function(e){-1<t.indexOf(e.value)&&e.classList.remove("disabled")})}if(n.disable){var i=n.disable;!0===i?e.querySelector(".dropdown-toggle").classList.add("disabled"):e.querySelectorAll(".dropdown-item").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.add("disabled")})}}}),Shiny.inputBindings.register(d,"yonder.menuInput");var c=new Shiny.InputBinding;$.extend(c,{find:function(e){return e.querySelectorAll(".yonder-nav[id]")},initialize:function(t){var e=$(t);e.on("click",".nav-link:not(.dropdown-toggle):not(.disabled)",function(e){var n=t.querySelector(".dropdown-item.active");null!==n&&$(n.parentNode.parentNode).trigger("nav.reset"),t.querySelectorAll(".active").forEach(function(e){return e.classList.remove("active")}),e.currentTarget.classList.add("active")}),e.on("click",".dropdown-item:not(.disabled)",function(e){t.querySelectorAll(".active").forEach(function(e){return e.classList.remove("active")}),e.currentTarget.parentNode.parentNode.children[0].classList.add("active"),e.currentTarget.classList.add("active")})},getValue:function(e){var n=e.querySelector(".nav-link.active:not(.disabled)");return null===n?null:n.value},subscribe:function(e,n){var t=$(e);t.on("click.yonder",".dropdown-item",function(e){return n()}),t.on("click.yonder",".nav-link:not(.dropdown-toggle)",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,e){if(e.content&&(n.querySelectorAll(".nav-item").forEach(function(e){return n.removeChild(e)}),n.insertAdjacentHTML("afterbegin",e.content)),e.enable){var t=e.enable;!0===t?n.querySelectorAll(".nav-link").forEach(function(e){e.classList.remove("disabled")}):n.querySelectorAll(".nav-link").forEach(function(e){-1<t.indexOf(e.value)&&e.classList.remove("disabled")})}if(e.disable){var i=e.disable;!0===i?n.querySelectorAll(".nav-link").forEach(function(e){e.classList.add("disabled")}):n.querySelectorAll(".nav-link").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.add("disabled")})}}}),Shiny.inputBindings.register(c,"yonder.navInput"),Shiny.addCustomMessageHandler("yonder:pane",function(e){if(void 0!==e.type&&void 0!==e.data&&void 0!==e.data.target){var n=document.getElementById(e.data.target);null!==n&&("show"===e.type?function(t){if(null!==t&&t.parentElement.classList.contains("tab-content")){var i=t.parentElement.querySelector(".active");bootstrap.Tab.prototype._activate(t,t.parentElement,function(){var e=$.Event("hidden.bs.tab",{relatedTarget:t}),n=$.Event("shown.bs.tab",{relatedTarget:i});$(i).trigger(e),$(t).trigger(n)})}}(n):"hide"===e.type&&function(n){if(null!==n&&n.parentElement.classList.contains("tab-content")&&n.classList.contains("active")){var e=document.createElement("div");bootstrap.Tab.prototype._activate(e,n.parentElement,function(){var e=$.Event("hidden.bs.tab",{relatedTarget:n});$(n).trigger(e)})}}(n))}});var s=new Shiny.InputBinding;$.extend(s,{find:function(e){return e.querySelectorAll(".yonder-radio[id]")},getValue:function(e){var n=e.querySelectorAll(".custom-radio > input:checked:not(:disabled)");return 0===n.length?null:Array.prototype.slice.call(n).map(function(e){return e.value})},subscribe:function(e,n){$(e).on("change.yonder",function(e){return n()})},unsubscribe:function(e){$(e).off(".yonder")},receiveMessage:function(n,e){if(e.content&&(n.querySelectorAll(".custom-radio").forEach(function(e){n.removeChild(e)}),n.insertAdjacentHTML("afterbegin",e.content)),e.enable){var t=e.enable;!0===t?n.querySelectorAll(".custom-radio > input").forEach(function(e){e.removeAttribute("disabled")}):n.querySelectorAll(".custom-radio > input").forEach(function(e){-1<t.indexOf(e.value)&&e.removeAttribute("disabled")})}if(e.disable){var i=e.disable;!0===i?n.querySelectorAll(".custom-radio > input").forEach(function(e){e.setAttribute("disabled","")}):n.querySelectorAll(".custom-radio > input").forEach(function(e){-1<i.indexOf(e.value)&&e.setAttribute("disabled","")})}e.valid&&(n.querySelector(".valid-feedback").innerHTML=e.valid,n.querySelectorAll(".custom-control-input").forEach(function(e){e.classList.add("is-valid")})),e.invalid&&(n.querySelector(".invalid-feedback").innerHTML=e.invalid,n.querySelectorAll(".custom-control-input").forEach(function(e){e.classList.add("is-invalid")})),e.valid||e.invalid||(n.querySelector(".valid-feedback").innerHTML="",n.querySelector(".invalid-feedback").innerHTML="",n.querySelectorAll(".custom-control-input").forEach(function(e){e.classList.remove("is-valid"),e.classList.remove("is-invalid")}))}}),Shiny.inputBindings.register(s,"yonder.radioInput");var f=new Shiny.InputBinding;$.extend(f,{Selector:{SELF:".yonder-radiobar[id]",SELECTED:"input:checked:not(:disabled)"},Events:[{type:"click"},{type:"change"}],find:function(e){return e.querySelectorAll(".yonder-radiobar[id]")},getValue:function(e){var n=e.querySelectorAll("input:checked:not(:disabled)");return 0===n.length?null:Array.prototype.slice.call(n).map(function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("click.yonder",function(e){return n()}),t.on("change.yonder",function(e){return n()})},unsubscribe:function(e){$(e).off(".yonder")},receiveMessage:function(e,n){if(n.content&&(e.innerHTML=n.content),n.enable){var t=n.enable;!0===t?e.querySelectorAll(".btn").forEach(function(e){e.classList.remove("disabled"),e.children[0].removeAttribute("disabled")}):e.querySelectorAll("input").forEach(function(e){-1<t.indexOf(e.value)&&(e.parentNode.classList.remove("disabled"),e.removeAttribute("disabled"))})}if(n.disable){var i=n.disable;!0===i?e.querySelectorAll(".btn").forEach(function(e){e.classList.add("disabled"),e.children[0].setAttribute("disabled","")}):e.querySelectorAll("input").forEach(function(e){-1<i.indexOf(e.value)&&(e.parentNode.classList.add("disabled"),e.setAttribute("disabled",""))})}}}),Shiny.inputBindings.register(f,"yonder.radiobarInput");var v=new Shiny.InputBinding;$.extend(v,{Selector:{SELF:".yonder-range[id]"},Events:[{type:"change"}],initialize:function(e){$(e.querySelector("input")).ionRangeSlider()},getId:function(e){return e.id},getValue:function(e){var n=$("input[type='text']",e),t=n.data("ionRangeSlider");return"double"===n.data("type")?[t.result.from,t.result.to]:"single"===n.data("type")?null!==t.result.from_value?t.result.from_value.replace("&#44;",","):t.result.from:null},getState:function(e,n){return{value:this.getValue(e)}},_update:function(e,n){$(e.querySelector(".irs-hidden-input")).data("ionRangeSlider").update({values:n.values})},_select:function(e,n){$(e.querySelector(".irs-hidden-input")).data("ionRangeSlider")},dispose:function(e){$(e.querySelector(".irs-hidden-input")).data("ionRangeSlider").destroy()}}),Shiny.inputBindings.register(v,"yonder.rangeInput");var p=new Shiny.InputBinding;$.extend(p,{find:function(e){return e.querySelectorAll(".yonder-select[id]")},initialize:function(t){var i=$(t);i.on("click",".dropdown-item",function(e){i[0].querySelector("input").placeholder=e.currentTarget.innerText;var n=i[0].querySelector(".active");n&&n.classList.remove("active"),e.currentTarget.classList.add("active")});var r=$(t.querySelector("input"));i.on("input change","input",function(e){var n=r[0].value.toLowerCase();t.querySelectorAll(".dropdown-item").forEach(function(e){-1===e.innerText.toLowerCase().indexOf(n)?e.classList.add("filtered"):e.classList.remove("filtered")}),r.dropdown("update")}),i.on("hide.bs.dropdown",function(e){r[0].value="",t.querySelectorAll(".filtered").forEach(function(e){e.classList.remove("filtered")})})},getValue:function(e){var n=e.querySelectorAll(".dropdown-item.active:not(.disabled");return 0===n.length?null:Array.prototype.slice.call(n).map(function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("click.yonder",".dropdown-item",function(e){return n()}),t.on("select.select.yonder",function(e){return n()})},unsubscribe:function(e){$(e).off(".yonder")},receiveMessage:function(n,t){if(t.content&&(n.querySelector(".dropdown-menu").innerHTML=t.content),t.selected&&(n.querySelectorAll(".dropdown-item").forEach(function(e){!0===t.selected||-1<t.selected.indexOf(e.value)?(e.classList.add("active"),n.querySelector("input").placeholder=e.innerText):e.classList.remove("active")}),$(n).trigger("select.select.yonder")),t.enable){var i=t.enable;!0===i?n.querySelector("input").removeAttribute("disabled"):n.querySelectorAll(".dropdown-item").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.remove("disabled")})}if(t.disable){var r=t.disable;!0===r?n.querySelector("input").setAttribute("disabled",""):n.querySelectorAll(".dropdown-item").forEach(function(e){-1<r.indexOf(e.value)&&e.classList.add("disabled")})}if(t.valid&&(n.querySelector("input").classList.add("is-valid"),n.querySelector(".valid-feedback").innerHTML=t.valid),t.invalid&&(n.querySelector("input").classList.add("is-invalid"),n.querySelector(".invalid-feedback").innerHTML=t.invalid),!t.valid&&!t.invalid){var e=n.querySelector("input");e.classList.remove("is-valid"),e.classList.remove("is-invalid"),n.querySelector(".valid-feedback").innerHTML="",n.querySelector(".invalid-feedback").innerHTML=""}}}),Shiny.inputBindings.register(p,"yonder.selectInput");var y=new Shiny.InputBinding;$.extend(y,{find:function(e){return e.querySelectorAll(".yonder-group-select[id]")},getValue:function(e){var n=e.querySelectorAll(".input-group-prepend .input-group-text, input, .input-group-append .input-group-text");return Array.prototype.slice.call(n).map(function(e){return/^(DIV|SPAN)$/.test(e.tagName)?e.innerText:e.value||null}).filter(function(e){return null!==e})},getType:function(){return"yonder.group"},subscribe:function(e,n){var t=$(e);0<e.querySelectorAll(".btn").length?(t.on("click",".dropdown-item",function(e){return n()}),t.on("click",".btn:not(.dropdown-toggle",function(e){return n()})):t.on("change",function(e){return n()})},receiveMessage:function(e,n){var t=e.querySelector("select");(n.content&&(t.innerHTML=n.content),n.enable)&&(!0===n.enable?t.removeAttribute("disabled"):t.querySelectorAll("option").forEach(function(e){e.removeAttribute("disabled")}));n.disable&&(n.disable?t.setAttribute("disabled",""):t.querySelectorAll("option").forEach(function(e){e.setAttribute("disabled","")}));n.valid&&(e.querySelector("valid-feedback").innerHTML=n.valid,t.classList.remove("is-invalid"),t.classList.add("is-valid")),n.invalid&&(e.querySelector("invalid-feedback").innerHTML=n.invalid,t.classList.remove("is-valid"),t.classList.add("is-invalid")),n.valid||n.invalid||(t.classList.remove("is-valid"),t.classList.remove("is-invalid"),e.querySelector("invalid-feedback").innerHTML="",e.querySelector("valid-feedback").innerHTML="")}}),Shiny.inputBindings.register(y,"yonder.groupSelectInputBinding");var b=new Shiny.InputBinding;$.extend(b,{find:function(e){return e.querySelectorAll(".yonder-textual[id]")},getValue:function(e){var n=e.children[0];return""===n.value?null:"number"===n.type?Number(n.value):n.value},subscribe:function(e,n){var t=$(e);t.on("change.yonder",function(e){return n(!0)}),t.on("input.yonder",function(e){return n(!0)}),t.on("textual.value.yonder",function(e){return n(!0)})},unsubscribe:function(e){return $(e).off(".yonder")},getRatePolicy:function(){return{policy:"debounce",delay:250}},receiveMessage:function(e,n){null!==n.value&&(e.querySelector("input").value=n.value,$(e).trigger("textual.value.yonder")),n.enable&&e.children[0].removeAattribute("disabled"),n.disable&&e.children[0].setAttribute("disabled",""),n.valid&&(e.querySelector(".valid-feedback").innerHTML=n.valid,e.classList.remove("is-invalid"),e.classList.add("is-valid")),n.invalid&&(e.querySelector(".invalid-feedback").innerHTML=n.invalid,e.classList.remove("is-valid"),e.classList.add("is-invalid")),n.valid||n.invalid||(e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".invalid-feedback").innerHTML="",e.children[0].classList.remove("is-valid"),e.children[0].classList.remove("is-invalid"))}}),Shiny.inputBindings.register(b,"yonder.textualInput");var h=new Shiny.InputBinding;$.extend(h,{find:function(e){return e.querySelectorAll(".yonder-group-text[id]")},getValue:function(e){var n=e.querySelectorAll(".input-group-prepend .input-group-text, input, .input-group-append .input-group-text");return Array.prototype.slice.call(n).map(function(e){return/^(DIV|SPAN)$/.test(e.tagName)?e.innerText:e.value||null}).filter(function(e){return null!==e})},getType:function(){return"yonder.group"},getRatePolicy:function(e){return{policy:"debounce",delay:250}},subscribe:function(e,n){var t=$(e);0<e.querySelectorAll(".btn").length?(t.on("click",".dropdown-item",function(e){return n()}),t.on("click",".btn:not(.dropdown-toggle",function(e){return n()})):(t.on("input",function(e){return n(!0)}),t.on("change",function(e){return n(!0)}))},receiveMessage:function(e,n){var t=e.querySelector("input");n.value&&(t.value=n.value),n.enable&&t.removeAttribute("disabled"),n.disable&&t.setAttribute("disabled",""),n.valid&&(e.querySelector("valid-feedback").innerHTML=n.valid,t.classList.remove("is-invalid"),t.classList.add("is-valid")),n.invalid&&(e.querySelector("invalid-feedback").innerHTML=n.invalid,t.classList.remove("is-valid"),t.classList.add("is-invalid")),n.valid||n.invalid||(t.classList.remove("is-valid"),t.classList.remove("is-invalid"),e.querySelector("invalid-feedback").innerHTML="",e.querySelector("valid-feedback").innerHTML="")}}),Shiny.inputBindings.register(h,"yonder.groupTextInput"),Shiny.addCustomMessageHandler("yonder:collapse",function(e){if(void 0===e.type||void 0===e.data||void 0===e.data.target)return!1;if("show"!==e.type&&"hide"!==e.type&&"toggle"!==e.type)return!1;var n=document.getElementById(e.data.target);return null!==n&&($(n).collapse(e.type),!0)}),Shiny.addCustomMessageHandler("yonder:element",function(e){var n,t;e.type&&("render"===e.type?function(e){e.dependencies&&Shiny.renderDependencies(e.dependencies);var n=document.getElementById(e.target);n&&n.classList.contains("yonder-element")&&(Shiny.unbindAll(n),n.innerHTML=e.content,Shiny.initializeInputs(n),Shiny.bindAll(n))}(e.data):"remove"===e.type?(n=e.data,(t=document.getElementById(n.target))&&t.classList.contains("yonder-element")&&(Shiny.unbindAll(t),t.innerHTML="")):console.warn("no element "+e.type+" method"))}),Shiny.addCustomMessageHandler("yonder:modal",function(e){if(void 0===e.type)return!1;var t,i,n;"close"===e.type?(n=e.data,$(document.getElementById(n.id)).modal("hide")):"show"===e.type?(t=e.data,i=document.getElementById(t.id),t.exprs&&Object.keys(t.exprs).forEach(function(e){var n=i.querySelector("span[data-target='"+t.id+"__"+e+"']");n&&(n.innerHTML=t.exprs[e])}),$(i).modal("show")):"register"===e.type?function(t){var e=document.createElement("div");e.classList.add("modal"),e.classList.add("fade"),e.setAttribute("tabindex",-1),e.setAttribute("role","dialog"),e.setAttribute("id",t.id),void 0!==t.dependencies&&Shiny.renderDependencies(t.dependencies),document.body.appendChild(e);var n=t.content.replace(/[{]\s*([a-z0-9_.]+)\s*[}]/g,function(e,n){return"<span data-target='"+t.id+"__"+n+"'></span>"});e.insertAdjacentHTML("afterbegin",n),Shiny.initializeInputs(e),Shiny.bindAll(e)}(e.data):console.warn("no modal "+e.type+" method")}),$(function(){document.body.insertAdjacentHTML("beforeend","<div class='toasts'></div>"),$(".toasts").on("hidden.bs.toast",".toast",function(e){if(e.currentTarget.hasAttribute("data-action")){var n=e.currentTarget.getAttribute("data-action");Shiny.onInputChange(n,!0),setTimeout(function(){return Shiny.onInputChange(n,null)},100)}e.delegateTarget.removeChild(e.currentTarget)})}),Shiny.addCustomMessageHandler("yonder:toast",function(e){var n,t;e.type&&("show"===e.type?(t=e.data,document.querySelector(".toasts").insertAdjacentHTML("beforeend",t.content),$(".toasts > .toast:last-child").toast("show")):"close"===e.type?(e.data,(n=document.querySelectorAll(".toasts .toast")).length&&$(n).toast("hide")):console.warn("no toast "+e.type+" method"))}),$(function(){$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),$(document).on("shiny:connected",function(){$('.yonder-submit[data-type="submit"]').attr("type","submit")}),Shiny.addCustomMessageHandler("yonder:popover",function(e){if(void 0!==e.data.target){if("show"==e.type){var n=e.data,t=$("#"+n.target);return t.popover({title:function(){},content:function(){},template:n.content,placement:n.placement,trigger:"manual"}),n.duration&&setTimeout(function(){return t.popover("hide")},n.duration),void t.popover("show")}"close"!=e.type||$("#"+e.data.id).popover("hide")}}),Shiny.addCustomMessageHandler("yonder:download",function(n){if(!(n.filename&&n.token&&n.key))throw"invalid download event";var e="/session/"+n.token+"/download/"+n.key,t=window.navigator.userAgent;if(!0===/MSIE/.test(t)){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){return saveAs(i.response,n.filename)},i.send()}else fetch(e).then(function(e){return e.blob()}).then(function(e){saveAs(e,n.filename)})})})});